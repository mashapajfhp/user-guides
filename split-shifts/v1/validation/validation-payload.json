{
  "nextVersion": "v1",
  "feature_info": {
    "feature_name": "split_shifts",
    "feature_slug": "split-shifts",
    "next_version": "v1"
  },
  "primary_entity": {
    "discovery_instructions": [
      "Identify what the main item/entity is for this feature (e.g., ticket, workflow, employee, record)",
      "Look for list/table views - the rows represent the primary entity",
      "Check page headers and breadcrumbs for entity naming",
      "Note the singular and plural forms used in the UI"
    ],
    "crud_operations": {
      "create": {
        "action": "Create new item",
        "find_trigger": [
          "Look for buttons with: + Add, + Create, + New, plus icon",
          "Check top-right corner of the page",
          "Check for floating action buttons (FAB)",
          "Look in empty state messages for create prompts"
        ],
        "validation": "New item appears in list with unique identifier"
      },
      "read": {
        "action": "View item details",
        "find_trigger": [
          "Click on any row in a list/table",
          "Look for 'View' or eye icon buttons",
          "Check if rows are clickable (cursor changes)"
        ],
        "validation": "Detail panel, modal, or page opens showing full information"
      },
      "update": {
        "action": "Edit/modify item",
        "find_trigger": [
          "Look for Edit button, pencil icon",
          "Check for inline editing (click on field to edit)",
          "Look for status change dropdowns or buttons",
          "Check action menus (three-dot menu) for edit option"
        ],
        "validation": "Changes persist after save, reflected in list view"
      },
      "delete": {
        "action": "Delete/remove item",
        "find_trigger": [
          "Look for Delete button, trash icon",
          "Check action menus (three-dot menu) for delete option",
          "Look for bulk delete with checkboxes",
          "Some features use 'Archive' or 'Cancel' instead of delete"
        ],
        "validation": "Item removed from list or status changed to deleted/archived"
      }
    }
  },
  "exploration_phase": {
    "enabled": true,
    "run_before_what_to_do": true,
    "instructions": [
      "Navigate to the feature's main section",
      "Take a full page snapshot to understand the layout",
      "Identify the primary entity",
      "Find ALL clickable elements: buttons, links, tabs, dropdowns, icons",
      "Map the navigation structure: tabs, sidebar items, breadcrumbs",
      "Click each tab/sub-section and document what appears",
      "Locate CRUD controls for the primary entity",
      "Check for action menus (three-dot menus, right-click menus)",
      "Document any modals, dialogs, slide-out panels",
      "Identify form fields and input types when forms appear",
      "Look for filters, search, sort, and export options",
      "Check for bulk action controls (checkboxes, select all)",
      "Note any settings or configuration options"
    ],
    "discovery_targets": [
      "Primary action buttons (create/add new item)",
      "List/table of items with row actions",
      "Detail view or edit forms",
      "Status indicators and state changes",
      "Filter and search controls",
      "Navigation tabs within the feature",
      "Settings or configuration sections",
      "Related features or cross-links"
    ]
  },
  "prd_context": {
    "how_it_works_summary": [
      "Administrators create split shifts that divide work into two or more segments with breaks between them.",
      "Multiple shifts can be scheduled consecutively for 24-hour operations to optimize staffing.",
      "System tracks attendance (check-in/out) and calculates late/early/absent status independently per shift."
    ],
    "key_actions_steps": [
      "Create first shift for employee with work timing and office.",
      "Attempt to create second shift on same day.",
      "System validates no overlap with same day, day before, or day after shifts.",
      "System validates no day off exists on that day.",
      "Save second shift if validation passes.",
      "Employee checks in and out independently for each shift.",
      "System calculates occurrences and attendance status separately per shift."
    ],
    "rules_limitations_constraints": [
      "Maximum 2 shifts per day (Phase 1).",
      "No overlap allowed with shifts on same day, day before, or day after.",
      "Cannot schedule second shift if day off or day off with check-in allowed exists.",
      "No minimum gap required between multiple shifts.",
      "Biometric check-in works with existing threshold logic.",
      "Each shift treated independently for attendance calculations."
    ],
    "data_inputs_required": [
      "First and second shift work timing (start/end) and office location.",
      "Check-in and check-out timestamps per shift.",
      "Configuration for time window between consecutive shifts (Phase 2)."
    ],
    "edge_cases_warnings": [
      "Back-to-back shifts checkout handling with configurable window (Phase 2).",
      "Deduction policy complexity for absenteeism across multiple shifts.",
      "Day off presence blocks all second shift creation in Phase 1."
    ],
    "hierarchical_task_analysis": [
      "Shift Scheduling: Create first shift, then second shift with validations.",
      "Employee Check-in/Check-out: Independent per shift with back-to-back handling.",
      "Attendance Tracking: Calculate late/early/absent and occurrences per shift."
    ]
  },
  "detected_integrations": {
    "has_workflows": null,
    "workflow_evidence": "No evidence found",
    "has_approval_flow": null,
    "approval_evidence": "No evidence found"
  },
  "workflow_exploration": {
    "enabled": true,
    "priority": "optional",
    "evidence": "No evidence found",
    "check_instructions": [
      "Navigate to Automations in the left sidebar",
      "Click on Workflows",
      "Click + Create workflow (or similar create button)",
      "In trigger selection, search for this feature's name",
      "Check if this feature appears as a trigger source",
      "Document any trigger events found (e.g., 'item created', 'status changed')",
      "Check Actions section for actions related to this feature",
      "Screenshot available triggers and actions"
    ],
    "nav_path": "Automations → Workflows → + Create workflow"
  },
  "approval_flow_exploration": {
    "enabled": true,
    "priority": "optional",
    "evidence": "No evidence found",
    "check_instructions": [
      "Look for 'Approval' or 'Pending Approval' status in the feature",
      "Check if items have approval workflow indicators",
      "Look for 'Submit for Approval' buttons or actions",
      "Find approval settings in feature configuration",
      "Document the approval chain (who approves what)",
      "Test approval/rejection flow if test data available",
      "Check for approval history or audit trail",
      "Screenshot approval-related UI elements"
    ],
    "detection_signals": [
      "Status dropdown with 'Pending Approval' option",
      "Approve/Reject buttons",
      "Approval history section",
      "'Requires approval' toggle in settings",
      "Approver assignment fields"
    ]
  },
  "execution_order": [
    "1. EXPLORATION: Navigate to feature and discover all UI elements",
    "2. IDENTIFY ENTITY: Determine what the primary item/entity is",
    "3. CRUD TEST: Test create, read, update, delete for the primary entity",
    "4. WORKFLOW CHECK: Verify if feature has workflow triggers/actions",
    "5. APPROVAL FLOW: Test approval process if present",
    "6. WHAT_TO_DO: Execute specific validation tasks from payload",
    "7. WHAT_TO_WATCH_OUT_FOR: Validate constraints, limitations, and edge cases",
    "8. DOCUMENTATION: Capture screenshots of key screens"
  ],
  "what_to_watch_out_for": [
    {
      "issue": "Timesheets module cannot handle time entries spanning multiple calendar days, requiring manual split of overnight shifts.",
      "limitation": "Time entries spanning midnight are not supported, causing administrative overhead and tracking complexity.",
      "workaround": "Manually split overnight shifts into separate entries per calendar day.",
      "jira_reference": "TSSD-4285",
      "severity": "High"
    },
    {
      "issue": "Overtime scheduling (T&P adjustments) blocked for employees with multiple published shifts.",
      "limitation": "System does not support scheduling overtime when multiple shifts exist in a day.",
      "workaround": "No known workaround; limitation intentional at feature launch.",
      "jira_reference": "TSSD-4078",
      "severity": "High"
    },
    {
      "issue": "Timesheet module lacks sorting of occurrences by time for split shifts.",
      "limitation": "Cannot sort payroll occurrences chronologically for multiple shifts.",
      "workaround": "Manual review required to manage payroll entries.",
      "jira_reference": "TSSD-2592",
      "severity": "Medium"
    },
    {
      "issue": "Attendance time tracking system causes day offset errors for check-in/out times spanning midnight.",
      "limitation": "No proper date picker for shift time tracking, causing inconsistent time calculations.",
      "workaround": "Manual correction or awareness of offset during data entry.",
      "jira_reference": "OS-623",
      "severity": "Medium"
    },
    {
      "issue": "Shift Scheduler UI does not support creating split shifts directly from shift cell.",
      "limitation": "Users cannot create split shifts via current interface, limiting scheduling flexibility.",
      "workaround": "Use alternative scheduling methods or wait for feature enhancement.",
      "jira_reference": "OS-299, OS-154",
      "severity": "Medium"
    },
    {
      "issue": "Active shifts not displayed as consolidated blocks in attendance reports.",
      "limitation": "Visual inconsistency in shift representation across time periods.",
      "workaround": "Users must interpret shifts individually.",
      "jira_reference": "OS-605",
      "severity": "Low"
    }
  ],
  "playwright_context": {
    "feature_metadata": {
      "name": "Split Shifts",
      "slug": "split-shifts",
      "category": "time",
      "version": "",
      "is_new": null
    },
    "prd_context": {
      "how_it_works_summary": [
        "Administrators create split shifts that divide work into two or more segments with breaks between them.",
        "Multiple shifts can be scheduled consecutively for 24-hour operations to optimize staffing.",
        "System tracks attendance (check-in/out) and calculates late/early/absent status independently per shift."
      ],
      "key_actions_steps": [
        "Create first shift for employee with work timing and office.",
        "Attempt to create second shift on same day.",
        "System validates no overlap with same day, day before, or day after shifts.",
        "System validates no day off exists on that day.",
        "Save second shift if validation passes.",
        "Employee checks in and out independently for each shift.",
        "System calculates occurrences and attendance status separately per shift."
      ],
      "rules_limitations_constraints": [
        "Maximum 2 shifts per day (Phase 1).",
        "No overlap allowed with shifts on same day, day before, or day after.",
        "Cannot schedule second shift if day off or day off with check-in allowed exists.",
        "No minimum gap required between multiple shifts.",
        "Biometric check-in works with existing threshold logic.",
        "Each shift treated independently for attendance calculations."
      ],
      "data_inputs_required": [
        "First and second shift work timing (start/end) and office location.",
        "Check-in and check-out timestamps per shift.",
        "Configuration for time window between consecutive shifts (Phase 2)."
      ],
      "edge_cases_warnings": [
        "Back-to-back shifts checkout handling with configurable window (Phase 2).",
        "Deduction policy complexity for absenteeism across multiple shifts.",
        "Day off presence blocks all second shift creation in Phase 1."
      ],
      "hierarchical_task_analysis": [
        "Shift Scheduling: Create first shift, then second shift with validations.",
        "Employee Check-in/Check-out: Independent per shift with back-to-back handling.",
        "Attendance Tracking: Calculate late/early/absent and occurrences per shift."
      ]
    },
    "detected_integrations": {
      "has_workflows": null,
      "workflow_evidence": "No evidence found",
      "has_approval_flow": null,
      "approval_evidence": "No evidence found"
    },
    "what_to_do": [
      {
        "task": "Schedule split shifts for employees ensuring no overlap and no day off conflicts, then manage independent check-in and check-out per shift.",
        "steps": [
          "Access Shift Scheduler under Time view.",
          "Select work center and date range.",
          "Create first shift with work timing and office location.",
          "Create second shift on same day ensuring no overlap with existing shifts or day off.",
          "Save shifts as draft or publish.",
          "Notify employees via push notification.",
          "Employees check in and out independently for each shift."
        ],
        "expected_outcome": "Split shifts are scheduled without overlap or day off conflicts, attendance is tracked independently per shift, and employees receive notifications.",
        "source_articles": [
          "24884949722385"
        ]
      }
    ],
    "what_to_watch_out_for": [
      {
        "issue": "Timesheets module cannot handle time entries spanning multiple calendar days, requiring manual split of overnight shifts.",
        "limitation": "Time entries spanning midnight are not supported, causing administrative overhead and tracking complexity.",
        "workaround": "Manually split overnight shifts into separate entries per calendar day.",
        "jira_reference": "TSSD-4285",
        "severity": "High"
      },
      {
        "issue": "Overtime scheduling (T&P adjustments) blocked for employees with multiple published shifts.",
        "limitation": "System does not support scheduling overtime when multiple shifts exist in a day.",
        "workaround": "No known workaround; limitation intentional at feature launch.",
        "jira_reference": "TSSD-4078",
        "severity": "High"
      },
      {
        "issue": "Timesheet module lacks sorting of occurrences by time for split shifts.",
        "limitation": "Cannot sort payroll occurrences chronologically for multiple shifts.",
        "workaround": "Manual review required to manage payroll entries.",
        "jira_reference": "TSSD-2592",
        "severity": "Medium"
      },
      {
        "issue": "Attendance time tracking system causes day offset errors for check-in/out times spanning midnight.",
        "limitation": "No proper date picker for shift time tracking, causing inconsistent time calculations.",
        "workaround": "Manual correction or awareness of offset during data entry.",
        "jira_reference": "OS-623",
        "severity": "Medium"
      },
      {
        "issue": "Shift Scheduler UI does not support creating split shifts directly from shift cell.",
        "limitation": "Users cannot create split shifts via current interface, limiting scheduling flexibility.",
        "workaround": "Use alternative scheduling methods or wait for feature enhancement.",
        "jira_reference": "OS-299, OS-154",
        "severity": "Medium"
      },
      {
        "issue": "Active shifts not displayed as consolidated blocks in attendance reports.",
        "limitation": "Visual inconsistency in shift representation across time periods.",
        "workaround": "Users must interpret shifts individually.",
        "jira_reference": "OS-605",
        "severity": "Low"
      }
    ],
    "consolidation_summary": {
      "prds_received": 1,
      "prds_consolidated": 1,
      "zendesk_articles_received": 1,
      "tasks_consolidated": 1,
      "jira_tickets_received": 7,
      "jira_tickets_consolidated": 6
    }
  }
}