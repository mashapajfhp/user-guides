{
  "nextVersion": "v1",
  "feature_info": {
    "feature_name": "Leave Policy",
    "feature_slug": "leave_policy",
    "feature_slug_hyphen": "leave-policy",
    "category": "prd",
    "next_version": "v1",
    "is_new_feature": true,
    "canonical_path": "Payroll > Leave Salary",
    "total_sub_features": 3,
    "github_path": "leave-policy/v1"
  },
  "version_info": {
    "next_version": "v1",
    "latest_version": null,
    "existing_versions": [],
    "is_first_version": true,
    "output_folder": "leave-policy/v1"
  },
  "navigation_map": [
    {
      "id": "9b78d08a-8037-4493-b0ae-69fd965d3618",
      "url": null,
      "label": "Leave Salary",
      "purpose": "Main entry point for this feature",
      "audience": "both",
      "category": "payroll",
      "nav_level": 2,
      "guide_role": "primary",
      "canonical_path": "Payroll > Leave Salary",
      "include_reason": "primary_match",
      "navigation_steps": null
    },
    {
      "id": "5e60ac50-7f18-47f3-a2a3-56cbe945ad41",
      "url": "/enterprise/payroll/leave-salary",
      "label": "Leave Salary",
      "purpose": "Sub-feature of Leave Salary",
      "audience": "both",
      "category": "payroll",
      "nav_level": 3,
      "guide_role": "child",
      "canonical_path": "Payroll > Leave Salary > Leave Salary",
      "include_reason": "child_of_primary",
      "navigation_steps": [
        "Payroll",
        "Payroll",
        "Leave salary"
      ]
    },
    {
      "id": "a30771f7-5fc5-4817-bd82-a9edbcb03586",
      "url": null,
      "label": "Leaves",
      "purpose": "Leave salary calculation (annual leave pay before travel)",
      "audience": "both",
      "category": "time",
      "priority": 3,
      "nav_level": 2,
      "guide_role": "payroll_integration",
      "canonical_path": "Time > Leaves",
      "include_reason": "outgoing_cross_ref",
      "navigation_steps": null
    }
  ],
  "primary_entry": {
    "id": "9b78d08a-8037-4493-b0ae-69fd965d3618",
    "url": null,
    "label": "Leave Salary",
    "purpose": "Main entry point for this feature",
    "audience": "both",
    "category": "payroll",
    "nav_level": 2,
    "guide_role": "primary",
    "canonical_path": "Payroll > Leave Salary",
    "include_reason": "primary_match",
    "navigation_steps": null
  },
  "child_features": [
    {
      "id": "5e60ac50-7f18-47f3-a2a3-56cbe945ad41",
      "url": "/enterprise/payroll/leave-salary",
      "label": "Leave Salary",
      "purpose": "Sub-feature of Leave Salary",
      "audience": "both",
      "category": "payroll",
      "nav_level": 3,
      "guide_role": "child",
      "canonical_path": "Payroll > Leave Salary > Leave Salary",
      "include_reason": "child_of_primary",
      "navigation_steps": [
        "Payroll",
        "Payroll",
        "Leave salary"
      ]
    }
  ],
  "primary_entity": {
    "discovery_instructions": [
      "Identify what the main item/entity is for this feature (e.g., employee record, document, invitation)",
      "Look for list/table views - the rows represent the primary entity",
      "Check page headers and breadcrumbs for entity naming",
      "Note the singular and plural forms used in the UI"
    ],
    "crud_operations": {
      "create": {
        "action": "Create new item",
        "find_trigger": [
          "Look for buttons with: + Add, + Create, + New, plus icon",
          "Check top-right corner of the page",
          "Check for floating action buttons (FAB)",
          "Look in empty state messages for create prompts"
        ],
        "validation": "New item appears in list with unique identifier"
      },
      "read": {
        "action": "View item details",
        "find_trigger": [
          "Click on any row in a list/table",
          "Look for 'View' or eye icon buttons",
          "Check if rows are clickable (cursor changes)"
        ],
        "validation": "Detail panel, modal, or page opens showing full information"
      },
      "update": {
        "action": "Edit/modify item",
        "find_trigger": [
          "Look for Edit button, pencil icon",
          "Check for inline editing (click on field to edit)",
          "Look for status change dropdowns or buttons",
          "Check action menus (three-dot menu) for edit option"
        ],
        "validation": "Changes persist after save, reflected in list view"
      },
      "delete": {
        "action": "Delete/remove item",
        "find_trigger": [
          "Look for Delete button, trash icon",
          "Check action menus (three-dot menu) for delete option",
          "Look for bulk delete with checkboxes",
          "Some features use 'Archive' or 'Cancel' instead of delete"
        ],
        "validation": "Item removed from list or status changed to deleted/archived"
      }
    }
  },
  "exploration_phase": {
    "enabled": true,
    "run_before_what_to_do": true,
    "instructions": [
      "Navigate to the feature's main section using the navigation_map",
      "Take a full page snapshot to understand the layout",
      "Identify the primary entity",
      "Find ALL clickable elements: buttons, links, tabs, dropdowns, icons",
      "Map the navigation structure: tabs, sidebar items, breadcrumbs",
      "Click each tab/sub-section and document what appears",
      "Locate CRUD controls for the primary entity",
      "Check for action menus (three-dot menus, right-click menus)",
      "Document any modals, dialogs, slide-out panels",
      "Identify form fields and input types when forms appear",
      "Look for filters, search, sort, and export options",
      "Check for bulk action controls (checkboxes, select all)",
      "Note any settings or configuration options"
    ],
    "discovery_targets": [
      "Primary action buttons (create/add new item)",
      "List/table of items with row actions",
      "Detail view or edit forms",
      "Status indicators and state changes",
      "Filter and search controls",
      "Navigation tabs within the feature",
      "Settings or configuration sections",
      "Related features or cross-links"
    ]
  },
  "content_clusters": [
    {
      "cluster_id": "CLU-001",
      "topic": "Unpaid Leave Deductions & Payroll Integration",
      "articles": [
        "14244040988689"
      ],
      "prds": [
        "3657400418",
        "3578691892",
        "3686498340"
      ],
      "nav_entries": [],
      "consolidation_notes": "Article on unpaid leave deductions consolidated with PRDs covering dynamic pay rates, leave salary processing, and payroll integration. All sources address how leave policies interact with payroll calculations.",
      "wtd_ids": [
        "WTD-001",
        "WTD-002"
      ],
      "wof_ids": [
        "WOF-007"
      ]
    },
    {
      "cluster_id": "CLU-002",
      "topic": "Leave Approval Workflows (Standard & Advanced)",
      "articles": [],
      "prds": [
        "3705470977",
        "3723460609"
      ],
      "nav_entries": [],
      "consolidation_notes": "Two PRDs covering standard company-wide approval flows and advanced customizable flows by policy/department/office. Both address approval routing, multiple approvers, and sequential/parallel processing.",
      "wtd_ids": [
        "WTD-004",
        "WTD-005"
      ],
      "wof_ids": [
        "WOF-009",
        "WOF-010",
        "WOF-011"
      ]
    },
    {
      "cluster_id": "CLU-003",
      "topic": "Hourly & Partial-Day Leave Options",
      "articles": [],
      "prds": [
        "3939139585"
      ],
      "nav_entries": [],
      "consolidation_notes": "PRD-only cluster covering hourly leave feature enabling sub-day leave requests with hour-to-day conversion and attendance integration.",
      "wtd_ids": [
        "WTD-006"
      ]
    },
    {
      "cluster_id": "CLU-004",
      "topic": "Leave Policy Configuration & Tenure-Based Allowances",
      "tickets": [
        "AV-8781",
        "AV-8995",
        "AV-8387",
        "AV-8526",
        "AV-8638",
        "AV-8785",
        "AV-8235",
        "AV-8299"
      ],
      "consolidation_notes": "Grouped tickets related to HR Admin configuration workflows during leave policy setup, including policy creation, modification, reconfiguration, and notification of changes. Includes feature gaps in tenure exclusion, migration, historical retention, sorting, approval workflows, and tenure-based calculations.",
      "wof_ids": [
        "WOF-001",
        "WOF-002",
        "WOF-003",
        "WOF-004",
        "WOF-008"
      ],
      "wtd_ids": [
        "WTD-003"
      ]
    },
    {
      "cluster_id": "CLU-005",
      "topic": "Leave Request & Balance Visibility",
      "tickets": [
        "AV-8786",
        "AV-8710",
        "AV-8035",
        "AV-8036",
        "AV-9826"
      ],
      "consolidation_notes": "Grouped tickets related to employee and manager visibility of leave requests, balances, and policy details. Includes feature gaps in historical access after policy removal, balance breakdown views, manager filtering by direct reports, and employee policy transparency.",
      "wof_ids": [
        "WOF-005",
        "WOF-006"
      ]
    },
    {
      "cluster_id": "CLU-006",
      "topic": "Policy Management & Data Integrity",
      "tickets": [
        "AV-9125",
        "AV-9903",
        "AV-755"
      ],
      "consolidation_notes": "Grouped tickets related to data persistence and calculation accuracy when leave requests interact with payroll and leave cycles. Includes feature gaps in retaining deduction details after deletion, calendar counting logic, and overlapping leave cycle handling.",
      "wof_ids": [
        "WOF-006",
        "WOF-013"
      ]
    },
    {
      "cluster_id": "CLU-007",
      "topic": "Leave Encashment & Salary Management",
      "tickets": [
        "OS-57",
        "OS-55",
        "OS-482",
        "OS-193",
        "OS-313"
      ],
      "consolidation_notes": "Consolidated tickets addressing absence of leave encashment request workflows, automated salary processing, and reporting capabilities. Multiple tickets indicate strategic 'Won't Do' decisions around encashment automation.",
      "wof_ids": [
        "WOF-009"
      ]
    },
    {
      "cluster_id": "CLU-008",
      "topic": "Leave Balance Calculation & Validation Gaps",
      "tickets": [
        "AV-9095",
        "OS-236",
        "AV-8746"
      ],
      "consolidation_notes": "Grouped tickets revealing calculation errors and validation gaps when leave policies interact with public holidays, zero-accrual scenarios, and negative balance prevention.",
      "wof_ids": [
        "WOF-010"
      ]
    },
    {
      "cluster_id": "CLU-009",
      "topic": "Employee Portal UX & Information Display",
      "tickets": [
        "AV-8398",
        "AV-9901",
        "AV-9484"
      ],
      "consolidation_notes": "Grouped tickets revealing static UI elements, text truncation issues, and missing deep-linking in email communications that affect employee experience.",
      "wof_ids": [
        "WOF-012"
      ]
    },
    {
      "cluster_id": "CLU-010",
      "topic": "Policy Change Impact & Notification Gaps",
      "tickets": [
        "AV-7563",
        "OS-239"
      ],
      "consolidation_notes": "Grouped tickets revealing lack of mechanisms to handle complex policy scenarios and missing automated notifications to payroll managers when leave salary is enabled.",
      "wof_ids": [
        "WOF-014"
      ]
    }
  ],
  "prd_context": {},
  "product_context": [
    {
      "prd_id": "3657400418",
      "title": "Opp Assessment: Leaves Configuration Phase 2",
      "url": "https://bayzat.atlassian.net/wiki/spaces/PROD/pages/3657400418/Opp+Assessment+Leaves+Configuration+Phase+2",
      "why_built": "Improve integration between Leaves and Payroll modules by automating partial/dynamic pay rate calculations for leave policies. Users need to comply with UAE & KSA labor laws requiring different pay rates based on total leave days taken (sick leave, maternity leave), eliminate manual payroll deductions for partial pay periods, and manage leave policies without creating multiple policies for different pay rate scenarios.",
      "key_design_decisions": [
        "Dynamic pay rate configuration based on total leave days taken enables labor law compliance without multiple policies",
        "Conditional pay rates for sick/maternity leave provide flexibility for different leave types",
        "Payroll deduction automation eliminates manual adjustment steps",
        "Enhanced balance breakdown on mobile provides employee visibility",
        "Future phases will enable updating existing policy configurations and pausing accrual during unpaid leave"
      ],
      "related_wtds": [
        "WTD-001",
        "WTD-002"
      ]
    },
    {
      "prd_id": "3625746433",
      "title": "Opp Assessment: Leaves Configuration Phase 1",
      "url": "https://bayzat.atlassian.net/wiki/spaces/PROD/pages/3625746433/Opp+Assessment+Leaves+Configuration+Phase+1",
      "why_built": "Implement dynamic leave allowance configuration that automatically adjusts based on employee total job tenure, ensuring compliance with UAE and KSA labor laws. Eliminate manual policy switching and leave adjustments by providing automated tenure-based allowance calculations and pre-built labor law compliant leave policy templates.",
      "key_design_decisions": [
        "Pre-built labor law compliant templates (UAE/KSA) reduce configuration burden for HR",
        "Dynamic allowance tiers based on tenure thresholds eliminate need for multiple policies",
        "Automatic allowance adjustment when tenure threshold crossed provides compliance without manual intervention",
        "Policy descriptions provide transparency to employees about their entitlements",
        "Future phases will enable updating existing policy configurations without employee migration"
      ],
      "related_wtds": [
        "WTD-003"
      ]
    },
    {
      "prd_id": "3705470977",
      "title": "Opp Assessment: Leaves Approval Flow (Standard)",
      "url": "https://bayzat.atlassian.net/wiki/spaces/PROD/pages/3705470977/Opp+Assessment+Leaves+Approval+Flow+Standard",
      "why_built": "The existing leave approval flow lacked customization, forcing companies to use hacky workarounds. Organizations needed definable approval steps, sequential approval enforcement, multiple approvers for redundancy when someone is unavailable, and an ultimate approver for urgent situations.",
      "key_design_decisions": [
        "Company-wide single approval configuration simplifies setup for small/medium organizations",
        "Multiple approvers per step provide redundancy without requiring advanced customization",
        "Sequential vs parallel approval options balance control with flexibility",
        "Ultimate approver role enables urgent approvals without bypassing all controls",
        "Notification system delivers alerts to appropriate approvers at each step"
      ],
      "related_wtds": [
        "WTD-004"
      ]
    },
    {
      "prd_id": "3723460609",
      "title": "Opp Assessment: Leaves Approval Flow (Advanced)",
      "url": "https://bayzat.atlassian.net/wiki/spaces/PROD/pages/3723460609/Opp+Assessment+Leaves+Approval+Flow+Advanced",
      "why_built": "Organizations needed different leave approval workflows based on leave policy type, department, or office. The standard approval flow was too rigid for complex business structures that required custom roles and multiple approval levels tailored to their organizational hierarchy.",
      "key_design_decisions": [
        "Custom roles (Sales Director, CEO, Department Manager, Office Manager) enable matching real business practices",
        "Policy/department/office-based workflow variations support complex organizational structures",
        "Line Manager levels as approvers auto-assign based on organizational structure",
        "Delegation/workaround features handle approver unavailability without bottlenecks",
        "Advanced flow extends standard flow for organizations with complex needs"
      ],
      "related_wtds": [
        "WTD-005"
      ]
    },
    {
      "prd_id": "3578691892",
      "title": "Leave Salary Product Opportunity Assessment",
      "url": "https://bayzat.atlassian.net/wiki/spaces/PROD/pages/3578691892/Leave+Salary+Product+Opportunity+Assessment",
      "why_built": "Enable companies to process advance leave salary payments within Bayzat payroll, eliminating manual Excel-based tracking. In UAE and KSA, employees (especially blue-collar workers traveling home) receive salary for paid leave before the leave starts to cover travel expenses. Currently payroll managers spend considerable time managing this separately, causing some employers to abandon the practice and customers to avoid Bayzat payroll.",
      "key_design_decisions": [
        "Single entry point through leave request module simplifies workflow",
        "Configurable allowances and deductions in leave salary formula provide flexibility",
        "Automatic leave salary request creation (when enabled) reduces manual steps",
        "Salary proration handles partial month scenarios",
        "WPS/SIF file generation ensures compliance reporting",
        "Out-of-payroll transaction option accommodates different processing preferences"
      ],
      "related_wtds": [
        "WTD-002"
      ]
    },
    {
      "prd_id": "3686498340",
      "title": "Leave Salary PRD",
      "url": "https://bayzat.atlassian.net/wiki/spaces/PROD/pages/3686498340/Leave+Salary+PRD",
      "why_built": "In UAE and KSA, employees especially blue-collar workers traveling home need advance vacation salaries before their leave starts. Companies were managing this separately in Excel, causing friction and potentially losing customers who needed integrated leave salary processing.",
      "key_design_decisions": [
        "Leave salary and encashment toggles are independent, allowing flexible configuration",
        "Probation restrictions prevent leave salary for employees on probation",
        "Salary proration calculates pay for days worked in the month",
        "Restriction to Paid leave types prevents unpaid leave from enabling leave salary",
        "Multiple paid vacation types can be combined into one leave salary setting"
      ],
      "related_wtds": [
        "WTD-002"
      ]
    },
    {
      "prd_id": "3939139585",
      "title": "PRD: Hourly Leaves",
      "url": "https://bayzat.atlassian.net/wiki/spaces/PROD/pages/3939139585/PRD+Hourly+Leaves",
      "why_built": "Employees often need time off for short periods like medical appointments or personal errands but must currently take a full day of leave. This wastes leave balance and reduces workforce availability. Hourly leave provides flexibility for employees while enabling precise time-off tracking for employers, improving work-life balance and workforce management.",
      "key_design_decisions": [
        "Configurable hours-to-day conversion rate (e.g., 9 hours = 1 day) accommodates different work schedules",
        "Hourly leave option appears alongside half-day toggle for familiar UX",
        "From/To timestamps are for record purposes only, not attendance check-in/check-out",
        "Hourly leave overrides day off but does not override shifts",
        "Attendance system adjusts late arrival/early departure evaluation based on hourly leave timing",
        "Shift schedulers see icons/messaging indicating hourly leave on shift cells"
      ],
      "related_wtds": [
        "WTD-006"
      ]
    }
  ],
  "detected_integrations": [
    {
      "integration": "Payroll Module",
      "type": "approval_workflow",
      "description": "Leave policies with unpaid leave deductions calculate daily deduction amounts that are applied to monthly employee pay. Leave salary payments are processed as part of monthly payroll or as out-of-payroll transactions. Payroll table auto-adjusts for employees on leave."
    },
    {
      "integration": "Role Management System",
      "type": "module_dependency",
      "description": "Approval flow configuration depends on role management system to define and assign roles as approvers. Custom roles (Sales Director, CEO, Department Manager, Office Manager) are created and assigned as approvers in advanced approval flows."
    },
    {
      "integration": "Notification System",
      "type": "data_flow",
      "description": "Approvers receive notifications at appropriate approval steps. Notifications are delivered when leave requests are routed to configured approvers based on approval flow steps."
    },
    {
      "integration": "Attendance System",
      "type": "data_flow",
      "description": "Hourly leave timing affects attendance evaluation for late arrival and early departure. System adjusts late arrival/early departure evaluation based on hourly leave start/end times. Attendance system evaluates whether employee was late or left early considering hourly leave periods."
    },
    {
      "integration": "Shift Scheduling",
      "type": "data_flow",
      "description": "Shift schedulers see icons and messaging on shift cells indicating hourly leave. Hourly leave can span across multiple shifts. Shift deletion has no impact on overlapping hourly leaves. Hourly/half-day leaves do not override shifts."
    },
    {
      "integration": "Employee Profile",
      "type": "data_flow",
      "description": "Employee tenure data is used for dynamic leave allowance calculations. Probation status affects leave salary eligibility. Leave balance and accrued days are tracked and displayed to employees."
    },
    {
      "integration": "Leave Management Module",
      "type": "module_dependency",
      "description": "Leave requests serve as single entry point into leave salary process. Leave policies are the foundation for all leave configuration including unpaid leave deductions, dynamic allowances, and hourly leave options. Leave balance is deducted based on approved leave requests."
    },
    {
      "integration": "WPS/SIF Reporting",
      "type": "data_flow",
      "description": "Leave salary transactions are included in wage protection reporting. WPS and non-WPS SIF files are generated including leave salary payment details for compliance."
    },
    {
      "integration": "Accounting/GL",
      "type": "data_flow",
      "description": "Leave salary liabilities are recorded in accounting. Accrual and expense recording for leave salary is required for financial reporting."
    },
    {
      "integration": "Department/Office Structure",
      "type": "module_dependency",
      "description": "Advanced approval flows can be configured per department or office. Department and office structure determines which approval workflow applies to which employees."
    },
    {
      "integration": "Job Tenure Calculation",
      "type": "module_dependency",
      "description": "Leave policy configuration affects job tenure calculations. System lacks capability to exclude specific leave periods from tenure calculations, and tenure-based leave allowance calculations are incomplete."
    },
    {
      "integration": "Leave Cycle Management",
      "type": "module_dependency",
      "description": "Leave requests that overlap two leave cycles cannot be properly split and processed, creating data integrity issues in leave balance tracking."
    },
    {
      "integration": "Approval Workflow Engine",
      "type": "approval_workflow",
      "description": "Leave requests require standardized approval routing. Current system lacks defined approval workflows, manager filtering by direct reports, and clear authorization processes."
    },
    {
      "integration": "Public Holiday Management",
      "type": "data_flow",
      "description": "Leave policy calculations should dynamically recalculate when public holiday configurations are updated, but currently lack this synchronization capability."
    },
    {
      "integration": "Employee Directory",
      "type": "data_flow",
      "description": "Leave policy assignment requires employee identification and selection, but lacks employee ID display during the assignment process."
    },
    {
      "integration": "Email Communication System",
      "type": "module_dependency",
      "description": "Leave request notifications and approvals are sent via email but lack deep-linking capabilities for direct navigation to leave management screens."
    },
    {
      "integration": "Feature Flag System",
      "type": "module_dependency",
      "description": "New leave policy selection modal access depends on explicit 'timeoff-v2' feature flag activation, creating hidden configuration dependencies."
    }
  ],
  "workflow_exploration": {
    "enabled": true,
    "priority": "required",
    "evidence": "Found workflow/automation references in content",
    "check_instructions": [
      "Navigate to Automations in the left sidebar",
      "Click on Workflows",
      "Click + Create workflow (or similar create button)",
      "In trigger selection, search for this feature's name",
      "Check if this feature appears as a trigger source",
      "Document any trigger events found (e.g., 'item created', 'status changed')",
      "Check Actions section for actions related to this feature",
      "Screenshot available triggers and actions"
    ],
    "nav_path": "Automations → Workflows → + Create workflow"
  },
  "approval_flow_exploration": {
    "enabled": true,
    "priority": "required",
    "evidence": "Found approval references in content",
    "check_instructions": [
      "Look for 'Approval' or 'Pending Approval' status in the feature",
      "Check if items have approval workflow indicators",
      "Look for 'Submit for Approval' buttons or actions",
      "Find approval settings in feature configuration",
      "Document the approval chain (who approves what)",
      "Test approval/rejection flow if test data available",
      "Check for approval history or audit trail",
      "Screenshot approval-related UI elements"
    ],
    "detection_signals": [
      "Status dropdown with 'Pending Approval' option",
      "Approve/Reject buttons",
      "Approval history section",
      "'Requires approval' toggle in settings",
      "Approver assignment fields"
    ]
  },
  "what_to_do": [
    {
      "task_id": "WTD-001",
      "task": "Configure Unpaid Leave Deductions for Payroll",
      "persona": "HR Admin | Finance Manager",
      "cluster_id": "CLU-001",
      "steps": [
        "Navigate to Settings > Leaves > Leave Policies",
        "Add new leave policy or edit existing policy",
        "Select Unpaid Leave option as the pay rate type",
        "Choose calculation method: Basic Only or Basic + Allowances",
        "Select day calculation type: calendar days, working days, or custom days",
        "Configure dynamic pay rate if using Phase 2 features (conditional rates based on total leave days for sick/maternity compliance)",
        "Save policy configuration",
        "Assign employees to the policy",
        "Verify payroll integration is enabled for automated deductions"
      ],
      "expected_outcome": "Unpaid leave deductions are configured and will be calculated daily and automatically deducted from employee monthly pay based on selected calculation method and day type. Payroll system receives daily deduction amounts for processing.",
      "rules_and_constraints": [
        "Unpaid leave deductions must be calculated daily and set off against the employee's monthly pay",
        "Calculation method selection (Basic Only vs Basic + Allowances) determines which salary components are included in daily rate",
        "Day calculation type (calendar, working, custom) affects how many days are counted for deduction",
        "Partial pay rate compliance required for Sick Leave (UAE & KSA) and Maternity Leave (UAE) when using dynamic pay rates",
        "Payroll module must be enabled for automated deductions to function",
        "Cannot update leave allowance or accrual configuration in existing policies once employees are assigned (requires new policy and migration)"
      ],
      "edge_cases": [
        "Multiple calculation method options (Basic Only vs Basic + Allowances) require careful selection to match company payroll practices",
        "Employees on partial month worked may require prorated deduction calculations",
        "Leave spanning multiple pay periods requires coordination between leave and payroll modules",
        "Backdated hire date changes affecting tenure calculations may impact dynamic pay rate eligibility",
        "Employee termination before leave return may require leave salary recovery or adjustment"
      ],
      "source_articles": [
        {
          "article_id": "14244040988689",
          "title": "Unpaid Leave deductions",
          "url": "https://bayzathelp.zendesk.com/hc/en-gb/articles/14244040988689-Unpaid-Leave-deductions"
        }
      ],
      "prd_refs": [
        "3657400418",
        "3578691892"
      ],
      "_source": "article"
    },
    {
      "task_id": "WTD-002",
      "task": "Process Leave Salary Payments for Advance Vacation Payouts",
      "persona": "Finance Manager | HR Admin",
      "cluster_id": "CLU-001",
      "steps": [
        "Navigate to Payroll > Leave Salary Policy configuration",
        "Create new leave salary policy with name and description",
        "Select eligible leave types from dropdown (only Paid leave types)",
        "Enable automatic leave salary toggle if desired (auto-creates request when leave approved)",
        "Configure salary formula: select salary component (Basic or Basic + Allowances), working days type, allowances, and deductions",
        "Enable salary proration toggle if employees work partial months",
        "Set policy restrictions (e.g., restrict during probation period)",
        "Employee submits leave request through standard workflow",
        "System auto-creates leave salary request if automatic toggle enabled",
        "Review leave salary queue showing days, dates, basic salary, and total amount",
        "Process payment as part of monthly payroll OR as out-of-payroll transaction",
        "Payroll table auto-adjusts for employees on leave",
        "Generate WPS/non-WPS SIF files including leave salary transactions",
        "Issue salary slip to employee with full transaction details"
      ],
      "expected_outcome": "Leave salary payments are processed efficiently within payroll system, reducing manual Excel-based tracking by 80%. Employees receive advance vacation salary before leave starts, payroll managers have visibility into leave salary liabilities, and WPS/SIF reporting includes leave salary transactions.",
      "rules_and_constraints": [
        "Leave salary and encashment only available for Paid leave types; Unpaid leave cannot enable leave salary",
        "Leave salary and encashment toggles are independent - can enable one without the other",
        "Multiple paid vacation types can be combined into one leave salary setting",
        "Probation restriction can block leave salary for employees on probation",
        "Salary proration calculates pay for days worked in the month (before/after leave period)",
        "Supporting documents (air tickets, declarations) may be required for leave salary requests",
        "Leave request serves as single entry point into leave salary process",
        "Configurable days earned per month worked and selectable allowances for calculation",
        "Option for full 30-day or specified day payment must be configured"
      ],
      "edge_cases": [
        "Partial month worked affecting accrual and proration calculations",
        "Employee with multiple leave types requiring different partial pay rules",
        "Mid-cycle leave salary requests spanning multiple pay periods",
        "Leave salary higher than remaining monthly salary requiring adjustment",
        "Employee termination before leave return requiring leave salary recovery",
        "Leave cancellation after advance payment requiring negative balance recovery",
        "Missing or invalid supporting documents (air tickets, declarations)",
        "WPS reporting for advance payments and accrual accounting discrepancies",
        "Labour law variations between UAE and KSA affecting calculation rules"
      ],
      "source_articles": [],
      "prd_refs": [
        "3578691892",
        "3686498340"
      ],
      "_source": "prd"
    },
    {
      "task_id": "WTD-003",
      "task": "Configure Dynamic Leave Allowance Based on Employee Tenure",
      "persona": "HR Admin",
      "cluster_id": "CLU-004",
      "steps": [
        "Navigate to Leave Policies configuration",
        "Select pre-setup labor law compliant leave policy template (UAE or KSA) or create custom policy",
        "Configure dynamic allowance tiers based on employee tenure thresholds (e.g., 0-1 year, 1-3 years, 3+ years)",
        "Set leave allowance amount for each tenure tier",
        "Add policy descriptions for transparency to employees",
        "Assign employees to the leave policy",
        "System automatically calculates initial leave allowance based on employee tenure at assignment",
        "Monitor employee tenure thresholds for automatic allowance adjustments",
        "System auto-adjusts allowance when employee crosses tenure threshold mid-year",
        "Handle employee unassignments from policy if needed for transfers or role changes",
        "Employees view policy details and entitlements in Leaves module"
      ],
      "expected_outcome": "Leave allowances are automatically calculated and adjusted based on employee tenure, ensuring compliance with UAE and KSA labor laws. HR eliminates manual policy switching and leave adjustments. Employees understand their entitlements through policy descriptions.",
      "rules_and_constraints": [
        "Must comply with UAE and KSA labor law requirements for tenure-based leave allocation",
        "Dynamic allowance eliminates need for multiple policies per tenure tier",
        "Cannot currently unassign employees from leave policy (product limitation being addressed)",
        "Leave policies must integrate with payroll in future phases",
        "Policy templates must be pre-configured for labor law compliance",
        "Tenure thresholds trigger automatic allowance adjustments",
        "Policy changes affecting existing accrued leave require careful handling"
      ],
      "edge_cases": [
        "Employee tenure threshold crossed mid-year affecting accrued balance",
        "Employee transferred between UAE and KSA entities with different labor laws",
        "Backdated hire date changes affecting tenure calculations retroactively",
        "Multiple leave policies for same leave type requiring coordination",
        "Policy changes affecting existing accrued leave balances",
        "Employee unassignment handling for historical records and audit trail"
      ],
      "source_articles": [],
      "prd_refs": [
        "3625746433"
      ],
      "_source": "prd"
    },
    {
      "task_id": "WTD-004",
      "task": "Configure Standard Company-Wide Leave Approval Flow",
      "persona": "HR Admin | Super Admin",
      "cluster_id": "CLU-002",
      "steps": [
        "Navigate to Leave Approval Flow configuration",
        "Define approval steps for the company-wide flow (e.g., Step 1: Line Manager, Step 2: HR)",
        "Select which roles serve as approvers for each step",
        "Enable or disable sequential approval enforcement (sequential = enforce order, parallel = any approver can approve)",
        "Add multiple approvers per step for redundancy when someone is unavailable",
        "Configure \"Ultimate leave approver\" role for bypassing other approvers in urgent situations",
        "Save approval flow configuration",
        "Employee submits leave request through standard workflow",
        "System routes request to configured approvers based on defined steps",
        "Approvers receive notifications at appropriate step",
        "Sequential approval enforces order; parallel allows any approver to approve",
        "Ultimate approver can expedite by skipping remaining approvers"
      ],
      "expected_outcome": "Company-wide leave approval flow is configured with customizable steps, role-based approvers, and sequential/parallel options. Approvals are routed automatically, reducing manual tracking. Multiple approvers per step provide redundancy for unavailable approvers.",
      "rules_and_constraints": [
        "Standard flow applies single approval configuration company-wide (unlike Advanced which varies by department/office/policy)",
        "Depends on existing leave approval flow system and role management system",
        "Sequential approval enforces critical approver first",
        "Does not support per-department, per-office, or per-policy variations (requires Advanced flow)",
        "Multiple approvers per step provide redundancy but require clear role definitions",
        "Ultimate approver role must be clearly designated and understood"
      ],
      "edge_cases": [
        "Approver unavailability (vacation, illness) - mitigated by multiple approvers per step providing redundancy and continuity",
        "Ultimate approver unavailable for urgent situations requiring escalation path",
        "Current customer workarounds being replaced: changing reporting lines to fit approval needs, creating dummy approver accounts, tracking additional approvals offline",
        "Approval flow changes affecting pending leave requests mid-process"
      ],
      "source_articles": [],
      "prd_refs": [
        "3705470977"
      ],
      "_source": "prd"
    },
    {
      "task_id": "WTD-005",
      "task": "Configure Advanced Leave Approval Flows by Policy, Department, or Office",
      "persona": "HR Admin | Super Admin",
      "cluster_id": "CLU-002",
      "steps": [
        "Create custom approval roles (e.g., Sales Director, CEO, Department Manager, Office Manager)",
        "Define role behavior for custom roles (similar to Line Manager or specific assignment)",
        "Configure different approval flows for different leave policies",
        "Configure different approval flows per department or office",
        "Select Line Manager levels as approvers in workflow (auto-assigned based on structure)",
        "Assign specific employees or custom roles as approvers",
        "Set approval sequence (critical approvers first)",
        "Configure workaround for approver unavailability (delegation or escalation)",
        "Employee submits leave request through standard workflow",
        "System determines applicable workflow based on leave policy, department, or office",
        "System routes to correct approvers in configured sequence",
        "Approvers notified in configured sequence",
        "Approval continues even if one approver unavailable through delegation"
      ],
      "expected_outcome": "Advanced approval workflows are configured to match complex organizational structures with custom roles and policy/department/office variations. Approval routing is intelligent and matches real business practices. Approver unavailability is handled through delegation.",
      "rules_and_constraints": [
        "Depends on existing leave approval flow system and role management system",
        "Custom roles like Department Manager and Office Manager work similar to Line Manager (auto-assigned based on structure)",
        "Must enforce critical approvers to review first before others",
        "Target segments: Large organizations (250+), Small organizations (20-250), White collar and Blue collar industries",
        "Not targeting GH Insurance segment",
        "Advanced flow extends standard flow with policy/department/office variations"
      ],
      "edge_cases": [
        "Approver unavailability scenarios (vacation, illness, extended leave) - requires workaround/delegation feature to prevent bottlenecks",
        "Urgent approval requests when primary approvers unavailable",
        "Current workarounds customers use without this feature: changing reporting lines to fit approval flow, creating dummy approver accounts, tracking approvals offline with HR updating Bayzat manually",
        "Approval flow changes affecting pending requests across multiple policies/departments/offices"
      ],
      "source_articles": [],
      "prd_refs": [
        "3723460609"
      ],
      "_source": "prd"
    },
    {
      "task_id": "WTD-006",
      "task": "Enable and Configure Hourly Leave Requests",
      "persona": "HR Admin | Employee",
      "cluster_id": "CLU-003",
      "steps": [
        "Navigate to Leave Policy configuration",
        "Select leave type to enable hourly leave option",
        "Enable \"Hourly leaves\" toggle at leave policy type level",
        "Configure hours-to-day conversion rate (e.g., 9 hours = 1 day)",
        "Save policy configuration",
        "Employee navigates to leave request form",
        "Employee selects leave type with hourly option enabled",
        "Employee toggles hourly leave option (similar to half-day toggle)",
        "Employee enters From timestamp for hourly leave start",
        "Employee enters To timestamp for hourly leave end",
        "System calculates duration and converts to day equivalent (e.g., 2 hours / 9 = 0.22 days)",
        "Employee reviews calculated duration before submitting",
        "Leave request follows standard approval workflow",
        "Upon approval, leave balance is deducted based on calculated hours",
        "Schedulers see icons/messaging on shift cells indicating hourly leave",
        "Attendance system evaluates late arrival/early departure based on hourly leave timing"
      ],
      "expected_outcome": "Employees can request partial-day time off in hourly increments for short absences like medical appointments or personal errands. Leave balance is deducted based on actual hours used. Schedulers and attendance systems are aware of hourly leave timing.",
      "rules_and_constraints": [
        "From/To timestamps are for record purposes only - no direct impact on attendance check-in/check-out",
        "Disabling toggle prevents future hourly leave requests but existing pending/approved leaves remain valid",
        "Pending hourly leaves from before toggle disabled can still be approved",
        "Full day leave overrides shifts; hourly/half-day leaves do NOT override shifts",
        "Hourly leave overrides day off (with or without check-in)",
        "Shift deletion has no impact on overlapping hourly leaves",
        "Late arrival not evaluated if hourly leave start time matches work timing start",
        "Early departure not evaluated if hourly leave end time matches work timing end",
        "Published shifts cannot be overridden"
      ],
      "edge_cases": [
        "Split shifts scenario: Hourly leave can span across multiple shifts (e.g., Shift 1: 9a-2p, Shift 2: 6p-11p with hourly leave 9a-11a)",
        "Shift deletion with existing hourly leave - leave remains unaffected, must be deleted separately",
        "Toggle turned off then on again - employees regain hourly leave option",
        "Copying shifts with hourly leaves - no impact on leaves",
        "Hourly leave start/end times not matching work timing - employee still evaluated for late/early",
        "No shift exists when hourly leave requested - still allowed",
        "Day off scheduled when hourly leave requested - hourly leave overrides day off"
      ],
      "source_articles": [],
      "prd_refs": [
        "3939139585"
      ],
      "_source": "prd"
    }
  ],
  "what_to_watch_out_for": [
    {
      "issue_id": "WOF-001",
      "theme": "Leave Policy Configuration Lacks Tenure Exclusion & Migration Capabilities",
      "cluster_id": "CLU-004",
      "limitation": "HR Admins cannot exclude specific leave periods from job tenure calculations, and the system lacks a straightforward mechanism to migrate leave policies between configurations. This prevents accurate representation of complex employment scenarios with extended unpaid leaves and creates friction during policy transitions.",
      "impact": "medium",
      "affected_personas": [
        "HR Admin"
      ],
      "by_design": false,
      "design_rationale": null,
      "documented_workaround": null,
      "ticket_count": 2,
      "journey_stages": [
        "Setup"
      ],
      "categories": [
        "feature_gap"
      ],
      "jira_refs": [
        "AV-8781",
        "AV-8995"
      ],
      "status": "Backlog"
    },
    {
      "issue_id": "WOF-002",
      "theme": "Historical Leave Data Lost During Policy Reconfiguration",
      "cluster_id": "CLU-004",
      "limitation": "When HR Admins reconfigure leave policies or modify settings like 'Restrict editing leave days', the system does not retain historical leave request data. This creates data loss risk and prevents audit trails during policy changes.",
      "impact": "medium",
      "affected_personas": [
        "HR Admin"
      ],
      "by_design": false,
      "design_rationale": null,
      "documented_workaround": null,
      "ticket_count": 2,
      "journey_stages": [
        "Setup"
      ],
      "categories": [
        "feature_gap",
        "configuration_problem"
      ],
      "jira_refs": [
        "AV-8387",
        "AV-8526"
      ],
      "status": "Backlog"
    },
    {
      "issue_id": "WOF-003",
      "theme": "Leave Policy Sequencing & Setup Workflow Complexity",
      "cluster_id": "CLU-004",
      "limitation": "HR Admins cannot manually sort or reorder leave policies, and the leave policy creation process involves multiple sequential steps that could be consolidated. This creates inflexibility in policy organization and unnecessary complexity in setup workflows.",
      "impact": "medium",
      "affected_personas": [
        "HR Admin"
      ],
      "by_design": false,
      "design_rationale": null,
      "documented_workaround": null,
      "ticket_count": 2,
      "journey_stages": [
        "Setup"
      ],
      "categories": [
        "feature_gap"
      ],
      "jira_refs": [
        "AV-8638",
        "AV-8785"
      ],
      "status": "Backlog"
    },
    {
      "issue_id": "WOF-004",
      "theme": "Leave Policy Configuration Changes Not Communicated to Users",
      "cluster_id": "CLU-004",
      "limitation": "The platform lacks a systematic notification mechanism to alert all users when leave policy configurations are modified. HR Admins cannot ensure enterprise-wide awareness of policy changes, creating potential compliance and communication gaps.",
      "impact": "medium",
      "affected_personas": [
        "HR Admin",
        "Employee"
      ],
      "by_design": false,
      "design_rationale": null,
      "documented_workaround": null,
      "ticket_count": 1,
      "journey_stages": [
        "Setup"
      ],
      "categories": [
        "feature_gap"
      ],
      "jira_refs": [
        "AV-8235"
      ],
      "status": "Backlog"
    },
    {
      "issue_id": "WOF-005",
      "theme": "Employees Lose Access to Leave History After Policy Removal",
      "cluster_id": "CLU-005",
      "limitation": "When an employee is removed from a leave policy, they lose access to historical leave request data and cannot view their leave balance up until the removal date. This creates data accessibility issues and prevents employees from maintaining records of past leave usage.",
      "impact": "medium",
      "affected_personas": [
        "Employee",
        "HR Admin"
      ],
      "by_design": false,
      "design_rationale": null,
      "documented_workaround": null,
      "ticket_count": 2,
      "journey_stages": [
        "Day-to-day Usage"
      ],
      "categories": [
        "feature_gap"
      ],
      "jira_refs": [
        "AV-8786",
        "AV-8710"
      ],
      "status": "Backlog"
    },
    {
      "issue_id": "WOF-006",
      "theme": "Leave & Payroll Data Integrity Issues",
      "cluster_id": "CLU-006",
      "limitation": "The system cannot retain leave request details in payroll deductions after the original request is deleted, lacks clear logic for counting upcoming leaves in calendar views, and cannot process leave requests that overlap two leave cycles. These gaps create data inconsistencies and calculation errors affecting payroll accuracy.",
      "impact": "medium",
      "affected_personas": [
        "Finance Manager",
        "HR Admin"
      ],
      "by_design": false,
      "design_rationale": null,
      "documented_workaround": null,
      "ticket_count": 3,
      "journey_stages": [
        "Day-to-day Usage"
      ],
      "categories": [
        "feature_gap",
        "data_inconsistency"
      ],
      "jira_refs": [
        "AV-9125",
        "AV-9903",
        "AV-755"
      ],
      "status": "Won't Do"
    },
    {
      "issue_id": "WOF-007",
      "theme": "Leave Reporting & Payroll Template Gaps",
      "cluster_id": "CLU-001",
      "limitation": "Payroll templates lack visibility into unpaid leave counts and leave salary totals, and users cannot easily filter payroll data by leave salary type. Leave encashment details require navigation between separate reports, reducing reporting efficiency for Finance Managers tracking leave-related financial information.",
      "impact": "medium",
      "affected_personas": [
        "Finance Manager"
      ],
      "by_design": false,
      "design_rationale": null,
      "documented_workaround": null,
      "ticket_count": 4,
      "journey_stages": [
        "Reporting",
        "Day-to-day Usage"
      ],
      "categories": [
        "feature_gap"
      ],
      "jira_refs": [
        "OS-1450",
        "OS-205",
        "OS-2691",
        "OS-314"
      ],
      "status": "Won't Do"
    },
    {
      "issue_id": "WOF-008",
      "theme": "Incomplete Leave Policy Configuration Documentation",
      "cluster_id": "CLU-004",
      "limitation": "The Leave Policy configuration process lacks comprehensive, translated documentation and clear workflow guidance. HR admins and managers cannot easily understand how to set up leave policies, configure dynamic leave allowances, or understand the impact of policy changes. Documentation gaps prevent transparent understanding of leave salary calculations and policy mechanics.",
      "impact": "high",
      "affected_personas": [
        "HR Admin",
        "People Manager"
      ],
      "by_design": false,
      "design_rationale": null,
      "documented_workaround": null,
      "ticket_count": 5,
      "journey_stages": [
        "Setup"
      ],
      "categories": [
        "feature_gap"
      ],
      "jira_refs": [
        "AV-7553",
        "AV-7703",
        "AV-8647",
        "AV-9227",
        "OS-335"
      ],
      "status": "Backlog"
    },
    {
      "issue_id": "WOF-009",
      "theme": "Leave Encashment & Automated Salary Processing Not Supported",
      "cluster_id": "CLU-007",
      "limitation": "The platform lacks dedicated leave encashment request workflows for employees and automated leave encashment capabilities for payroll admins. Employees cannot request leave conversion to financial compensation. Payroll admins cannot configure automatic leave encashment without manual employee requests. The Leave Salary page does not integrate encashment request capabilities. Advanced leave salary accrual reporting is not available.",
      "impact": "medium",
      "affected_personas": [
        "Employee",
        "Finance Manager",
        "HR Admin"
      ],
      "by_design": true,
      "design_rationale": "Strategic decision to defer encashment automation and advanced reporting features (Won't Do status on multiple tickets indicates intentional scope limitation)",
      "documented_workaround": null,
      "ticket_count": 5,
      "journey_stages": [
        "Setup",
        "Day-to-day Usage",
        "Reporting"
      ],
      "categories": [
        "feature_gap"
      ],
      "jira_refs": [
        "OS-57",
        "OS-55",
        "OS-482",
        "OS-193",
        "OS-313"
      ],
      "status": "Won't Do"
    },
    {
      "issue_id": "WOF-010",
      "theme": "Leave Balance Calculation Errors & Validation Gaps",
      "cluster_id": "CLU-008",
      "limitation": "The leave management system fails to properly recalculate leave policies when public holiday configurations are updated, leaving policies with 'restrict edit leave days off' unaffected. Leave balance display breaks for edge cases like zero contract leave accrual. The system lacks validation to prevent employees from applying leaves that would result in negative balances, allowing applied leaves to exceed allowance limits.",
      "impact": "high",
      "affected_personas": [
        "Employee",
        "HR Admin",
        "People Manager"
      ],
      "by_design": false,
      "design_rationale": null,
      "documented_workaround": null,
      "ticket_count": 3,
      "journey_stages": [
        "Setup",
        "Day-to-day Usage"
      ],
      "categories": [
        "calculation_bug",
        "data_inconsistency"
      ],
      "jira_refs": [
        "AV-9095",
        "OS-236",
        "AV-8746"
      ],
      "status": "Backlog"
    },
    {
      "issue_id": "WOF-011",
      "theme": "Leave Request & Approval Workflow Constraints",
      "cluster_id": "CLU-002",
      "limitation": "The admin calendar interface combines viewing and action-taking functions without clear separation, creating confusion in the approval workflow. Leave balance visibility is restricted to direct managers only, preventing non-direct managers (e.g., cross-functional approvers) from accessing employee leave balance information needed for approval decisions. The platform does not support advanced leave request functionality that allows employees to plan leaves across leave cycle boundaries considering future accrual rates and carry-over days.",
      "impact": "medium",
      "affected_personas": [
        "People Manager",
        "HR Admin",
        "Employee"
      ],
      "by_design": false,
      "design_rationale": null,
      "documented_workaround": null,
      "ticket_count": 3,
      "journey_stages": [
        "Approval Flow",
        "Day-to-day Usage",
        "Setup"
      ],
      "categories": [
        "ux_issue",
        "feature_gap"
      ],
      "jira_refs": [
        "AV-30",
        "AV-8521",
        "AV-976"
      ],
      "status": "Won't Do"
    },
    {
      "issue_id": "WOF-012",
      "theme": "Employee Portal UX & Communication Gaps",
      "cluster_id": "CLU-009",
      "limitation": "The Leave Management interface displays approval-related UI elements statically without contextual relevance, creating visual noise when elements are not applicable. The system cannot dynamically adjust text display for multiple policy names, causing name truncation in the upcoming leaves card. Leave management email communications lack direct, authenticated navigation paths (deep-linking), preventing users from instantly accessing relevant leave request or management screens.",
      "impact": "low",
      "affected_personas": [
        "Employee",
        "People Manager"
      ],
      "by_design": false,
      "design_rationale": null,
      "documented_workaround": null,
      "ticket_count": 3,
      "journey_stages": [
        "Day-to-day Usage"
      ],
      "categories": [
        "ux_issue",
        "feature_gap"
      ],
      "jira_refs": [
        "AV-8398",
        "AV-9901",
        "AV-9484"
      ],
      "status": "Backlog"
    },
    {
      "issue_id": "WOF-013",
      "theme": "Policy Management & Data Integrity Controls",
      "cluster_id": "CLU-006",
      "limitation": "Access to new leave policy selection modal requires explicit feature flag activation ('timeoff-v2') in the admin panel, creating hidden configuration dependencies. Employee ID is not displayed during policy assignment, making it difficult to accurately identify and select specific employees. The platform lacks a robust confirmation workflow for high-stakes deletion of leave policies and users, risking unintentional data loss. HR managers cannot update leave policies after enabling specific features like accrual pausing, restricting dynamic policy adjustments.",
      "impact": "medium",
      "affected_personas": [
        "HR Admin"
      ],
      "by_design": false,
      "design_rationale": null,
      "documented_workaround": "For KSA companies, enable the 'timeoff-v2' feature flag in the admin panel to access the new leave policy selection modal",
      "ticket_count": 4,
      "journey_stages": [
        "Setup",
        "Day-to-day Usage"
      ],
      "categories": [
        "configuration_problem",
        "feature_gap"
      ],
      "jira_refs": [
        "AV-8311",
        "AV-8783",
        "AV-9040",
        "AV-9848"
      ],
      "status": "Backlog"
    },
    {
      "issue_id": "WOF-014",
      "theme": "Policy Change Impact & Payroll Notification Gaps",
      "cluster_id": "CLU-010",
      "limitation": "The leave management system lacks robust mechanisms for handling complex leave policy scenarios such as partial paid/unpaid leaves, negative balance carry-over, and flexible policy configuration updates. When leave salary is enabled in a new Time Off Policy setup, the platform does not automatically notify payroll managers, creating manual communication overhead for HR teams during policy configuration.",
      "impact": "high",
      "affected_personas": [
        "HR Admin",
        "Finance Manager"
      ],
      "by_design": false,
      "design_rationale": null,
      "documented_workaround": null,
      "ticket_count": 2,
      "journey_stages": [
        "Setup"
      ],
      "categories": [
        "feature_gap"
      ],
      "jira_refs": [
        "AV-7563",
        "OS-239"
      ],
      "status": "Backlog"
    }
  ],
  "persona_coverage": {
    "hr_admin": {
      "task_count": 5,
      "task_ids": [
        "WTD-001",
        "WTD-003",
        "WTD-004",
        "WTD-005",
        "WTD-006"
      ],
      "issue_count": 11,
      "issue_ids": [
        "WOF-001",
        "WOF-002",
        "WOF-003",
        "WOF-004",
        "WOF-005",
        "WOF-008",
        "WOF-009",
        "WOF-010",
        "WOF-011",
        "WOF-013",
        "WOF-014"
      ]
    },
    "people_manager": {
      "task_count": 0,
      "task_ids": [],
      "issue_count": 6,
      "issue_ids": [
        "WOF-006",
        "WOF-008",
        "WOF-009",
        "WOF-010",
        "WOF-011",
        "WOF-012"
      ]
    },
    "employee": {
      "task_count": 1,
      "task_ids": [
        "WTD-006"
      ],
      "issue_count": 7,
      "issue_ids": [
        "WOF-004",
        "WOF-005",
        "WOF-006",
        "WOF-009",
        "WOF-010",
        "WOF-011",
        "WOF-012"
      ]
    },
    "finance_manager": {
      "task_count": 1,
      "task_ids": [
        "WTD-002"
      ],
      "issue_count": 4,
      "issue_ids": [
        "WOF-006",
        "WOF-007",
        "WOF-009",
        "WOF-014"
      ]
    },
    "super_admin": {
      "task_count": 2,
      "task_ids": [
        "WTD-004",
        "WTD-005"
      ]
    },
    "gaps_identified": [
      "People Manager: No tasks identified. People Managers approve leave requests and monitor team leave data but approval workflow configuration is HR Admin responsibility. Consider if People Manager needs task for viewing/approving leave requests in configured workflows.",
      "Employee: Limited to hourly leave request task. Employees also submit standard leave requests, view leave balance, and understand policy entitlements but these are covered under approval workflows and policy configuration by HR Admin."
    ],
    "navigation_gaps_filled": [],
    "coverage_notes": "All personas have reported issues. HR Admin and Employee have highest issue counts, reflecting broad impact across configuration and day-to-day usage."
  },
  "personas_to_test": [
    "HR Admin",
    "Employee",
    "Finance Manager"
  ],
  "uncovered_nav_entries": [
    {
      "id": "5e60ac50-7f18-47f3-a2a3-56cbe945ad41",
      "url": "/enterprise/payroll/leave-salary",
      "label": "Leave Salary",
      "purpose": "Sub-feature of Leave Salary",
      "audience": "both",
      "category": "payroll",
      "nav_level": 3,
      "guide_role": "child",
      "canonical_path": "Payroll > Leave Salary > Leave Salary",
      "include_reason": "child_of_primary",
      "navigation_steps": [
        "Payroll",
        "Payroll",
        "Leave salary"
      ]
    }
  ],
  "execution_order": [
    "1. LOGIN - Authenticate as admin user",
    "2. EXPLORATION - Navigate to feature, discover all UI elements using exploration_phase instructions",
    "3. IDENTIFY ENTITY - Determine the primary item/entity using primary_entity discovery",
    "4. CRUD TEST - Test create, read, update, delete for the primary entity",
    "5. WORKFLOW CHECK - Verify if feature has workflow triggers/actions",
    "6. APPROVAL FLOW - Test approval process if present",
    "7. WHAT_TO_DO - Execute each task from what_to_do array, validate expected outcomes",
    "8. WHAT_TO_WATCH_OUT_FOR - Validate known limitations and edge cases",
    "9. DOCUMENTATION - Capture screenshots of every significant state change",
    "10. REPORT - Generate validation report with pass/fail for each task and issue"
  ],
  "consolidation_summary": {},
  "metadata": {
    "generated_at": "2026-02-23T13:13:59.636Z",
    "workflow": "user-guide-payload-generator",
    "payload_version": "v3",
    "total_articles": 1,
    "total_tickets": 29,
    "total_prds": 6,
    "total_clusters": 10,
    "high_impact_issues": 3,
    "tasks_from_articles": 1,
    "tasks_from_jira": 0,
    "tasks_from_nav": 0,
    "total_tasks": 6,
    "total_issues": 14,
    "persona_gaps": 2,
    "navigation_gaps_filled": 0
  }
}