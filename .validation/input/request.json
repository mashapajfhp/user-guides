{
  "feature_name": "Daily Wage Calculator",
  "clean_feature_name": "daily_wage_calculator",
  "input_format": "new",
  "issues_to_validate": [
    {
      "issue_id": "VAL-001",
      "jira_key": "TSSD-2648",
      "issue_summary": "Difference in daily wage formula between leave policy and payroll settings",
      "reported_behavior": "User observes that daily wage formula in leave policy is greyed out and differs from the formula configured in payroll settings. The payroll-side daily wage calculator overrides the leave policy formula for unpaid leave deductions, but this override behavior is not clearly communicated in the UI.",
      "validation_steps": [
        {
          "step": 1,
          "action": "navigate",
          "target": "Payroll → Settings → Daily Wage Calculator"
        },
        {
          "step": 2,
          "action": "observe",
          "target": "Daily wage formula configuration field",
          "expected": "Formula should be visible and editable (e.g., 'basic + allowances / number of days')"
        },
        {
          "step": 3,
          "action": "navigate",
          "target": "Leave Management → Leave Policies"
        },
        {
          "step": 4,
          "action": "observe",
          "target": "Daily wage formula field in leave policy for unpaid leave",
          "expected": "Formula field should be greyed out or disabled with visual indicator showing it is overridden by payroll settings"
        },
        {
          "step": 5,
          "action": "capture",
          "target": "Both formula fields side-by-side comparison",
          "screenshot": "val-001-formula-override-comparison"
        }
      ],
      "observable_indicators": [
        "Greyed-out formula field in leave policy",
        "Enabled formula field in payroll settings",
        "Visual override indicator or tooltip explaining precedence",
        "Formula text showing 'basic + allowances' vs 'basic only'",
        "Disabled state or lock icon on leave policy formula"
      ],
      "priority": "medium"
    },
    {
      "issue_id": "VAL-002",
      "jira_key": "TSSD-1581",
      "issue_summary": "Unpaid leave deduction not recalculated when salary configuration changes",
      "reported_behavior": "When a new salary configuration is created after an unpaid leave request, the system fails to automatically update the pending unpaid leave deduction amount. The deduction continues to use the previous salary configuration, resulting in incorrect payroll deduction amounts.",
      "validation_steps": [
        {
          "step": 1,
          "action": "navigate",
          "target": "Payroll → Salary Configuration"
        },
        {
          "step": 2,
          "action": "observe",
          "target": "List of salary configurations for an employee",
          "expected": "Multiple salary configurations should be visible with effective dates"
        },
        {
          "step": 3,
          "action": "navigate",
          "target": "Leave Management → Leave Requests"
        },
        {
          "step": 4,
          "action": "observe",
          "target": "Unpaid leave request with deduction amount displayed",
          "expected": "Deduction amount should reflect the most recent salary configuration, not outdated one"
        },
        {
          "step": 5,
          "action": "capture",
          "target": "Unpaid leave deduction details and salary configuration reference",
          "screenshot": "val-002-leave-deduction-salary-config"
        }
      ],
      "observable_indicators": [
        "Unpaid leave deduction amount field",
        "Salary configuration effective date",
        "Daily wage calculation basis (salary / 30.41)",
        "Total deduction amount (daily wage × number of days)",
        "Salary configuration change history or timeline"
      ],
      "priority": "high"
    },
    {
      "issue_id": "VAL-003",
      "jira_key": "TSSD-4179",
      "issue_summary": "EOS gratuity calculator does not account for leap years",
      "reported_behavior": "The End of Service gratuity calculator fails to recognize leap years (366 days) and always uses 365 days per year. This results in incorrect service period calculations and underpayment of gratuity benefits. For example, 2024 should be counted as 366 days but the system counts 365 days.",
      "validation_steps": [
        {
          "step": 1,
          "action": "navigate",
          "target": "Payroll → Final Settlement / EOS Gratuity Calculator"
        },
        {
          "step": 2,
          "action": "observe",
          "target": "EOS gratuity calculation form with date fields",
          "expected": "Form should have fields for joining date, exit date, basic salary, and service bracket"
        },
        {
          "step": 3,
          "action": "observe",
          "target": "Total working days calculation display",
          "expected": "For service spanning leap year (e.g., 2024), total days should show 366 days for that year, not 365"
        },
        {
          "step": 4,
          "action": "observe",
          "target": "Gratuity amount calculation result",
          "expected": "Gratuity should be calculated using correct service period including leap year days"
        },
        {
          "step": 5,
          "action": "capture",
          "target": "EOS calculation form with leap year service period",
          "screenshot": "val-003-eos-gratuity-leap-year"
        }
      ],
      "observable_indicators": [
        "Joining date field",
        "Exit/departure date field",
        "Total working days calculated and displayed",
        "Years of service calculation (total days / 365)",
        "Gratuity amount result",
        "Service bracket indicator (1-5 years, 5+ years)",
        "Daily wage calculation (basic salary / 30)"
      ],
      "priority": "high"
    }
  ],
  "navigation_paths_from_zendesk": {},
  "configuration_areas_to_document": [
    {
      "area_id": "CONFIG-001",
      "name": "Daily Wage Calculator Configuration",
      "path": "Payroll → Settings → Daily Wage Calculator",
      "expected_sections": [
        "Formula configuration",
        "Salary components selection",
        "Divisor (number of days)",
        "Application scope (unpaid leave, leave encashment, gratuity)"
      ],
      "screenshots_needed": [
        "full-page-daily-wage-calculator",
        "formula-configuration-section",
        "salary-components-selection"
      ]
    },
    {
      "area_id": "CONFIG-002",
      "name": "Leave Policy Configuration",
      "path": "Leave Management → Leave Policies",
      "expected_sections": [
        "Leave type selection",
        "Daily wage formula (greyed out if overridden)",
        "Override indicator",
        "Unpaid leave settings"
      ],
      "screenshots_needed": [
        "full-page-leave-policies",
        "unpaid-leave-policy-section",
        "formula-override-indicator"
      ]
    },
    {
      "area_id": "CONFIG-003",
      "name": "Salary Configuration Management",
      "path": "Payroll → Salary Configuration",
      "expected_sections": [
        "Salary configuration list",
        "Effective date field",
        "Salary components",
        "Configuration history"
      ],
      "screenshots_needed": [
        "full-page-salary-configuration",
        "salary-config-list-with-dates",
        "salary-config-details"
      ]
    },
    {
      "area_id": "CONFIG-004",
      "name": "EOS Gratuity Calculator",
      "path": "Payroll → Final Settlement / EOS Gratuity Calculator",
      "expected_sections": [
        "Employee selection",
        "Joining date",
        "Exit date",
        "Basic salary",
        "Working days calculation",
        "Service period calculation",
        "Gratuity amount result"
      ],
      "screenshots_needed": [
        "full-page-eos-calculator",
        "calculation-form",
        "working-days-breakdown",
        "gratuity-result"
      ]
    }
  ],
  "claims_to_validate": [],
  "navigation_paths": {
    "paths": [],
    "breadcrumbs": [],
    "steps": []
  },
  "procedures": [],
  "validation_config": {
    "base_url": "https://app.bayzat.com",
    "login_required": true,
    "required_role": "Superadmin",
    "max_attempts_per_validation": 2,
    "screenshot_on_each_step": false,
    "timeout_ms": 30000,
    "wait_after_navigation_ms": 2000
  },
  "app": {
    "base_url": "https://app.bayzat.com/",
    "username": "bayzlander@bayzat.com",
    "password": "landofbayzat123"
  },
  "output_configuration": {
    "screenshots_dir": ".validation/output/daily_wage_calculator/v11/screenshots",
    "reports_dir": ".validation/output/daily_wage_calculator/v11",
    "evidence_file": ".validation/output/daily_wage_calculator/v11/evidence.json",
    "summary_file": ".validation/output/daily_wage_calculator/v11/validation-summary.md"
  }
}
