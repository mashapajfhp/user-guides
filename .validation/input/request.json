{
  "feature_name": "Daily Wage Calculator",
  "clean_feature_name": "daily_wage_calculator",
  "input_format": "new",
  "issues_to_validate": [
    {
      "issue_id": "VAL-001",
      "jira_key": "TSSD-2648",
      "issue_summary": "Difference in daily wage formula between leave policy and payroll settings",
      "reported_behavior": "Daily wage formula appears inconsistent between leave policy configuration and payroll settings. Formula in leave policy is greyed out and overridden by payroll settings configuration, causing user confusion about which formula is actually applied.",
      "validation_steps": [
        {
          "step": 1,
          "action": "navigate",
          "target": "Payroll → Settings → Daily Wage Calculator"
        },
        {
          "step": 2,
          "action": "observe",
          "target": "Daily wage formula display",
          "expected": "Formula showing salary component calculation (e.g., basic + allowances / number of days)"
        },
        {
          "step": 3,
          "action": "navigate",
          "target": "Leave Management → Leave Policies"
        },
        {
          "step": 4,
          "action": "observe",
          "target": "Daily wage formula field in leave policy",
          "expected": "Formula field is greyed out or disabled, indicating override from payroll settings"
        },
        {
          "step": 5,
          "action": "capture",
          "target": "Both formula displays side by side",
          "screenshot": "val-001-formula-override-comparison"
        }
      ],
      "observable_indicators": [
        "Greyed out formula field in leave policy",
        "Formula text visible in payroll daily wage calculator",
        "Visual indicator showing override status",
        "Formula components: basic salary, allowances, number of days divisor"
      ],
      "priority": "medium"
    },
    {
      "issue_id": "VAL-002",
      "jira_key": "TSSD-1581",
      "issue_summary": "Unpaid leave deduction not recalculated when salary configuration changes",
      "reported_behavior": "When a new salary configuration is created after an unpaid leave request, the system fails to automatically update the pending unpaid leave deduction amounts. Deductions remain based on previous salary configuration instead of current one.",
      "validation_steps": [
        {
          "step": 1,
          "action": "navigate",
          "target": "Payroll → Salary Configuration"
        },
        {
          "step": 2,
          "action": "observe",
          "target": "Salary configuration list or form",
          "expected": "Salary configuration records visible with dates and salary amounts"
        },
        {
          "step": 3,
          "action": "navigate",
          "target": "Leave Management → Leave Requests"
        },
        {
          "step": 4,
          "action": "observe",
          "target": "Unpaid leave request deduction amount",
          "expected": "Deduction amount should reflect current salary configuration, not previous one"
        },
        {
          "step": 5,
          "action": "capture",
          "target": "Leave request with deduction details",
          "screenshot": "val-002-unpaid-leave-deduction-amount"
        }
      ],
      "observable_indicators": [
        "Unpaid leave deduction amount displayed",
        "Salary configuration date/version indicator",
        "Daily wage calculation visible (salary / 30.41)",
        "Total deduction amount (daily wage × number of days)"
      ],
      "priority": "high"
    },
    {
      "issue_id": "VAL-003",
      "jira_key": "TSSD-4179",
      "issue_summary": "EOS gratuity calculator does not account for leap years",
      "reported_behavior": "End of Service gratuity calculation fails to recognize leap years (366 days). System counts 365 days for 2024 instead of 366, resulting in incorrect service period and lower gratuity amount than expected.",
      "validation_steps": [
        {
          "step": 1,
          "action": "navigate",
          "target": "Payroll → Reports → End of Service Gratuity"
        },
        {
          "step": 2,
          "action": "observe",
          "target": "Gratuity calculation form or report",
          "expected": "Fields for joining date, exit date, and calculated service days visible"
        },
        {
          "step": 3,
          "action": "observe",
          "target": "Service days calculation",
          "expected": "Total working days should account for leap year (366 days in 2024 if applicable)"
        },
        {
          "step": 4,
          "action": "observe",
          "target": "Gratuity amount calculation",
          "expected": "Amount should reflect correct service period including leap year days"
        },
        {
          "step": 5,
          "action": "capture",
          "target": "Gratuity calculation details with service period breakdown",
          "screenshot": "val-003-eos-gratuity-leap-year-calculation"
        }
      ],
      "observable_indicators": [
        "Joining date field",
        "Exit/departure date field",
        "Total working days displayed",
        "Years of service calculation",
        "Daily wage amount",
        "Gratuity formula (21 days per year for 1-5 years service)",
        "Final gratuity amount",
        "Year-by-year day count breakdown if shown"
      ],
      "priority": "high"
    }
  ],
  "navigation_paths_from_zendesk": {},
  "configuration_areas_to_document": [
    {
      "area_id": "CONFIG-001",
      "name": "Daily Wage Calculator Configuration",
      "path": "Payroll → Settings → Daily Wage Calculator",
      "expected_sections": [
        "Salary component selection",
        "Formula display (basic + allowances / number of days)",
        "Number of days divisor configuration",
        "Applied to unpaid leave deductions"
      ],
      "screenshots_needed": [
        "full-page",
        "formula-configuration-section",
        "salary-component-selection"
      ]
    },
    {
      "area_id": "CONFIG-002",
      "name": "Leave Policy Configuration",
      "path": "Leave Management → Leave Policies",
      "expected_sections": [
        "Leave policy details",
        "Daily wage formula field (greyed out when overridden)",
        "Override indicator from payroll settings",
        "Unpaid leave deduction settings"
      ],
      "screenshots_needed": [
        "full-page",
        "leave-policy-form",
        "daily-wage-formula-field-greyed-out"
      ]
    },
    {
      "area_id": "CONFIG-003",
      "name": "Salary Configuration Management",
      "path": "Payroll → Salary Configuration",
      "expected_sections": [
        "Salary configuration list",
        "Effective date for each configuration",
        "Salary components and amounts",
        "Configuration version/history"
      ],
      "screenshots_needed": [
        "full-page",
        "salary-configuration-list",
        "salary-configuration-form"
      ]
    },
    {
      "area_id": "CONFIG-004",
      "name": "End of Service Gratuity Calculation",
      "path": "Payroll → Reports → End of Service Gratuity",
      "expected_sections": [
        "Employee selection",
        "Joining date",
        "Exit/departure date",
        "Service period calculation",
        "Daily wage calculation",
        "Gratuity formula and amount",
        "Year-by-year breakdown (if available)"
      ],
      "screenshots_needed": [
        "full-page",
        "gratuity-calculation-form",
        "service-period-breakdown",
        "final-gratuity-amount"
      ]
    }
  ],
  "claims_to_validate": [],
  "navigation_paths": {
    "paths": [],
    "breadcrumbs": [],
    "steps": []
  },
  "procedures": [],
  "validation_config": {
    "base_url": "https://app.bayzat.com",
    "login_required": true,
    "required_role": "Superadmin",
    "max_attempts_per_validation": 2,
    "screenshot_on_each_step": false,
    "timeout_ms": 30000,
    "wait_after_navigation_ms": 2000
  },
  "app": {
    "base_url": "https://app.bayzat.com/",
    "username": "bayzlander@bayzat.com",
    "password": "landofbayzat123"
  },
  "output_configuration": {
    "screenshots_dir": ".validation/output/daily_wage_calculator/v10/screenshots",
    "reports_dir": ".validation/output/daily_wage_calculator/v10",
    "evidence_file": ".validation/output/daily_wage_calculator/v10/evidence.json",
    "summary_file": ".validation/output/daily_wage_calculator/v10/validation-summary.md"
  }
}
