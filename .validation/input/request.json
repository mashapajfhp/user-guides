{
  "feature_name": "Daily Wage Calculator",
  "clean_feature_name": "daily_wage_calculator",
  "input_format": "new",
  "issues_to_validate": [
    {
      "issue_id": "VAL-001",
      "jira_key": "TSSD-2648",
      "issue_summary": "Daily wage formula discrepancy between leave policy and payroll settings",
      "reported_behavior": "User observes different daily wage formulas in leave policy (basic only) versus payroll settings (basic + allowances). Leave policy formula appears greyed out, indicating it is overridden by payroll configuration. System lacks clear visual communication about which formula is active.",
      "validation_steps": [
        {
          "step": 1,
          "action": "navigate",
          "target": "Payroll → Settings → Daily Wage Calculator",
          "description": "Access payroll daily wage calculator configuration"
        },
        {
          "step": 2,
          "action": "observe",
          "target": "Daily wage formula field",
          "expected": "Formula should display salary component configuration (e.g., basic + allowances)"
        },
        {
          "step": 3,
          "action": "capture",
          "target": "Daily wage calculator formula display",
          "screenshot": "val-001-payroll-daily-wage-formula"
        },
        {
          "step": 4,
          "action": "navigate",
          "target": "Leave Management → Leave Policies → [Policy Name] → Daily Wage Formula",
          "description": "Access leave policy daily wage formula section"
        },
        {
          "step": 5,
          "action": "observe",
          "target": "Leave policy daily wage formula field",
          "expected": "Formula field should appear greyed out or disabled if payroll override is active"
        },
        {
          "step": 6,
          "action": "capture",
          "target": "Leave policy formula display with override indicator",
          "screenshot": "val-001-leave-policy-formula-greyed"
        }
      ],
      "observable_indicators": [
        "Daily wage formula text in payroll settings",
        "Formula field state (enabled/disabled/greyed out) in leave policy",
        "Visual indicator or label showing override status",
        "Salary component names in formula (basic, allowances)",
        "Number of days divisor in formula"
      ],
      "priority": "medium"
    },
    {
      "issue_id": "VAL-002",
      "jira_key": "TSSD-1581",
      "issue_summary": "Unpaid leave deduction calculation not updating when salary configuration changes",
      "reported_behavior": "When a new salary configuration is created after an unpaid leave request, the system fails to automatically recalculate pending leave deduction amounts. Deductions remain based on previous salary configuration, resulting in incorrect payroll amounts. Workaround is to delete and recreate the leave request.",
      "validation_steps": [
        {
          "step": 1,
          "action": "navigate",
          "target": "Payroll → Salary Configuration",
          "description": "Access salary configuration management"
        },
        {
          "step": 2,
          "action": "observe",
          "target": "Salary configuration list or form",
          "expected": "Should display current and previous salary configurations with effective dates"
        },
        {
          "step": 3,
          "action": "capture",
          "target": "Salary configuration interface",
          "screenshot": "val-002-salary-config-list"
        },
        {
          "step": 4,
          "action": "navigate",
          "target": "Leave Management → Leave Requests → [Unpaid Leave Request]",
          "description": "Access unpaid leave request details"
        },
        {
          "step": 5,
          "action": "observe",
          "target": "Leave deduction amount field",
          "expected": "Should display calculated deduction amount based on salary configuration"
        },
        {
          "step": 6,
          "action": "capture",
          "target": "Unpaid leave deduction display",
          "screenshot": "val-002-unpaid-leave-deduction-amount"
        }
      ],
      "observable_indicators": [
        "Salary configuration effective date",
        "Leave request creation date",
        "Deduction amount displayed in leave request",
        "Daily wage calculation shown in leave details",
        "Salary component values used in calculation"
      ],
      "priority": "high"
    },
    {
      "issue_id": "VAL-003",
      "jira_key": "TSSD-4179",
      "issue_summary": "EOS gratuity calculator not accounting for leap years in service period calculation",
      "reported_behavior": "End of Service gratuity calculation fails to recognize leap years (366 days). System counts 365 days for 2024 (a leap year), resulting in incorrect total service days and lower gratuity amount. Correct calculation should include 366 days for leap years.",
      "validation_steps": [
        {
          "step": 1,
          "action": "navigate",
          "target": "Payroll → Reports → End of Service Gratuity",
          "description": "Access EOS gratuity calculation or report interface"
        },
        {
          "step": 2,
          "action": "observe",
          "target": "EOS gratuity calculation form or report",
          "expected": "Should display employee details, service period, and calculated gratuity amount"
        },
        {
          "step": 3,
          "action": "capture",
          "target": "EOS gratuity calculation interface",
          "screenshot": "val-003-eos-gratuity-form"
        },
        {
          "step": 4,
          "action": "observe",
          "target": "Service period calculation display",
          "expected": "Should show total working days, years of service, and daily wage used in calculation"
        },
        {
          "step": 5,
          "action": "capture",
          "target": "Service period and gratuity amount breakdown",
          "screenshot": "val-003-service-period-breakdown"
        }
      ],
      "observable_indicators": [
        "Date of joining field",
        "Date of departure/exit field",
        "Total working days calculated",
        "Years of service displayed",
        "Daily wage amount shown",
        "Gratuity calculation formula or result",
        "Service period spanning leap year (2024)"
      ],
      "priority": "high"
    }
  ],
  "navigation_paths_from_zendesk": {},
  "configuration_areas_to_document": [
    {
      "area_id": "CONFIG-001",
      "name": "Daily Wage Calculator Configuration",
      "path": "Payroll → Settings → Daily Wage Calculator",
      "expected_sections": [
        "Salary component selection",
        "Formula configuration",
        "Number of days divisor",
        "Formula preview or display"
      ],
      "screenshots_needed": [
        "full-page",
        "formula-configuration-section",
        "salary-component-selection"
      ]
    },
    {
      "area_id": "CONFIG-002",
      "name": "Leave Policy Daily Wage Formula",
      "path": "Leave Management → Leave Policies → [Policy Name]",
      "expected_sections": [
        "Leave policy details",
        "Daily wage formula section",
        "Formula override indicator",
        "Greyed out fields (if applicable)"
      ],
      "screenshots_needed": [
        "full-page",
        "daily-wage-formula-section",
        "override-status-indicator"
      ]
    },
    {
      "area_id": "CONFIG-003",
      "name": "Salary Configuration Management",
      "path": "Payroll → Salary Configuration",
      "expected_sections": [
        "Salary configuration list",
        "Effective date field",
        "Salary components",
        "Configuration history"
      ],
      "screenshots_needed": [
        "full-page",
        "salary-config-list",
        "salary-config-form"
      ]
    },
    {
      "area_id": "CONFIG-004",
      "name": "End of Service Gratuity Calculator",
      "path": "Payroll → Reports → End of Service Gratuity",
      "expected_sections": [
        "Employee selection",
        "Service period dates",
        "Working days calculation",
        "Gratuity amount calculation",
        "Calculation breakdown"
      ],
      "screenshots_needed": [
        "full-page",
        "gratuity-form",
        "calculation-breakdown",
        "result-display"
      ]
    }
  ],
  "claims_to_validate": [],
  "navigation_paths": {
    "paths": [],
    "breadcrumbs": [],
    "steps": []
  },
  "procedures": [],
  "validation_config": {
    "base_url": "https://app.bayzat.com",
    "login_required": true,
    "required_role": "Superadmin",
    "max_attempts_per_validation": 2,
    "screenshot_on_each_step": false,
    "timeout_ms": 30000,
    "wait_after_navigation_ms": 2000
  },
  "app": {
    "base_url": "https://app.bayzat.com/",
    "username": "bayzlander@bayzat.com",
    "password": "landofbayzat123"
  },
  "output_configuration": {
    "screenshots_dir": ".validation/output/daily_wage_calculator/v9/screenshots",
    "reports_dir": ".validation/output/daily_wage_calculator/v9",
    "evidence_file": ".validation/output/daily_wage_calculator/v9/evidence.json",
    "summary_file": ".validation/output/daily_wage_calculator/v9/validation-summary.md"
  }
}
