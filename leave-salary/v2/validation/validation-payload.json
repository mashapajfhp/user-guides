{
  "nextVersion": "v2",
  "feature_info": {
    "feature_name": "leave_salary",
    "feature_slug": "leave-salary",
    "next_version": "v2"
  },
  "playwright_context": {
    "feature_metadata": {
      "name": "leave_salary",
      "slug": "leave-salary",
      "category": "payroll",
      "version": "",
      "is_new": null
    },
    "what_to_do": [
      {
        "task": "Configure Leave Salary Policy",
        "steps": [
          "Navigate to Settings > Leave > Leave Policies",
          "Edit Leave Policy",
          "Toggle 'Leave Salary Settings' to enable",
          "Go to Payroll Settings and select 'Leave Salary Policy'",
          "Define Policy Name and add Policy Description",
          "Select applicable leave types",
          "Configure leave salary calculation formula and select allowance components",
          "Add eligible employees manually, applying probation restrictions if applicable",
          "Review and save the policy"
        ],
        "expected_outcome": "Leave salary policy is configured with correct parameters, eligible employees assigned, and policy activated from the set date.",
        "source_articles": [
          "21886275643921",
          "25042444366609"
        ]
      },
      {
        "task": "Manage Leave Salary Requests",
        "steps": [
          "Navigate to Finance > Leave Salary",
          "Review pending leave salary requests and check eligibility",
          "Approve or reject requests",
          "Optionally overwrite approved amounts before final approval",
          "Add approved amounts to payroll table",
          "Process leave salary transactions"
        ],
        "expected_outcome": "Leave salary requests are reviewed, approved or rejected correctly, and amounts are accurately reflected in payroll.",
        "source_articles": [
          "21886938971281",
          "25042444366609"
        ]
      },
      {
        "task": "Process Leave Salary Transactions",
        "steps": [
          "Submit leave salary transactions",
          "Filter employees by 'leave salary' request type",
          "Calculate prorated salaries based on leave period and working day settings",
          "Exclude non-applicable allowances from calculation",
          "Choose salary payment month (current or different month)",
          "Update payroll table with calculated amounts",
          "Add transaction remarks if needed",
          "Generate Variable Pay File (VPF)"
        ],
        "expected_outcome": "Leave salary transactions are processed accurately with prorated calculations and integrated into payroll for the selected month.",
        "source_articles": [
          "21888855153937",
          "25042444366609"
        ]
      }
    ],
    "what_to_watch_out_for": [
      {
        "issue": "Leave Salary Accrual Report limitations",
        "limitation": "The report lacks flexible sorting, precise number formatting, and comprehensive employee data fields. It is generated on-the-go, restricting real-time customization and immediate client-requested modifications.",
        "workaround": null,
        "jira_reference": "TSSD-3124",
        "severity": "medium"
      },
      {
        "issue": "Currency label mismatch on Leave Salary landing page",
        "limitation": "The landing page currency label is static and does not dynamically reflect the company's configured currency, causing potential confusion.",
        "workaround": null,
        "jira_reference": "TSSD-4112",
        "severity": "low"
      },
      {
        "issue": "No retroactive leave salary policy assignment",
        "limitation": "Leave salary eligibility is determined at the time of leave request creation; policies assigned afterward do not apply retroactively.",
        "workaround": null,
        "jira_reference": "TSSD-4449",
        "severity": "medium"
      },
      {
        "issue": "Multiple leave salary requests for leaves spanning multiple cycles",
        "limitation": "The system does not consolidate leave salary requests across different leave cycles, requiring manual tracking and approval of separate requests.",
        "workaround": null,
        "jira_reference": "TSSD-2683",
        "severity": "medium"
      },
      {
        "issue": "Lack of month-specific leave salary breakdown",
        "limitation": "The platform only shows aggregate leave salary calculations without detailed day allocations per month for multi-month leaves.",
        "workaround": null,
        "jira_reference": "TSSD-2682",
        "severity": "medium"
      },
      {
        "issue": "Leave salary accrual affected by working days configuration",
        "limitation": "Using 'working days' setting in daily wage calculator causes monthly fluctuations in leave salary accrual calculations, leading to inconsistent totals.",
        "workaround": null,
        "jira_reference": "TSSD-3648",
        "severity": "medium"
      },
      {
        "issue": "Inconsistent leave salary report download for individual staff",
        "limitation": "Users cannot directly download leave salary reports for specific staff members via standard interface; manual workarounds are needed.",
        "workaround": null,
        "jira_reference": "TSSD-4291",
        "severity": "medium"
      },
      {
        "issue": "Incomplete payroll templates missing leave salary and unpaid leave data",
        "limitation": "Payroll templates lack detailed absent days count and leave salary policy amounts, limiting comprehensive payroll validation.",
        "workaround": null,
        "jira_reference": "TSSD-2681, OS-1450",
        "severity": "high"
      },
      {
        "issue": "Complexity and lack of clarity in Leave Salary Encashment configuration",
        "limitation": "Users face difficulties understanding salary components and restrictions during leave salary encashment due to insufficient guidance.",
        "workaround": null,
        "jira_reference": "TSSD-3386",
        "severity": "high"
      },
      {
        "issue": "Leave salary requests not generated for cross-cycle leaves",
        "limitation": "The system cannot automatically process leave salary requests starting before the current payroll cycle, requiring manual intervention.",
        "workaround": null,
        "jira_reference": "TSSD-4887",
        "severity": "high"
      },
      {
        "issue": "Inconsistent synchronization between leave approval and payroll generation",
        "limitation": "Not all approved leave requests propagate automatically to leave salary queue, causing incomplete payroll processing.",
        "workaround": null,
        "jira_reference": "TSSD-3050",
        "severity": "high"
      },
      {
        "issue": "No automated notification for payroll managers on leave salary policy setup",
        "limitation": "Payroll managers are not automatically notified when new leave salary-enabled time off policies are configured, requiring manual communication.",
        "workaround": null,
        "jira_reference": "OS-239",
        "severity": "medium"
      },
      {
        "issue": "Lack of comprehensive end-to-end tests for leave salary request generation",
        "limitation": "The system does not have full automated test coverage for leave salary request workflows, limiting test reliability.",
        "workaround": null,
        "jira_reference": "OS-313",
        "severity": "medium"
      },
      {
        "issue": "Missing technical documentation for leave salary calculations",
        "limitation": "There is no comprehensive internal documentation explaining leave salary calculation rules and processes.",
        "workaround": null,
        "jira_reference": "OS-335",
        "severity": "medium"
      },
      {
        "issue": "Payroll table lacks 'Leave Salary' filter",
        "limitation": "Users cannot filter payroll data by leave salary, limiting reporting customization.",
        "workaround": null,
        "jira_reference": "OS-205",
        "severity": "low"
      },
      {
        "issue": "Leave Salary page lacks leave encashment request management",
        "limitation": "Users cannot create or manage leave encashment requests within the leave salary interface, limiting workflow integration.",
        "workaround": null,
        "jira_reference": "OS-482",
        "severity": "medium"
      },
      {
        "issue": "User confusion on posting leave salary transactions",
        "limitation": "The workflow for posting leave salary transactions is not intuitive, despite existing filtering functionality.",
        "workaround": null,
        "jira_reference": "OS-192",
        "severity": "low"
      }
    ],
    "consolidation_summary": {
      "jira_tickets_received": 20,
      "jira_tickets_consolidated": 17,
      "zendesk_articles_received": 5,
      "tasks_consolidated": 3
    }
  }
}