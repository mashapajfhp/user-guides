<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Leave Salary - User Guide</title>

  <style>
    /* CSS Reset and Base */
    *, *::before, *::after {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
      line-height: 1.6;
      color: #1a1a1a;
      background-color: #ffffff;
      max-width: 900px;
      margin: 0 auto;
      padding: 20px;
    }

    /* Hero Banner */
    .hero-banner {
      background: linear-gradient(135deg, #6B46C1 0%, #805AD5 100%);
      color: #ffffff;
      padding: 60px 40px;
      border-radius: 12px;
      margin-bottom: 40px;
      text-align: center;
    }

    .hero-banner h1 {
      font-size: 2.5rem;
      font-weight: 700;
      margin-bottom: 16px;
      color: #ffffff;
    }

    .hero-subtitle {
      font-size: 1.2rem;
      opacity: 0.95;
      color: #ffffff;
    }

    /* Typography - ALL BLACK */
    h1, h2, h3, h4, h5, h6 {
      color: #1a1a1a;
      font-weight: 600;
      margin-top: 2rem;
      margin-bottom: 1rem;
    }

    h2 {
      font-size: 1.75rem;
      padding-bottom: 0.5rem;
      border-bottom: 2px solid #E2E8F0;
    }

    h3 {
      font-size: 1.35rem;
    }

    p {
      color: #1a1a1a;
      margin-bottom: 1rem;
    }

    /* Sections */
    section, .section {
      margin-bottom: 3rem;
      padding: 24px;
      background: #ffffff;
      border-radius: 8px;
      border: 1px solid #E2E8F0;
    }

    /* Info Boxes - Only 2 Types Allowed */
    .info-box, .note-box, .tip-box {
      padding: 16px 20px;
      border-radius: 8px;
      margin: 20px 0;
      background: #FAF5FF;
      border-left: 4px solid #6B46C1;
    }

    .info-box p, .note-box p, .tip-box p {
      color: #1a1a1a;
      margin: 0;
    }

    .warning-box, .important-box, .caution-box {
      padding: 16px 20px;
      border-radius: 8px;
      margin: 20px 0;
      background: #FFFBEB;
      border-left: 4px solid #D97706;
    }

    .warning-box p, .important-box p, .caution-box p {
      color: #1a1a1a;
      margin: 0;
    }

    /* Lists - Black text, standard bullets */
    ul, ol {
      margin: 1rem 0;
      padding-left: 2rem;
      color: #1a1a1a;
    }

    li {
      margin-bottom: 0.5rem;
      color: #1a1a1a;
    }

    /* Tables */
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 20px 0;
      background: #ffffff;
    }

    th, td {
      padding: 12px 16px;
      text-align: left;
      border: 1px solid #E2E8F0;
      color: #1a1a1a;
    }

    th {
      background: #F7FAFC;
      font-weight: 600;
      color: #1a1a1a;
    }

    tr:hover {
      background: #F7FAFC;
    }

    /* Screenshots - Centered */
    .screenshot-container, figure {
      margin: 24px auto;
      text-align: center;
    }

    .screenshot, figure img {
      max-width: 100%;
      height: auto;
      border-radius: 8px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      border: 1px solid #E2E8F0;
      display: block;
      margin: 0 auto;
    }

    figcaption {
      margin-top: 12px;
      font-size: 0.9rem;
      color: #1a1a1a;
      font-style: italic;
    }

    /* Feature Cards */
    .feature-card, .card {
      background: #ffffff;
      border: 1px solid #E2E8F0;
      border-radius: 8px;
      padding: 20px;
      margin: 16px 0;
    }

    .feature-card h4, .card h4 {
      color: #1a1a1a;
      margin-top: 0;
    }

    .feature-card p, .card p {
      color: #1a1a1a;
    }

    /* Steps */
    .step, .step-item {
      display: flex;
      gap: 16px;
      margin: 20px 0;
      padding: 16px;
      background: #F7FAFC;
      border-radius: 8px;
    }

    .step-number {
      background: #6B46C1;
      color: #ffffff;
      width: 32px;
      height: 32px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
      flex-shrink: 0;
    }

    .step-content {
      flex: 1;
    }

    .step-content p {
      color: #1a1a1a;
      margin: 0;
    }

    /* Navigation Path */
    .nav-path, .breadcrumb {
      background: #F7FAFC;
      padding: 12px 16px;
      border-radius: 6px;
      font-family: monospace;
      color: #1a1a1a;
      margin: 16px 0;
    }

    /* Code blocks */
    code {
      background: #F7FAFC;
      padding: 2px 6px;
      border-radius: 4px;
      font-family: 'SF Mono', Monaco, monospace;
      font-size: 0.9em;
      color: #1a1a1a;
    }

    pre {
      background: #F7FAFC;
      padding: 16px;
      border-radius: 8px;
      overflow-x: auto;
      color: #1a1a1a;
    }

    /* Links */
    a {
      color: #6B46C1;
      text-decoration: none;
    }

    a:hover {
      text-decoration: underline;
    }

    /* Citations */
    .citation {
      font-size: 0.85rem;
      color: #1a1a1a;
      background: #F7FAFC;
      padding: 2px 8px;
      border-radius: 4px;
    }

    /* Footer */
    footer, .footer {
      margin-top: 40px;
      padding-top: 20px;
      border-top: 1px solid #E2E8F0;
      text-align: center;
      color: #1a1a1a;
      font-size: 0.9rem;
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      body {
        padding: 16px;
      }

      .hero-banner {
        padding: 40px 24px;
      }

      .hero-banner h1 {
        font-size: 1.75rem;
      }

      h2 {
        font-size: 1.5rem;
      }

      section, .section {
        padding: 16px;
      }

      table {
        font-size: 0.9rem;
      }

      th, td {
        padding: 8px 12px;
      }
    }

    @media (max-width: 480px) {
      .hero-banner h1 {
        font-size: 1.5rem;
      }

      .hero-subtitle {
        font-size: 1rem;
      }

      .step {
        flex-direction: column;
        gap: 12px;
      }
    }

    /* Print Styles */
    @media print {
      body {
        max-width: 100%;
        padding: 0;
      }

      .hero-banner {
        background: #6B46C1 !important;
        -webkit-print-color-adjust: exact;
        print-color-adjust: exact;
      }

      section, .section {
        break-inside: avoid;
      }
    }

    /* Quick Navigation */
    .guide-nav {
      background: linear-gradient(135deg, #f8f9ff 0%, #f0f4ff 100%);
      border-radius: 16px;
      padding: 24px;
      margin-bottom: 40px;
      border: 1px solid #e2e8f0;
    }

    .nav-header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 20px;
      padding-bottom: 16px;
      border-bottom: 2px solid #e2e8f0;
    }

    .nav-icon { font-size: 1.5rem; }
    .nav-title { font-size: 1.1rem; font-weight: 600; color: #1e293b; }

    .nav-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 12px;
    }

    .nav-card {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 14px 16px;
      background: #ffffff;
      border-radius: 12px;
      text-decoration: none;
      color: #334155;
      font-size: 0.9rem;
      font-weight: 500;
      border: 1px solid #e2e8f0;
      transition: all 0.2s ease;
    }

    .nav-card:hover {
      border-color: #6B46C1;
      box-shadow: 0 4px 12px rgba(107, 70, 193, 0.15);
      transform: translateY(-2px);
    }

    .card-icon { font-size: 1.2rem; }
    .card-label { flex: 1; }

    /* Journey Phases */
    .journey-roadmap { padding: 24px 0; }
    .journey-roadmap h3 { margin-top: 0; margin-bottom: 8px; }
    .journey-roadmap > p { color: #64748b; margin-bottom: 24px; }

    .journey-phases {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 16px;
    }

    .journey-phase {
      background: #ffffff;
      border-radius: 12px;
      padding: 20px;
      border: 1px solid #e2e8f0;
      transition: all 0.2s ease;
    }

    .journey-phase:hover {
      border-color: #6B46C1;
      box-shadow: 0 4px 12px rgba(107, 70, 193, 0.1);
    }

    .phase-marker {
      width: 36px;
      height: 36px;
      background: linear-gradient(135deg, #6B46C1 0%, #805AD5 100%);
      color: #ffffff;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 1rem;
      margin-bottom: 12px;
    }

    .phase-content h4 { margin: 0 0 8px 0; font-size: 1rem; color: #1e293b; }
    .phase-content .nav-path {
      font-size: 0.85rem;
      color: #64748b;
      margin: 0 0 12px 0;
      padding: 8px 12px;
      background: #f8fafc;
      border-radius: 6px;
    }

    .phase-link {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      font-size: 0.85rem;
      color: #6B46C1;
      text-decoration: none;
      font-weight: 500;
    }

    .phase-link:hover { text-decoration: underline; }
    /* FAQ Accordion */
    .faq-accordion { display: flex; flex-direction: column; gap: 12px; margin-top: 16px; }
    .faq-item { border: 1px solid #E2E8F0; border-radius: 12px; overflow: hidden; background: #ffffff; transition: all 0.2s ease; }
    .faq-item:hover { border-color: #6B46C1; box-shadow: 0 2px 8px rgba(107, 70, 193, 0.1); }
    .faq-item[open] { border-color: #6B46C1; box-shadow: 0 4px 12px rgba(107, 70, 193, 0.15); }
    .faq-question { display: flex; align-items: center; justify-content: space-between; padding: 18px 20px; font-weight: 600; font-size: 1rem; color: #1a1a2e; cursor: pointer; background: #f8f9ff; list-style: none; transition: all 0.2s ease; }
    .faq-question::-webkit-details-marker { display: none; }
    .faq-question::after { content: ''; width: 10px; height: 10px; border-right: 2px solid #6B46C1; border-bottom: 2px solid #6B46C1; transform: rotate(-45deg); transition: transform 0.3s ease; flex-shrink: 0; margin-left: 16px; }
    .faq-item[open] .faq-question::after { transform: rotate(45deg); }
    .faq-question:hover { background: linear-gradient(135deg, #faf5ff 0%, #f3e8ff 100%); color: #6B46C1; }
    .faq-item[open] .faq-question { background: linear-gradient(135deg, #f8f9ff 0%, #f0f4ff 100%); border-bottom: 1px solid #e2e8f0; color: #1a1a2e; }
    .faq-item[open] .faq-question::after { border-color: #1a1a2e; }
    .faq-answer { padding: 20px; background: #ffffff; color: #334155; line-height: 1.7; border-top: 1px solid #E2E8F0; animation: fadeIn 0.3s ease; }
    .faq-answer p { margin: 0; color: #334155; }
    .faq-answer ul, .faq-answer ol { margin: 12px 0; padding-left: 24px; }
    .faq-answer li { margin-bottom: 8px; color: #334155; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(-8px); } to { opacity: 1; transform: translateY(0); } }
  </style>

</head>
<body>
<div class="hero-banner">
  <h1>Leave Salary</h1>
  <p class="hero-subtitle">Automate paid leave compensation with flexible calculation policies</p>
</div>

<nav class="guide-nav" aria-label="Guide navigation">
  <div class="nav-header">
    <span class="nav-icon">üìñ</span>
    <span class="nav-title">Quick Navigation</span>
  </div>
  <div class="nav-grid">
    <a class="nav-card" href="#feature-overview">
      <span class="card-icon">‚ú®</span>
      <span class="card-label">Feature Overview</span>
    </a>
    <a class="nav-card" href="#product-foundation">
      <span class="card-icon">üèóÔ∏è</span>
      <span class="card-label">Product Foundation</span>
    </a>
    <a class="nav-card" href="#user-journey">
      <span class="card-icon">üó∫Ô∏è</span>
      <span class="card-label">User Journey</span>
    </a>
    <a class="nav-card" href="#feature-discovery">
      <span class="card-icon">üîç</span>
      <span class="card-label">Feature Discovery</span>
    </a>
    <a class="nav-card" href="#setup-process">
      <span class="card-icon">‚öôÔ∏è</span>
      <span class="card-label">Setup Process</span>
    </a>
    <a class="nav-card" href="#feature-usage">
      <span class="card-icon">üìã</span>
      <span class="card-label">Feature Usage</span>
    </a>
    <a class="nav-card" href="#troubleshooting">
      <span class="card-icon">üîß</span>
      <span class="card-label">Troubleshooting</span>
    </a>
    <a class="nav-card" href="#support-resources">
      <span class="card-icon">üí¨</span>
      <span class="card-label">Support Resources</span>
    </a>
  </div>
</nav>

<section class="section" id="feature-overview">
  <h2>What is Leave Salary?</h2>

  <h3>Overview</h3>
  <p>Leave Salary enables organizations to compensate employees for approved paid leave periods by calculating salary amounts based on configurable policies. The feature automates the entire lifecycle from policy configuration through payroll processing.</p>

  <figure class="screenshot-container">
    <img src="validation/screenshots/01-leave-salary-landing-page.png" alt="Leave Salary landing page showing pending requests and summary cards" class="screenshot">
    <figcaption>Leave Salary landing page - Managing leave salary requests</figcaption>
  </figure>

  <h3>Who Uses This Feature?</h3>
  <p>The primary users of Leave Salary include:</p>
  <table>
    <thead>
      <tr>
        <th>User Role</th>
        <th>What They Do</th>
        <th>Value Proposition</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><strong>Super Admins</strong></td>
        <td>Configure leave salary policies and system-wide settings</td>
        <td>Define organization-wide leave salary rules once and have them applied consistently‚Äîensuring policy compliance without manual enforcement</td>
      </tr>
      <tr>
        <td><strong>Payroll Managers</strong></td>
        <td>Process leave salary transactions and manage payroll integration</td>
        <td>Process leave salary payments with pre-calculated, policy-compliant amounts‚Äîeliminating manual calculations and reducing payroll errors</td>
      </tr>
      <tr>
        <td><strong>Leave Managers</strong></td>
        <td>Review and approve leave salary requests</td>
        <td>Approve requests with full visibility into employee eligibility and calculated amounts‚Äîrather than manually verifying balances and entitlements</td>
      </tr>
      <tr>
        <td><strong>HR Administrators</strong></td>
        <td>Monitor leave salary accruals and generate reports</td>
        <td>Track leave salary liabilities and accruals in real-time‚Äîproviding accurate data for budgeting and compliance reporting without spreadsheet reconciliation</td>
      </tr>
    </tbody>
  </table>

  <h3>Key Benefits</h3>
  <ul>
    <li>Automatically calculate and process leave salary based on customizable policies</li>
    <li>Support multiple salary components including basic salary and allowances</li>
    <li>Streamline approval workflows with multi-stage request management</li>
    <li>Generate comprehensive reports for payroll reconciliation and compliance</li>
    <li>Reduce manual calculation errors through automated daily rate determination</li>
  </ul>
</section>

<section class="section section-product-foundation" id="product-foundation">
    <header class="section-header">
      <h2 class="section-title">Product Foundation Overview</h2>
    </header>
    <div class="section-body">
      <div class="subsection">
        <h3>How Leave Salary Fits</h3>
        <p>Leave Salary is a <strong>transaction processor</strong> that calculates and pays employees for approved paid leave. When employees take leave with leave salary enabled, the system generates a request that flows through approval to payroll.</p>
        <div class="info-box">
          <p><strong>Mental model:</strong> Leave Policy (rules) ‚Üí Approved Leave ‚Üí Leave Salary Request ‚Üí Approval ‚Üí Payroll</p>
        </div>
        <p>Leave salary uses daily wage settings for calculations. Policy changes affect future requests but not pending ones.</p>
      </div>

      <div class="subsection">
        <h3>Key Decisions Before Setup</h3>
        <p>Answer these questions before configuring leave salary:</p>
        <ul>
          <li><strong>Which leave types?</strong> ‚Äî Enable leave salary for which leave categories?</li>
          <li><strong>Calculation formula?</strong> ‚Äî Based on basic salary or basic + allowances?</li>
          <li><strong>Approval workflow?</strong> ‚Äî Who approves leave salary requests?</li>
          <li><strong>Advance payment?</strong> ‚Äî Pay before or after leave period?</li>
        </ul>
      </div>

      <div class="subsection">
        <h3>Related Features</h3>
        <ul>
          <li><strong>Leave Management</strong> ‚Äî Triggers leave salary when approved leave is taken</li>
          <li><strong>Payroll Processing</strong> ‚Äî Receives approved amounts for payment</li>
          <li><strong>Daily Wage Calculator</strong> ‚Äî Determines daily rate for calculations</li>
          <li><strong>Employee Profiles</strong> ‚Äî Stores leave salary history and records</li>
        </ul>
      </div>

      <div class="subsection">
        <h3>Prerequisites & Requirements</h3>
        <table class="requirements-table">
          <thead>
            <tr><th>Requirement</th><th>Description</th><th>Status</th></tr>
          </thead>
          <tbody>
            <tr>
              <td>User Role</td>
              <td>Super Admin, Payroll Manager, or Leave Manager access</td>
              <td>Required</td>
            </tr>
            <tr>
              <td>Payroll Module</td>
              <td>Active Bayzat Payroll subscription</td>
              <td>Required</td>
            </tr>
            <tr>
              <td>Leave Policies</td>
              <td>Leave types with leave salary enabled</td>
              <td>Required</td>
            </tr>
            <tr>
              <td>Employee Data</td>
              <td>Complete profiles with salary information</td>
              <td>Required</td>
            </tr>
            <tr>
              <td>Daily Wage Settings</td>
              <td>Daily wage calculation configured</td>
              <td>Required</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </section>

<section class="section" id="user-journey">
  <h2>Complete User Journey Guide</h2>

  <div class="journey-roadmap">
    <h3>End-to-End Journey: Leave Salary</h3>
    <p>From policy configuration through payroll processing.</p>

    <div class="journey-phases">
      <div class="journey-phase">
        <div class="phase-marker">1</div>
        <div class="phase-content">
          <h4>Configure Policy</h4>
          <div class="nav-path">Settings ‚Üí Payroll ‚Üí Leave Salary Policy</div>
          <a href="#setup-process" class="phase-link">See configuration ‚Üí</a>
        </div>
      </div>

      <div class="journey-phase">
        <div class="phase-marker">2</div>
        <div class="phase-content">
          <h4>Employee Takes Leave</h4>
          <div class="nav-path">Auto-generated leave salary request</div>
          <a href="#feature-usage" class="phase-link">See trigger ‚Üí</a>
        </div>
      </div>

      <div class="journey-phase">
        <div class="phase-marker">3</div>
        <div class="phase-content">
          <h4>Review Requests</h4>
          <div class="nav-path">Payroll ‚Üí Leave Salary ‚Üí Pending</div>
          <a href="#feature-usage" class="phase-link">See review ‚Üí</a>
        </div>
      </div>

      <div class="journey-phase">
        <div class="phase-marker">4</div>
        <div class="phase-content">
          <h4>Approve/Reject</h4>
          <div class="nav-path">Individual or bulk approval</div>
          <a href="#feature-usage" class="phase-link">See approval ‚Üí</a>
        </div>
      </div>

      <div class="journey-phase">
        <div class="phase-marker">5</div>
        <div class="phase-content">
          <h4>Add to Payroll</h4>
          <div class="nav-path">Move to payroll table</div>
          <a href="#feature-usage" class="phase-link">See payroll ‚Üí</a>
        </div>
      </div>

      <div class="journey-phase">
        <div class="phase-marker">6</div>
        <div class="phase-content">
          <h4>Process Payment</h4>
          <div class="nav-path">Complete pay cycle</div>
          <a href="#feature-usage" class="phase-link">See processing ‚Üí</a>
        </div>
      </div>
    </div>
  </div>

  <h3>Success Indicators</h3>
  <ul>
    <li>Leave salary policy is configured and active with employees assigned</li>
    <li>Requests flow through Pending > Approved > At Payroll > Processed stages</li>
    <li>Calculated amounts match expected values based on policy formula</li>
    <li>Leave salary appears in employee payroll table and pay slip</li>
    <li>Reports accurately reflect all leave salary transactions</li>
  </ul>
</section>

<section class="section" id="feature-discovery">
  <h2>Feature Discovery</h2>

  <h3>How to Access</h3>
  <p>Access Leave Salary from the main navigation: <strong>Payroll > Leave Salary</strong>. This is the primary interface for managing all leave salary requests and transactions.</p>

  <h3>Navigation Paths</h3>
  <table>
    <thead>
      <tr>
        <th>Destination</th>
        <th>Path</th>
        <th>URL</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>Leave Salary Management</td>
        <td>Payroll > Leave Salary</td>
        <td><code>/enterprise/payroll/leave-salary</code></td>
      </tr>
      <tr>
        <td>Policy Settings</td>
        <td>Settings > Payroll > Leave salary policy</td>
        <td><code>/enterprise/dashboard/settings/payroll</code></td>
      </tr>
      <tr>
        <td>Create New Policy</td>
        <td>Settings > Payroll > Leave salary policy > Add new</td>
        <td><code>/enterprise/payroll/leave-salary-policy/new</code></td>
      </tr>
    </tbody>
  </table>

  <figure class="screenshot-container">
    <img src="validation/screenshots/02-leave-salary-landing.png" alt="Leave Salary interface showing tabs and actions" class="screenshot">
    <figcaption>Leave Salary main interface with tabs for different request states</figcaption>
  </figure>

  <h3>Interface Overview</h3>
  <p>The Leave Salary landing page contains the following key components:</p>
  <div class="feature-card">
    <h4>Summary Cards</h4>
    <p>Display count of pending leave salary requests and total amount requested. Provides quick overview of processing queue.</p>
  </div>
  <div class="feature-card">
    <h4>Tab Navigation</h4>
    <p>Switch between request states: Pending, Approved, Rejected, At Payroll, and Processed. Each tab shows badge count.</p>
  </div>
  <div class="feature-card">
    <h4>Search and Filters</h4>
    <p>Search by employee name or ID. Filter by currency, amount range, and request date.</p>
  </div>
  <div class="feature-card">
    <h4>Actions</h4>
    <p>Create leave salary request button and download options for accrual and leave salary reports.</p>
  </div>
</section>

<section class="section" id="setup-process">
  <h2>Setup Process</h2>

  <h3>Initial Configuration</h3>
  <p>Leave Salary requires a 3-step policy configuration wizard to establish calculation rules and employee assignments.</p>

  <div class="info-box">
    <strong>Note:</strong> Employees must be assigned to a leave salary policy BEFORE creating leave requests to be eligible for automatic leave salary generation.
  </div>

  <h3>Step-by-Step Setup</h3>

  <div class="step">
    <div class="step-number">1</div>
    <div class="step-content">
      <h4>Navigate to Policy Settings</h4>
      <p>Go to Settings > Payroll > Leave salary policy and click the "Add new" button to open the policy creation wizard.</p>
    </div>
  </div>

  <figure class="screenshot-container">
    <img src="validation/screenshots/08-leave-salary-policy-list.png" alt="Leave salary policy list in settings" class="screenshot">
    <figcaption>Leave salary policy settings showing existing policies</figcaption>
  </figure>

  <div class="step">
    <div class="step-number">2</div>
    <div class="step-content">
      <h4>Configure Policy Details (Step 1)</h4>
      <p>Enter policy name and description. Select eligible leave types from the dropdown (required field).</p>
    </div>
  </div>

  <figure class="screenshot-container">
    <img src="validation/screenshots/09-leave-salary-policy-creation-form.png" alt="Policy creation form showing configuration sections" class="screenshot">
    <figcaption>Policy creation wizard - Step 1: Setup Policy</figcaption>
  </figure>

  <figure class="screenshot-container">
    <img src="validation/screenshots/10-leave-types-dropdown.png" alt="Leave types dropdown selection" class="screenshot">
    <figcaption>Selecting eligible leave types for the policy</figcaption>
  </figure>

  <div class="step">
    <div class="step-number">3</div>
    <div class="step-content">
      <h4>Configure Leave Salary Formula</h4>
      <p>The formula is: <code>(Salary component / Working days) * number of leaves</code></p>
      <ul>
        <li><strong>Salary Component:</strong> Basic salary OR Basic salary + allowances</li>
        <li><strong>Working Days:</strong> Calendar days, Working days, or Custom days</li>
        <li><strong>Allowances:</strong> Select specific allowances when using Basic + allowances option</li>
      </ul>
    </div>
  </div>

  <figure class="screenshot-container">
    <img src="validation/screenshots/11-salary-component-dropdown.png" alt="Salary component selection options" class="screenshot">
    <figcaption>Selecting salary component for calculation</figcaption>
  </figure>

  <figure class="screenshot-container">
    <img src="validation/screenshots/12-working-days-dropdown.png" alt="Working days calculation options" class="screenshot">
    <figcaption>Working days calculation method options</figcaption>
  </figure>

  <figure class="screenshot-container">
    <img src="validation/screenshots/15-allowances-multiselect.png" alt="Allowances multi-select dropdown" class="screenshot">
    <figcaption>Selecting allowances when using Basic salary + allowances option</figcaption>
  </figure>

  <div class="warning-box">
    <strong>Warning:</strong> When selecting "Custom days" for working days, the system displays: "Total net pay for the leave month may differ when using this setting"
  </div>

  <figure class="screenshot-container">
    <img src="validation/screenshots/13-custom-days-field.png" alt="Custom days input field with warning" class="screenshot">
    <figcaption>Custom days field with warning message</figcaption>
  </figure>

  <div class="step">
    <div class="step-number">4</div>
    <div class="step-content">
      <h4>Configure Optional Settings</h4>
      <p>Enable minimum leave days requirement if needed. Toggle probation restriction to prevent leave salary during probation period.</p>
    </div>
  </div>

  <figure class="screenshot-container">
    <img src="validation/screenshots/14-minimum-days-field.png" alt="Minimum days toggle and input" class="screenshot">
    <figcaption>Configuring minimum leave days requirement</figcaption>
  </figure>

  <div class="step">
    <div class="step-number">5</div>
    <div class="step-content">
      <h4>Add Employees (Step 2)</h4>
      <p>Select employees to assign to this policy. Employees can only be assigned to one leave salary policy at a time.</p>
    </div>
  </div>

  <div class="step">
    <div class="step-number">6</div>
    <div class="step-content">
      <h4>Review and Save (Step 3)</h4>
      <p>Review all settings and employee assignments. Click Save to activate the policy.</p>
    </div>
  </div>

  <h3>Verification Steps</h3>
  <ol>
    <li>Confirm policy appears in the policy list with Active status</li>
    <li>Verify assigned employees count matches expectations</li>
    <li>Test by creating a leave request for an assigned employee</li>
    <li>Check that leave salary request is automatically generated</li>
  </ol>
</section>

<section class="section" id="feature-usage">
  <h2>Feature Usage</h2>

  <h3>Common Workflows</h3>
  <p>Leave Salary supports several key workflows for managing employee leave compensation:</p>

  <div class="feature-card">
    <h4>Create Leave Salary Request</h4>
    <p>Requests are automatically generated when eligible employees submit approved leave. Admins can also manually create requests using the "Create leave salary request" button.</p>
  </div>

  <figure class="screenshot-container">
    <img src="validation/screenshots/03-create-leave-salary-request-dialog.png" alt="Create leave salary request dialog" class="screenshot">
    <figcaption>Creating a leave salary request - Employee search dialog</figcaption>
  </figure>

  <div class="feature-card">
    <h4>Eligibility Validation</h4>
    <p>The system validates that employees have approved paid leave eligible for leave salary. If not eligible, an error message is displayed.</p>
  </div>

  <figure class="screenshot-container">
    <img src="validation/screenshots/05-no-eligible-leave-alert.png" alt="No eligible leave error message" class="screenshot">
    <figcaption>Error when employee has no eligible leave for leave salary</figcaption>
  </figure>

  <div class="feature-card">
    <h4>Approve and Process Requests</h4>
    <p>Review pending requests, approve individually or in bulk, optionally override amounts with remarks, then add to payroll table.</p>
  </div>

  <figure class="screenshot-container">
    <img src="validation/screenshots/08-approved-tab.png" alt="Approved tab showing approved requests" class="screenshot">
    <figcaption>Approved requests ready to be added to payroll</figcaption>
  </figure>

  <h3>Using Search and Filters</h3>
  <p>The Leave Salary interface provides powerful search and filter capabilities:</p>

  <figure class="screenshot-container">
    <img src="validation/screenshots/06-filters-panel.png" alt="Filters panel with available options" class="screenshot">
    <figcaption>Filter panel with Currency, Amount, and Date filters</figcaption>
  </figure>

  <figure class="screenshot-container">
    <img src="validation/screenshots/07-currency-dropdown.png" alt="Currency dropdown options" class="screenshot">
    <figcaption>Currency filter dropdown</figcaption>
  </figure>

  <h3>Download Reports</h3>
  <p>Generate leave salary reports using the download dropdown:</p>

  <figure class="screenshot-container">
    <img src="validation/screenshots/09-download-options.png" alt="Download dropdown showing report options" class="screenshot">
    <figcaption>Download options - Accrual report and Leave salary report</figcaption>
  </figure>

  <h3>Best Practices</h3>
  <ul>
    <li><strong>Policy Assignment Timing:</strong> Always assign employees to leave salary policy before they create leave requests</li>
    <li><strong>Consistent Calculation Method:</strong> Use custom days (30) for consistent calculations across all months</li>
    <li><strong>Document Overrides:</strong> Always add remarks when manually overriding calculated amounts</li>
    <li><strong>Regular Processing:</strong> Process leave salary requests regularly to prevent backlog</li>
    <li><strong>Verify Calculations:</strong> Spot-check calculations against expected values periodically</li>
  </ul>
</section>

<section class="section" id="business-rules">
  <h2>Business Rules & Limitations</h2>

  <h3>Core Business Rules</h3>
  <table>
    <thead>
      <tr>
        <th>Rule</th>
        <th>Description</th>
        <th>Impact</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>Policy Eligibility Timing</td>
        <td>Eligibility determined at leave request creation based on policy assignment</td>
        <td>Employee must be assigned to policy BEFORE creating leave request</td>
      </tr>
      <tr>
        <td>Single Policy Assignment</td>
        <td>Employees can be in only one leave salary policy at a time</td>
        <td>Multiple policy assignments not supported</td>
      </tr>
      <tr>
        <td>Probation Restrictions</td>
        <td>Policy can restrict leave salary during probation</td>
        <td>Probationary employees excluded from leave salary</td>
      </tr>
      <tr>
        <td>Payroll Cycle Constraints</td>
        <td>Requests cannot have start date before active payroll cycle</td>
        <td>Prevents processing of closed period requests</td>
      </tr>
      <tr>
        <td>Amount Override Lock</td>
        <td>Once approved with override, amount cannot be changed</td>
        <td>Must move back to pending to modify</td>
      </tr>
    </tbody>
  </table>

  <h3>System Constraints</h3>
  <ul>
    <li>Cross-cycle leave requests require manual splitting into separate requests</li>
    <li>Retroactive policy assignments are not supported</li>
    <li>Currency label on landing page displays hardcoded AED</li>
    <li>Leave salary accrual report has limited customization options</li>
  </ul>

  <div class="warning-box">
    <strong>Important:</strong> Changes to policy settings apply only to future leave requests. Existing requests maintain their original calculation parameters.
  </div>
</section>

<section class="section" id="troubleshooting">
  <h2>Troubleshooting & Edge Cases</h2>

  <h3>Common Issues</h3>
  <table>
    <thead>
      <tr>
        <th>Issue</th>
        <th>Cause</th>
        <th>Resolution</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>Leave salary request not generated</td>
        <td>Employee not assigned to policy before leave request creation</td>
        <td>Assign employee to policy, delete leave request, recreate</td>
      </tr>
      <tr>
        <td>No eligible leave error</td>
        <td>No approved paid leave or leave type not in policy</td>
        <td>Verify leave is approved and leave type is included in policy</td>
      </tr>
      <tr>
        <td>Incorrect calculation amount</td>
        <td>Wrong salary component or working days setting</td>
        <td>Review policy configuration and verify formula settings</td>
      </tr>
      <tr>
        <td>Cannot approve request</td>
        <td>Insufficient permissions or payroll cycle closed</td>
        <td>Verify role permissions and payroll cycle status</td>
      </tr>
      <tr>
        <td>Request not in payroll table</td>
        <td>Request not moved from Approved to At Payroll</td>
        <td>Click "Add to Payroll Table" for approved requests</td>
      </tr>
    </tbody>
  </table>

  <h3>Edge Cases</h3>
  <div class="warning-box">
    <strong>Cross-Cycle Leave:</strong> When leave spans multiple payroll cycles, the system generates separate requests for each cycle. Each request must be approved and processed independently.
  </div>

  <h3>Resolution Steps</h3>
  <div class="step">
    <div class="step-number">1</div>
    <div class="step-content">
      <h4>Identify the Issue</h4>
      <p>Check request status in Leave Salary tabs. Verify employee is in policy and has eligible leave.</p>
    </div>
  </div>

  <div class="step">
    <div class="step-number">2</div>
    <div class="step-content">
      <h4>Review Configuration</h4>
      <p>Navigate to Settings > Payroll > Leave salary policy. Verify policy settings and employee assignments.</p>
    </div>
  </div>

  <div class="step">
    <div class="step-number">3</div>
    <div class="step-content">
      <h4>Check Policy Assignment Date</h4>
      <p>Compare leave request creation date with policy assignment date. Employee must be assigned BEFORE creating leave.</p>
    </div>
  </div>

  <div class="step">
    <div class="step-number">4</div>
    <div class="step-content">
      <h4>Verify Payroll Cycle</h4>
      <p>Ensure the target payroll cycle is open. Leave salary cannot be processed in closed cycles.</p>
    </div>
  </div>

  <div class="step">
    <div class="step-number">5</div>
    <div class="step-content">
      <h4>Contact Support if Needed</h4>
      <p>If issues persist after checking configuration, contact Bayzat support with employee ID, dates, and error details.</p>
    </div>
  </div>
</section>

<section class="section" id="support-resources">
  <h2>Support Resources</h2>

  <h3>Frequently Asked Questions</h3>

  <div class="faq-accordion">
    <details class="faq-item">
      <summary class="faq-question">What is leave salary and when does it apply?</summary>
      <div class="faq-answer">
        <p>Leave salary is monetary compensation paid to employees for approved paid leave periods. It applies when an employee takes leave types that have leave salary enabled in the policy configuration, such as annual vacation leave.</p>
      </div>
    </details>

    <details class="faq-item">
      <summary class="faq-question">How is the leave salary amount calculated?</summary>
      <div class="faq-answer">
        <p>Leave salary is calculated by multiplying the number of approved leave days by the daily wage rate. The daily wage is determined by the Leave Salary Policy settings, which specify the salary component and days calculation method.</p>
      </div>
    </details>

    <details class="faq-item">
      <summary class="faq-question">Can I pay leave salary in advance?</summary>
      <div class="faq-answer">
        <p>Yes. The Leave Salary Policy can be configured to process payments either before the leave period starts (advance payment) or after the leave is completed. Check your policy settings to verify the payment timing.</p>
      </div>
    </details>

    <details class="faq-item">
      <summary class="faq-question">Why isn't leave salary generating for an employee?</summary>
      <div class="faq-answer">
        <p>Verify: (1) The leave type has leave salary enabled, (2) The employee is assigned to a Leave Salary Policy, (3) The leave request is approved, (4) The employee meets any eligibility criteria defined in the policy.</p>
      </div>
    </details>

    <details class="faq-item">
      <summary class="faq-question">How do I approve leave salary requests?</summary>
      <div class="faq-answer">
        <p>Navigate to the Leave Salary section and check the Pending tab. Review the request details including leave dates and calculated amount, then use the Approve or Reject actions. Approved amounts are automatically added to the payroll table.</p>
      </div>
    </details>
  </div>

  <h3>Getting Help</h3>
  <p>If you encounter issues with Leave Salary, the following resources are available:</p>
  <ul>
    <li>Bayzat Help Center - Comprehensive guides and FAQs</li>
    <li>In-app Support - Contextual help within the platform</li>
    <li>Customer Support Team - For complex issues or configuration assistance</li>
  </ul>

  <h3>Contact Information</h3>
  <ul>
    <li>Email: support@bayzat.com</li>
    <li>In-app Chat: Available during business hours</li>
    <li>Help Center: help.bayzat.com</li>
  </ul>

  <div class="info-box">
    <strong>Note:</strong> When contacting support, include: feature name, steps to reproduce, screenshots, employee IDs, and relevant dates.
  </div>
</section>

<section class="section" id="glossary">
  <h2>Glossary of Terms</h2>
  <table>
    <thead>
      <tr>
        <th>Term</th>
        <th>Definition</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><strong>Leave Salary</strong></td>
        <td>Monetary compensation provided to employees for approved paid leave days, calculated based on configured salary components and working days.</td>
      </tr>
      <tr>
        <td><strong>Leave Salary Policy</strong></td>
        <td>Configuration defining eligible employees, leave types, and calculation formula for leave salary.</td>
      </tr>
      <tr>
        <td><strong>Daily Wage</strong></td>
        <td>Per-day salary rate calculated by dividing salary components by configured working days.</td>
      </tr>
      <tr>
        <td><strong>Salary Component</strong></td>
        <td>Elements of compensation (basic salary, allowances) included in leave salary calculations.</td>
      </tr>
      <tr>
        <td><strong>Working Days</strong></td>
        <td>Divisor used in daily wage calculation. Can be calendar days, actual working days, or custom fixed number.</td>
      </tr>
      <tr>
        <td><strong>Payroll Cycle</strong></td>
        <td>Recurring period for salary processing. Leave salary requests must align with open cycles.</td>
      </tr>
      <tr>
        <td><strong>At Payroll</strong></td>
        <td>Request status indicating amount has been added to payroll table for processing.</td>
      </tr>
      <tr>
        <td><strong>Override Amount</strong></td>
        <td>Manually entered amount that replaces system-calculated value, requiring documented remarks.</td>
      </tr>
      <tr>
        <td><strong>Accrual Report</strong></td>
        <td>Report showing cumulative leave salary amounts calculated over a specified period.</td>
      </tr>
      <tr>
        <td><strong>Probation Period</strong></td>
        <td>Initial employment period during which leave salary may be restricted based on policy settings.</td>
      </tr>
    </tbody>
  </table>
</section>

<footer class="footer">
  <p><strong>Leave Salary</strong> User Guide</p>
  <p>Version v6 | Last Updated: 2026-01-13</p>
  <p>Generated by Bayzat Documentation System</p>
</footer>
</body>
</html>
