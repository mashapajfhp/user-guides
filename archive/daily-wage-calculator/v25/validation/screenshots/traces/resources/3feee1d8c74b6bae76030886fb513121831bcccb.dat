import{O as l,b1 as ne,Q as I,b2 as y,bl as se,bm as B,b4 as D,W as ae,X as oe,H as re,af as C,a as H,a8 as U,j as s,P as F,fE as ie,fF as ce,fA as de,fB as b,fC as o,fG as ue,r as W,T as i,d as w,S as me,U as pe,V as le}from"./assets/index-rhBbSAok.js";import{d as fe}from"./GenericSuccessResponse-R235NyAN__cache.js";import{s as _e,d as ge}from"./useAccountIntegrationConnectionStatus_CustomQuery-XnE03dmA__cache.js";import{m as he}from"./mapResponseArrayDataOnlyGenerator-vWqRqF0l__cache.js";import{c as ye}from"./AccountIntegration.abilities-iGk72gZu__cache.js";import{u as Me}from"./useAccountingPlatformName-2eNC-XXr__cache.js";import{T as xe}from"./TextField-tMfA-iyC__cache.js";var h=(e=>(e.SingleEntry="SingleEntry",e.PerEmployee="PerEmployee",e.PerCostCentre="PerCostCentre",e))(h||{});const v=[["SingleEntry",{id:"single-entry",name:"SingleEntry"}],["PerEmployee",{id:"per-employee",name:"PerEmployee"}],["PerCostCentre",{id:"per-cost-centre",name:"PerCostCentre"}]],Ee=new Map(v),ke=new Map(v.map(([e,t])=>[t.id,e])),$t=v.map(([e,t])=>e);function A(e){return Ee.get(e).id}function j(e){return ke.get(e)}var Ce=(e=>(e.Positive="Positive",e.Negative="Negative",e))(Ce||{});const G=[["Positive",{id:"positive",name:"Positive"}],["Negative",{id:"negative",name:"Negative"}]];new Map(G);const be=new Map(G.map(([e,t])=>[t.id,e]));function Ae(e){return be.get(e)}var je=(e=>(e.Submitted="Submitted",e.Draft="Draft",e))(je||{});const Q=[["Submitted",{id:"submitted",name:"Submitted"}],["Draft",{id:"draft",name:"Draft"}]];new Map(Q);const Ie=new Map(Q.map(([e,t])=>[t.id,e]));function ve(e){return Ie.get(e)}function $e(e){const t={};return t.configurationId=e.configuration_id,t}function ze(e){const t={};return t.codat_bank_account_id=e.codatBankAccountId,t.payroll_company_bank_details_id=e.payrollCompanyBankDetailsId,t}function Te(e){const t={};return t.codatBankAccountId=e.codat_bank_account_id,t.payrollCompanyBankDetailsId=e.payroll_company_bank_details_id,t}function Le(e){const t={};return t.codat_cost_center_id=e.codatCostCenterId,t.cost_center_id=e.costCenterId,t}function Ne(e){const t={};return t.codatCostCenterId=e.codat_cost_center_id,t.costCenterId=e.cost_center_id,t}const R=[["UaeExchange",{id:"uae-exchange",name:"UaeExchange"}],["AlAnsariExchange",{id:"al-ansari-exchange",name:"AlAnsariExchange"}],["LuluExchangeHouse",{id:"lulu-exchange-house",name:"LuluExchangeHouse"}],["OtherExchangeHouse",{id:"other-exchange-house",name:"OtherExchangeHouse"}]],Oe=new Map(R),Ue=new Map(R.map(([e,t])=>[t.id,e]));function Fe(e){return Oe.get(e).id}function Be(e){return Ue.get(e)}function De(e){const t={};return t.codat_account_id=e.codatAccountId,t.exchange_house=Fe(e.exchangeHouse),t}function He(e){const t={};return t.codatAccountId=e.codat_account_id,t.exchangeHouse=Be(e.exchange_house),t}var c=(e=>(e.Salary="Salary",e.OneTime="OneTime",e.Eos="Eos",e.WorkExpense="WorkExpense",e.AdjustmentAddition="AdjustmentAddition",e.AdjustmentDeduction="AdjustmentDeduction",e))(c||{});const X=[["Salary",{id:"salary",name:"Salary"}],["OneTime",{id:"one-time",name:"OneTime"}],["Eos",{id:"eos",name:"Eos"}],["WorkExpense",{id:"work-expense",name:"WorkExpense"}],["AdjustmentAddition",{id:"adjustment-addition",name:"AdjustmentAddition"}],["AdjustmentDeduction",{id:"adjustment-deduction",name:"AdjustmentDeduction"}]],We=new Map(X),we=new Map(X.map(([e,t])=>[t.id,e]));function Ge(e){return We.get(e).id}function V(e){return we.get(e)}function Qe(e){const t={};return t.codat_paid_account_id=e.codatPaidAccountId,t.codat_paid_mode_of_entry=A(e.codatPaidModeOfEntry),t.codat_unpaid_account_id=e.codatUnpaidAccountId,e.codatUnpaidModeOfEntry&&(t.codat_unpaid_mode_of_entry=A(e.codatUnpaidModeOfEntry)),t.pay_item_subtype_id=e.payItemSubtypeId,t}function Re(e){const t={};return t.codatPaidAccountId=e.codat_paid_account_id,t.codatPaidModeOfEntry=j(e.codat_paid_mode_of_entry),t.codatUnpaidAccountId=e.codat_unpaid_account_id,e.codat_unpaid_mode_of_entry&&(t.codatUnpaidModeOfEntry=j(e.codat_unpaid_mode_of_entry)),t.payItemSubtypeId=e.pay_item_subtype_id,t}function Xe(e){const t={};return t.category=Ge(e.category),t.items=e.items.map(n=>Qe(n)),t}function Ve(e){const t={};return t.category=V(e.category),t.items=e.items.map(n=>Re(n)),t}function J(e){const t={};return t.account_id_for_cash=e.accountIdForCash,t.account_id_for_cheque=e.accountIdForCheque,t.accounting_cost_center_type=_e(e.accountingCostCenterType),e.bankAccountConfigurations&&(t.bank_account_configurations=e.bankAccountConfigurations.map(n=>ze(n))),e.costCenterMapping&&(t.cost_center_mapping=e.costCenterMapping.map(n=>Le(n))),t.credit_account_grouping_type=A(e.creditAccountGroupingType),t.custom_employee_field_id=e.customEmployeeFieldId,e.exchangeHouses&&(t.exchange_houses=e.exchangeHouses.map(n=>De(n))),e.payItemTypeMappings&&(t.pay_item_type_mappings=e.payItemTypeMappings.map(n=>Xe(n))),t}function Je(e){const t={};return t.accountIdForCash=e.account_id_for_cash,t.accountIdForCheque=e.account_id_for_cheque,e.accounting_cost_center_type&&(t.accountingCostCenterType=ge(e.accounting_cost_center_type)),t.bankConfigurations=e.bank_configurations.map(n=>Te(n)),t.configurationId=e.configuration_id,t.costCenterMapping=e.cost_center_mapping.map(n=>Ne(n)),e.credit_account_grouping_type&&(t.creditAccountGroupingType=j(e.credit_account_grouping_type)),t.customEmployeeFieldId=e.custom_employee_field_id,t.exchangeHouses=e.exchange_houses.map(n=>He(n)),t.payItemTypeMappings=e.pay_item_type_mappings.map(n=>Ve(n)),t.submitStatus=ve(e.submit_status),t}const Ke=e=>`/companies/${e.companyId}/accounting/setup/configuration`,K=e=>`/companies/${e.companyId}/accounting/setup/configuration/${e.configId}`,Ye=()=>{const e=Ze.useMocker();return ne({toURLFunction:Ke,mapResponseFunction:y($e),mapRequestFunction:B(J),options:{mocker:e}})},Ze=l(Ye),qe=(e,t)=>{const n=Se.useMocker();return I({toURLFunction:K,mapResponseFunction:y(Je),options:{mocker:n}})(e,void 0,t)},Se=l(qe),Pe=()=>{const e=et.useMocker();return se({toURLFunction:K,mapResponseFunction:y(fe),mapRequestFunction:B(J),options:{mocker:e}})},et=l(Pe);function tt(e){const t={};return t.effect=Ae(e.effect),t.id=e.id,t.name=e.name,t}function nt(e){const t={};return t.category=V(e.category),t.items=e.items.map(n=>tt(n)),t}const st=({companyId:e})=>`/companies/${e}/accounting/pay-item-types`,at=e=>{const t=ot.useMocker();return I({toURLFunction:st,mapResponseFunction:he(nt),options:{mocker:t}})(e)},ot=l(at),rt=(e,t)=>{switch(t){case h.SingleEntry:return e.formatMessage({id:"hr.payroll.account-integration.mode-of-entry.consolidation-entry",defaultMessage:"Consolidated entry"});case h.PerEmployee:return e.formatMessage({id:"hr.payroll.account-integration.mode-of-entry.entry-per-emplooyee",defaultMessage:"Entry per employee"});case h.PerCostCentre:return e.formatMessage({id:"hr.payroll.account-integration.mode-of-entry.entry-per-cost-center",defaultMessage:"Entry per cost center"})}},it=D(rt),ct=(e,t)=>{switch(t){case c.Salary:return e.formatMessage({id:"hr.payroll.pay-item.basic-salary",defaultMessage:"Salary configurations"});case c.OneTime:return e.formatMessage({id:"hr.payroll.pay-item.one-time",defaultMessage:"One time"});case c.Eos:return e.formatMessage({id:"hr.payroll.pay-item.eos",defaultMessage:"End of service"});case c.WorkExpense:return e.formatMessage({id:"hr.payroll.pay-item.work-expense",defaultMessage:"Work expense"});case c.AdjustmentAddition:return e.formatMessage({id:"hr.payroll.pay-item.adjustment-addition",defaultMessage:"Adjustment addition"});case c.AdjustmentDeduction:return e.formatMessage({id:"hr.payroll.pay-item.adjustment-deduction",defaultMessage:"Adjustment deduction"})}},dt=D(ct);var Y=(e=>(e.CreditBankAccounts="CreditBankAccounts",e.CreditNonBankAccounts="CreditNonBankAccounts",e.DebitAccounts="DebitAccounts",e.CreditAccounts="CreditAccounts",e.AllAccounts="AllAccounts",e))(Y||{});const Z=[["CreditBankAccounts",{id:"credit-bank-accounts",name:"CreditBankAccounts"}],["CreditNonBankAccounts",{id:"credit-non-bank-accounts",name:"CreditNonBankAccounts"}],["DebitAccounts",{id:"debit-accounts",name:"DebitAccounts"}],["CreditAccounts",{id:"credit-accounts",name:"CreditAccounts"}],["AllAccounts",{id:"all-accounts",name:"AllAccounts"}]],ut=new Map(Z);new Map(Z.map(([e,t])=>[t.id,e]));function mt(e){return ut.get(e).id}const q=[["Unknown",{id:"unknown",name:"Unknown"}],["Asset",{id:"asset",name:"Asset"}],["Expense",{id:"expense",name:"Expense"}],["Income",{id:"income",name:"Income"}],["Liability",{id:"liability",name:"Liability"}],["Equity",{id:"equity",name:"Equity"}]];new Map(q);const pt=new Map(q.map(([e,t])=>[t.id,e]));function lt(e){return pt.get(e)}function ft(e){const t={};return t.accountType=lt(e.account_type),t.id=e.id,t.isBankAccount=e.is_bank_account,t.name=e.name,t.nominalCode=e.nominal_code,t}function _t(e){const t={};return e.accounts&&(t.accounts=e.accounts.map(n=>ft(n))),t}const gt=({companyId:e})=>`/companies/${e}/accounting/accounts`,S=(e,t,n)=>{const d=ht.useMocker();return I({toURLFunction:gt,mapResponseFunction:y(_t),options:{mocker:d}})(e,t,n)},ht=l(S),yt=()=>{const e=ae(),t=oe(ye),n=mt(Y.AllAccounts);return S({companyId:e},{filters:{filterType:n}},{enabled:t})},Mt=re()(e=>({columnsClassName:{background:C.grey[100],paddingTop:e.spacing(1.5),paddingBottom:e.spacing(1.5)},fillRemainingHeight:{maxHeight:"300px"},tableWrapper:{display:"flex",flexDirection:"column",overflow:"hidden",width:"100%"},table:{"& td":{border:`1px solid ${C.grey[200]}`,padding:e.spacing(1)},"& th":{border:`1px solid ${C.grey[200]}`,padding:e.spacing(1),fontSize:16},marginTop:e.spacing(1),marginBottom:e.spacing(2)}})),r=w({parentCategoryColumn:{id:"hr.payroll.account-integration.review-and-save.pay-item-mapping-table-column.parent-category",defaultMessage:"Parent category on Bayzat"},payItemColumn:{id:"hr.payroll.account-integration.review-and-save.pay-item-mapping-table-column.pay-item",defaultMessage:"Pay items on Bayzat"},accountsColumn:{id:"hr.payroll.account-integration.review-and-save.pay-item-mapping-table-column.account-on-software",defaultMessage:"Accounts on {software}"},accountsUnpaidColumn:{id:"hr.payroll.account-integration.review-and-save.pay-item-mapping-table-column.software-account-if-unpaid",defaultMessage:"{software} accounts if unpaid"}}),zt=e=>{const t=H(),{classes:n,cx:d}=Mt(),{payItems:M,payItemTypes:u,tableContainerClasses:x}=e,{platformName:f}=Me(),{data:a}=yt(),E=U(dt),_=U(it),P=(u==null?void 0:u.reduce((g,m)=>[...g,...m.items],[]))||[];return s.jsx(F,{elevation:0,square:!1,variant:"elevation",className:d(n.tableWrapper,n.fillRemainingHeight,x),children:s.jsx(ie,{className:n.fillRemainingHeight,component:F,children:s.jsxs(ce,{className:n.table,"data-external-id":"pay-item-mapping-table",children:[s.jsx(de,{children:s.jsxs(b,{children:[s.jsx(o,{align:"left",className:n.columnsClassName,children:t.formatMessage(r.parentCategoryColumn)},r.parentCategoryColumn.id),s.jsx(o,{align:"left",className:n.columnsClassName,children:t.formatMessage(r.payItemColumn)},r.payItemColumn.id),s.jsx(o,{align:"left",className:n.columnsClassName,children:t.formatMessage(r.accountsColumn,{software:f})},r.accountsColumn.id),s.jsx(o,{align:"left",className:n.columnsClassName,children:t.formatMessage(r.accountsUnpaidColumn,{software:f})},r.accountsUnpaidColumn.id)]})}),s.jsx(ue,{children:M.map(({category:g,items:m})=>m.length?s.jsxs(W.Fragment,{children:[s.jsx(b,{hover:!0,children:s.jsx(o,{rowSpan:m.length+1,children:s.jsxs(i,{variant:"body1",children:[E(g)," "]})})}),m.map(({payItemSubtypeId:$,codatPaidAccountId:ee,codatUnpaidAccountId:te,...k})=>{var z,T,L,N,O;return s.jsxs(b,{hover:!0,children:[s.jsx(o,{children:s.jsx(i,{variant:"body1",children:(z=P.find(p=>p.id===$))==null?void 0:z.name})}),s.jsxs(o,{children:[s.jsx(i,{variant:"body2",children:(L=(T=a==null?void 0:a.accounts)==null?void 0:T.find(p=>p.id===ee))==null?void 0:L.name}),s.jsx(i,{marginTop:2,variant:"body2",children:_(k.codatPaidModeOfEntry)})]}),s.jsxs(o,{children:[s.jsx(i,{variant:"body2",children:(O=(N=a==null?void 0:a.accounts)==null?void 0:N.find(p=>p.id===te))==null?void 0:O.name}),s.jsx(i,{marginTop:2,variant:"body2",children:k.codatUnpaidModeOfEntry&&_(k.codatUnpaidModeOfEntry)})]})]},$)})]},g):null)})]})})})},xt="CONFIRM",Et=w({confirm:{id:"hr.payroll.account-integration.confirmation-sync-dialog.confirm",defaultMessage:"CONFIRM"}}),Tt=({title:e="",warningMessage:t="",subtitle:n="",confirmationButtonColor:d="error",confirmButtonText:M="",onConfirm:u,onCancel:x})=>{const f=H(),[a,E]=W.useState("");return s.jsx(me,{confirmButton:{onClick:u,text:M,color:d,disabled:a!==xt},cancelButton:{show:!0,onClick:x},showCloseButton:!0,title:e,content:s.jsxs(s.Fragment,{children:[s.jsx(pe,{variant:le.Warning,message:s.jsx(i,{color:"textPrimary",children:t}),withIcon:!0}),s.jsx(i,{variant:"subtitle1",mt:2,children:n}),s.jsx(xe,{hiddenLabel:!0,fullWidth:!0,placeholder:f.formatMessage(Et.confirm),onChange:_=>E(_??"")})]})})};export{$t as A,Tt as C,zt as P,je as S,Le as a,A as b,De as c,Xe as d,$e as e,h as f,Ce as g,dt as h,yt as i,Ye as j,Pe as k,qe as l,it as m,ze as s,at as u};
