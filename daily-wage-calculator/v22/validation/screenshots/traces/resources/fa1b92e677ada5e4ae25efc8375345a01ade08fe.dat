import{gp as an,mu as _o,co as Uo,by as oa,r as d,h0 as zt,gr as La,gs as H,j as t,g4 as dt,gb as ea,gi as sn,a1 as ia,h5 as nn,F as on,G as rn,O as mt,Q as Ve,b2 as ra,lT as $o,b3 as la,b1 as Vt,bm as bt,cb as vt,bl as ln,H as G,ai as be,fU as Na,fz as hs,mh as zo,de as xs,T as j,b7 as Se,af as se,a as Q,P as Pa,B as le,f_ as Re,d as Z,g3 as Vo,g2 as Ro,gc as Fo,mv as Wo,b9 as Ct,ao as Ea,ah as L,kM as ta,fg as Pe,kL as aa,ca as _a,gd as ce,bW as _e,X as ae,S as qe,aN as Je,ce as ys,j6 as Pt,a0 as re,L as Ee,d_ as Oo,cT as Ho,e0 as Go,bU as ue,fy as qo,b4 as Yo,mw as Qo,aj as Ut,ak as yt,mx as Ko,my as Jo,eo as Aa,bA as Ua,W as Xe,mz as cn,ag as Xo,hl as Zo,c7 as ca,U as ei,V as ti,$ as As,am as sa,al as na,ad as ai,ae as si,bN as da,hb as ni,j2 as ma,cV as ze,fT as oi,bK as rt,j_ as bs,d4 as ii,jU as Sa,cC as $a,bL as me,lK as ri,k_ as Ss,a2 as Ds,mA as dn,a3 as Qa,mB as mn,mC as li,d9 as ci,kn as di,hJ as mi,eQ as ui,fJ as un,df as pi,cl as is,hV as gi,kz as pn,fM as gn,fP as fn,k6 as hn,cn as xn,h$ as fi,aS as hi,bp as Tt,bS as Jt,gn as yn,Z as xi,bB as Bs,bO as yi,bP as bi,bQ as vi,bX as bn,bM as vn,bT as Ci,bV as ji,ha as ki,gR as Mi,ct as wi,hq as Ii,hx as Ti,cf as Ai,br as Si,dc as Di,bC as Bi,a9 as Cn,fO as Li,cm as Ni,c2 as Pi,mD as Ei,jE as _i,fS as Ui,ke as $i,hh as Ls,kP as zi,mE as Vi,dP as Ri,mF as Ns,mG as Fi,mH as Wi,eb as Oi,lQ as Hi,ec as Gi,bz as qi,E as Yi,kN as Qi,kO as Ki,bs as Ji,mI as Xi,mJ as Zi,f$ as er,fL as tr,f4 as ar,a4 as Ps,ar as sr}from"./assets/index-rhBbSAok.js";import{C as ie,u as nr}from"./Celebrations-Knq2jS90__cache.js";import{a as jn}from"./taskManagement-S3szKU9S__cache.js";import{u as or,O as ir}from"./OverduePaymentsBanner-hcuo_BMn__cache.js";import{s as rs}from"./FileRequestPayload-1y2BXBNm__cache.js";import{d as rr,s as lr,N as ls,L as kn,a as Mn,C as wn,b as cr}from"./Comment-att5arUf__cache.js";import{d as dr,K as mr}from"./KnowledgeHubItemType-FZbmO1ba__cache.js";import{m as ua}from"./mapResponseArrayGenerator-jtAzkRDY__cache.js";import{u as ur,a as pr,I as gr}from"./InvitationDialog-dhDvJS-L__cache.js";import{b as fr}from"./ListEmployees-X3EfDHYO__cache.js";import{u as hr}from"./MissingDocuments-MqgaObxh__cache.js";import{C as jt}from"./Card-0cclI5zr__cache.js";import{C as kt}from"./CardHeader-1G2eswnR__cache.js";import{c as pa}from"./convertToDate-i5APjuD0__cache.js";import{i as xr}from"./index-1LF5yytd__cache.js";import{s as vs}from"./index-Uo5f76c2__cache.js";import{T as Cs,a as $t}from"./TabScrollButton-DqUI29NG__cache.js";import{u as za}from"./useTrackEventBaynalytics-qtCjzqQ4__cache.js";import{s as yr,D as Ka}from"./DocumentCategory-6H5PN_Ag__cache.js";import{u as br}from"./useListEmployeeDocumentTypesBasedOnPermission-F-8QX60b__cache.js";import{M as vr,D as Cr}from"./MuqeemIntegrationDialog-jKLT_2s6__cache.js";import{u as jr}from"./useMuqeemIntegration-6mb3OC30__cache.js";import{D as In,a as Tn}from"./DocumentStatus-lIImpt4R__cache.js";import{F as An}from"./FormatDate-f2AQWiWt__cache.js";import{S as Sn,a as Xt}from"./SimpleTabs-lEY1Ndzp__cache.js";import{m as kr}from"./mapResponseArrayDataOnlyGenerator-vWqRqF0l__cache.js";import{B as Dn}from"./BayzatAvatar-2qdCdJet__cache.js";import{S as Bn,C as Ln,g as Mr,i as Es,h as wr,s as Ir}from"./CommentRichtextEditor-Mf_MSkO8__cache.js";import{a as js,W as _s,E as Tr}from"./EmbedVideoModal-GFSxTdyl__cache.js";import{b as Da,a as cs,C as Ar,F as Sr}from"./FileUploaderBase-rOZnb-He__cache.js";import{a as Nn,F as ct,O as Pn}from"./FileUploadCard-SYKRFYl-__cache.js";import{F as En}from"./FileUploadsViewerModal-x4bY6Opz__cache.js";import{C as Dr}from"./ContentTypeIcon-vOjvgncm__cache.js";import{f as Br}from"./formatDistanceToNowWithIntl-_X6LdON-__cache.js";import{V as _n}from"./View1Icon-IfE2VW6e__cache.js";import{V as Lr}from"./ViewIcon-fcD4nZWN__cache.js";import{D as Nr}from"./DownloadBottomIcon-rr6q8xxr__cache.js";import{u as Pr}from"./useDialog-gRSbQfEN__cache.js";import{T as Er}from"./TwoColorCircularProgress-Z2X0XMAs__cache.js";import{S as _r}from"./SingleNeutralCircleIcon--BtBpSLZ__cache.js";import{T as ds}from"./TextField-tMfA-iyC__cache.js";import{B as Us}from"./ButtonRefreshArrowsIcon-Rpque3AC__cache.js";import{I as Un}from"./ImagePreviewer-DrvlaGkH__cache.js";import{c as Ur}from"./useDebouncedState-a416yYCf__cache.js";import{D as $r}from"./DropzoneAttachmentUploader-uXQ3IImi__cache.js";import{U as zr}from"./types-syHtOx8i__cache.js";import{i as Vr,a as Rr,b as Fr,c as Wr,d as Or,f as Hr,e as $n,g as Gr,r as zn,p as qr}from"./useDesktopPicker-ru3jT7CX__cache.js";import{u as Yr,D as Qr}from"./DateTextFieldWrapper-9wpNeDjr__cache.js";import{A as Kr}from"./ArrowRight1Icon-_5Cuu06x__cache.js";import{C as Vn}from"./Calendar3Icon-JcQ9NBJy__cache.js";import{T as Jr}from"./TimeClockCircleAlternateIcon-k2p5IbVs__cache.js";import{v as Xr,r as Et,d as $s}from"./dateViewRenderers-rA8oPqeF__cache.js";import{v as Zr,p as el,P as tl,a as ot,r as al,b as zs,e as Rn,f as Vs,m as Fn,g as sl,c as nl,d as Ja,h as ol}from"./date-time-utils-I0Zx97XW__cache.js";import{s as Va,ae as il,q as rl,a as Wn,g as On,m as Ra,F as ms,h as Hn,G as ll,as as cl,d as Fa,ah as dl,am as ba,af as Xa,v as ml,I as ul,i as Rs,at as pl,au as gl,av as va,aw as fl,J as us,K as Gn,V as hl,ap as Ca,L as xl}from"./PickersLayout-LyIBs7iN__cache.js";import{P as r}from"./index-0cpOJbKN__cache.js";import{D as yl,T as bl,c as vl}from"./index-RtT5owvQ__cache.js";import{t as Cl}from"./tabsClasses-sD9tp4uk__cache.js";import{T as jl}from"./TextField-TqOYmhqJ__cache.js";import{u as kl}from"./Departments-lZVTJGKj__cache.js";import{u as Ml}from"./Offices-DfYbdBLq__cache.js";import{C as Fs}from"./CheckboxInput-9e4-y5wq__cache.js";import{A as wl}from"./AddCircleBoldIcon-7TT5ZfAD__cache.js";import{u as qn}from"./useEmployeeSummaries_CustomQuery-qwCHFIEo__cache.js";import{c as Ws}from"./convertNativeFileToBase64-7WJIyXEU__cache.js";import{u as Il}from"./useCompanyProfile-qPGGVb8e__cache.js";import{u as Tl}from"./useEmployeeProfile-CS8UTcD4__cache.js";import{c as Al}from"./Billing.abilities-l6GpAi39__cache.js";import{c as Sl}from"./Invitations.abilities-aZVAaYPg__cache.js";import{u as Dl}from"./useIsRegularEmployee-b51z4QCI__cache.js";import{E as Bl}from"./ErrorBoundary-X5a5Vu3z__cache.js";import{P as Ll}from"./PageHeading-nXhD4Nsd__cache.js";import{P as Nl}from"./PageContent-363tIqWz__cache.js";import{I as Pl}from"./InsuranceIllustration-OdTwcJGD__cache.js";import{H as El}from"./HorizontalBarChart-5g62TBZh__cache.js";import{w as _l}from"./ScreenTimeTracker-8MJMlCVh__cache.js";import"./TruncatedTypography-V2FZOi0w__cache.js";import"./KnowledgeHubContentType-He-dFEEr__cache.js";import"./Invitations-rVsR6vn2__cache.js";import"./EmployeeNameResponse-sGmcjV44__cache.js";import"./SearchInput-CIzwHG7W__cache.js";import"./InputAdornment-hva1Jw6n__cache.js";import"./TextField.form-wfmQrmdl__cache.js";import"./Pagination-dJEsRaL9__cache.js";import"./Select-rkw5r0hr__cache.js";import"./Select-2iMMU_Ha__cache.js";import"./PaginatedTable-URXGw4_u__cache.js";import"./emailValidator-7aOWd_-7__cache.js";import"./CommonEmployeeResponsePayload-9NsZfpLc__cache.js";import"./EmployeeDocumentTypes-KA6p5XVJ__cache.js";import"./SectionAccordion-hLcPjIUb__cache.js";import"./IntegrationStatus-9y2JvJvV__cache.js";import"./LogsTable-RvwGjNTS__cache.js";import"./CheckboxInput.form-5LK-WYE6__cache.js";import"./useFieldValue-Rw-eHq2___cache.js";import"./usePaginatedData-0kYw8CcN__cache.js";import"./usePaginatedQueryParams-pccVBNS1__cache.js";import"./index-NYmzalZE__cache.js";import"./useValidateIntegration_Query--IyFGI7h__cache.js";import"./FaceId1AlternateIcon-6d8fd3____cache.js";import"./emoji-7BluM_UO__cache.js";import"./defineProperty-CSQu1qWQ__cache.js";import"./typeof-Q9eVcF_1__cache.js";/* empty css                          */import"./isObjectLike-Zu3gTr-k__cache.js";import"./toNumber--u_OnPI-__cache.js";import"./isSymbol-zp8Lep0e__cache.js";import"./MonitorHeartBeatIcon-HUeQh0ej__cache.js";import"./QuestionHelpMessageIcon-OGzhQv8H__cache.js";import"./TimeStopwatch3QuartersIcon-0tBricfj__cache.js";import"./ReceiptDollarIcon-2udkwEdM__cache.js";import"./SingleNeutralIncreaseIcon-KPSv-p4v__cache.js";import"./useLocaleBasedIconRotation-KalKdOmk__cache.js";import"./useFormPrompt-vGsZtCUZ__cache.js";import"./usePrompt-wHoy_R1b__cache.js";import"./useStateWatcherRef-3bCYpZiX__cache.js";import"./PdfViewer-kA7wiOtp__cache.js";import"./CommonFileUploadIcon-WsQb3UxV__cache.js";import"./ImageFileLandscapeAlternateIcon-9b_8SJCt__cache.js";import"./ZoomOut1Icon-hGqvTTCv__cache.js";import"./OfficeFilePdf1Icon-7sFtfR3c__cache.js";import"./Fab-5bdzkMtB__cache.js";import"./ButtonWithTooltip-ZRvEDUuf__cache.js";import"./CommonFileCheckIcon-0Ujj8aBI__cache.js";import"./CommonFileRemoveIcon-khDOLK4n__cache.js";import"./Hyperlink3Icon-ddHc9UkS__cache.js";import"./NavigationMenuVerticalIcon-Y4il9WHM__cache.js";import"./ShapesIcon-X31ghniy__cache.js";import"./commonTransparent1x1DataUriImage-0tTF2Q2P__cache.js";import"./DropzoneFileUploader-pDMOyu5b__cache.js";import"./UploadCircleIcon-UCVVC649__cache.js";import"./useRequestQueue-unvDIQYp__cache.js";import"./useFileUploadTracker-A5RLAxLM__cache.js";import"./RotateBackIcon-ndwsmtaY__cache.js";import"./utils-qnXsQVr6__cache.js";import"./commonPaginationForAllRows-6o5gbw64__cache.js";import"./OfficeResponsePayload-gL-37kkA__cache.js";import"./ErrorReporter-sqMRBJvk__cache.js";import"./Breadcrumbs-vaEJs3BD__cache.js";import"./Breadcrumbs-iuU7DkbN__cache.js";import"./PageBody-DUqeS0DQ__cache.js";function Ul(e){return an(1,arguments),_o(Date.now(),e)}function $l(e){return an(1,arguments),Uo(e,oa(Date.now(),1))}const Wa=({adapter:e,value:a,timezone:s,props:o})=>{const n=Xr({adapter:e,value:a,timezone:s,props:o});return n!==null?n:Zr({adapter:e,value:a,timezone:s,props:o})};Wa.valueManager=Va;const zl=e=>{const a=Vr(e),{forwardedProps:s,internalProps:o}=Rr(a,"date-time");return Fr({forwardedProps:s,internalProps:o,valueManager:Va,fieldValueManager:il,validator:Wa,valueType:"date-time"})},Vl=["slots","slotProps","InputProps","inputProps"],Yn=d.forwardRef(function(a,s){const o=zt({props:a,name:"MuiDateTimeField"}),{slots:n,slotProps:l,InputProps:m,inputProps:u}=o,c=La(o,Vl),i=o,x=(n==null?void 0:n.textField)??(a.enableAccessibleFieldDOMStructure?Wr:jl),f=rl({elementType:x,externalSlotProps:l==null?void 0:l.textField,externalForwardedProps:c,ownerState:i,additionalProps:{ref:s}});f.inputProps=H({},u,f.inputProps),f.InputProps=H({},m,f.InputProps);const p=zl(f),g=Or(p),h=Hr(H({},g,{slots:n,slotProps:l}));return t.jsx(x,H({},h))});function Rl(e){return Wn("MuiDateTimePickerTabs",e)}On("MuiDateTimePickerTabs",["root"]);const Fl=e=>ms(e)?"date":"time",Wl=e=>e==="date"?"day":"hours",Ol=e=>{const{classes:a}=e;return Hn({root:["root"]},Rl,a)},Hl=dt(Cs,{name:"MuiDateTimePickerTabs",slot:"Root",overridesResolver:(e,a)=>a.root})(({theme:e})=>({boxShadow:`0 -1px 0 0 inset ${(e.vars||e).palette.divider}`,"&:last-child":{boxShadow:`0 1px 0 0 inset ${(e.vars||e).palette.divider}`,[`& .${Cl.indicator}`]:{bottom:"auto",top:0}}})),Gl=function(a){const s=zt({props:a,name:"MuiDateTimePickerTabs"}),{dateIcon:o=t.jsx(yl,{}),onViewChange:n,timeIcon:l=t.jsx(bl,{}),view:m,hidden:u=typeof window>"u"||window.innerHeight<667,className:c,sx:i}=s,x=Ra(),f=Ol(s),p=(g,h)=>{n(Wl(h))};return u?null:t.jsxs(Hl,{ownerState:s,variant:"fullWidth",value:Fl(m),onChange:p,className:ea(c,f.root),sx:i,children:[t.jsx($t,{value:"date","aria-label":x.dateTableLabel,icon:t.jsx(d.Fragment,{children:o})}),t.jsx($t,{value:"time","aria-label":x.timeTableLabel,icon:t.jsx(d.Fragment,{children:l})})]})};function ql(e){return Wn("MuiDateTimePickerToolbar",e)}const Za=On("MuiDateTimePickerToolbar",["root","dateContainer","timeContainer","timeDigitsContainer","separator","timeLabelReverse","ampmSelection","ampmLandscape","ampmLabel"]),Yl=["ampm","ampmInClock","value","onChange","view","isLandscape","onViewChange","toolbarFormat","toolbarPlaceholder","views","disabled","readOnly","toolbarVariant","toolbarTitle","className"],Ql=e=>{const{classes:a,isLandscape:s,isRtl:o}=e;return Hn({root:["root"],dateContainer:["dateContainer"],timeContainer:["timeContainer",o&&"timeLabelReverse"],timeDigitsContainer:["timeDigitsContainer",o&&"timeLabelReverse"],separator:["separator"],ampmSelection:["ampmSelection",s&&"ampmLandscape"],ampmLabel:["ampmLabel"]},ql,a)},Kl=dt(ll,{name:"MuiDateTimePickerToolbar",slot:"Root",overridesResolver:(e,a)=>a.root})(({theme:e})=>({paddingLeft:16,paddingRight:16,justifyContent:"space-around",position:"relative",variants:[{props:{toolbarVariant:"desktop"},style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,[`& .${cl.content} .${el.selected}`]:{color:(e.vars||e).palette.primary.main,fontWeight:e.typography.fontWeightBold}}},{props:{toolbarVariant:"desktop",isLandscape:!0},style:{borderRight:`1px solid ${(e.vars||e).palette.divider}`}},{props:{toolbarVariant:"desktop",isLandscape:!1},style:{paddingLeft:24,paddingRight:0}}]})),Jl=dt("div",{name:"MuiDateTimePickerToolbar",slot:"DateContainer",overridesResolver:(e,a)=>a.dateContainer})({display:"flex",flexDirection:"column",alignItems:"flex-start"}),Xl=dt("div",{name:"MuiDateTimePickerToolbar",slot:"TimeContainer",overridesResolver:(e,a)=>a.timeContainer})({display:"flex",flexDirection:"row",variants:[{props:{isRtl:!0},style:{flexDirection:"row-reverse"}},{props:{toolbarVariant:"desktop",isLandscape:!1},style:{gap:9,marginRight:4,alignSelf:"flex-end"}},{props:({isLandscape:e,toolbarVariant:a})=>e&&a!=="desktop",style:{flexDirection:"column"}},{props:({isLandscape:e,toolbarVariant:a,isRtl:s})=>e&&a!=="desktop"&&s,style:{flexDirection:"column-reverse"}}]}),Zl=dt("div",{name:"MuiDateTimePickerToolbar",slot:"TimeDigitsContainer",overridesResolver:(e,a)=>a.timeDigitsContainer})({display:"flex",variants:[{props:{isRtl:!0},style:{flexDirection:"row-reverse"}},{props:{toolbarVariant:"desktop"},style:{gap:1.5}}]}),Os=dt(tl,{name:"MuiDateTimePickerToolbar",slot:"Separator",overridesResolver:(e,a)=>a.separator})({margin:"0 4px 0 2px",cursor:"default",variants:[{props:{toolbarVariant:"desktop"},style:{margin:0}}]}),ec=dt("div",{name:"MuiDateTimePickerToolbar",slot:"AmPmSelection",overridesResolver:(e,a)=>[{[`.${Za.ampmLabel}`]:a.ampmLabel},{[`&.${Za.ampmLandscape}`]:a.ampmLandscape},a.ampmSelection]})({display:"flex",flexDirection:"column",marginRight:"auto",marginLeft:12,[`& .${Za.ampmLabel}`]:{fontSize:17},variants:[{props:{isLandscape:!0},style:{margin:"4px 0 auto",flexDirection:"row",justifyContent:"space-around",width:"100%"}}]});function tc(e){const a=zt({props:e,name:"MuiDateTimePickerToolbar"}),{ampm:s,ampmInClock:o,value:n,onChange:l,view:m,isLandscape:u,onViewChange:c,toolbarFormat:i,toolbarPlaceholder:x="––",views:f,disabled:p,readOnly:g,toolbarVariant:h="mobile",toolbarTitle:k,className:_}=a,A=La(a,Yl),E=sn(),$=H({},a,{isRtl:E}),S=Fa(),{meridiemMode:te,handleMeridiemChange:J}=dl(n,s,l),N=!!(s&&!o),C=h==="desktop",M=Ra(),z=Ql($),V=k??M.dateTimePickerToolbarTitle,q=y=>s?S.format(y,"hours12h"):S.format(y,"hours24h"),b=d.useMemo(()=>n?i?S.formatByString(n,i):S.format(n,"shortDate"):x,[n,i,x,S]);return t.jsxs(Kl,H({isLandscape:u,className:ea(z.root,_),toolbarTitle:V},A,{ownerState:$,children:[t.jsxs(Jl,{className:z.dateContainer,ownerState:$,children:[f.includes("year")&&t.jsx(ot,{tabIndex:-1,variant:"subtitle1",onClick:()=>c("year"),selected:m==="year",value:n?S.format(n,"year"):"–"}),f.includes("day")&&t.jsx(ot,{tabIndex:-1,variant:C?"h5":"h4",onClick:()=>c("day"),selected:m==="day",value:b})]}),t.jsxs(Xl,{className:z.timeContainer,ownerState:$,children:[t.jsxs(Zl,{className:z.timeDigitsContainer,ownerState:$,children:[f.includes("hours")&&t.jsxs(d.Fragment,{children:[t.jsx(ot,{variant:C?"h5":"h3",width:C&&!u?ba:void 0,onClick:()=>c("hours"),selected:m==="hours",value:n?q(n):"--"}),t.jsx(Os,{variant:C?"h5":"h3",value:":",className:z.separator,ownerState:$}),t.jsx(ot,{variant:C?"h5":"h3",width:C&&!u?ba:void 0,onClick:()=>c("minutes"),selected:m==="minutes"||!f.includes("minutes")&&m==="hours",value:n?S.format(n,"minutes"):"--",disabled:!f.includes("minutes")})]}),f.includes("seconds")&&t.jsxs(d.Fragment,{children:[t.jsx(Os,{variant:C?"h5":"h3",value:":",className:z.separator,ownerState:$}),t.jsx(ot,{variant:C?"h5":"h3",width:C&&!u?ba:void 0,onClick:()=>c("seconds"),selected:m==="seconds",value:n?S.format(n,"seconds"):"--"})]})]}),N&&!C&&t.jsxs(ec,{className:z.ampmSelection,ownerState:$,children:[t.jsx(ot,{variant:"subtitle2",selected:te==="am",typographyClassName:z.ampmLabel,value:Xa(S,"am"),onClick:g?void 0:()=>J("am"),disabled:p}),t.jsx(ot,{variant:"subtitle2",selected:te==="pm",typographyClassName:z.ampmLabel,value:Xa(S,"pm"),onClick:g?void 0:()=>J("pm"),disabled:p})]}),s&&C&&t.jsx(ot,{variant:"h5",onClick:()=>c("meridiem"),selected:m==="meridiem",value:n&&te?Xa(S,te):"--",width:ba})]})]}))}function Qn(e,a){var u;const s=Fa(),o=ml(),n=zt({props:e,name:a}),l=n.ampm??s.is12HourCycleInCurrentLocale(),m=d.useMemo(()=>{var c;return((c=n.localeText)==null?void 0:c.toolbarTitle)==null?n.localeText:H({},n.localeText,{dateTimePickerToolbarTitle:n.localeText.toolbarTitle})},[n.localeText]);return H({},n,ul({views:n.views,openTo:n.openTo,defaultViews:["year","day","hours","minutes"],defaultOpenTo:"day"}),{ampm:l,localeText:m,orientation:n.orientation??"portrait",disableIgnoringDatePartForTimeValidation:n.disableIgnoringDatePartForTimeValidation??!!(n.minDateTime||n.maxDateTime||n.disablePast||n.disableFuture),disableFuture:n.disableFuture??!1,disablePast:n.disablePast??!1,minDate:Rs(s,n.minDateTime??n.minDate,o.minDate),maxDate:Rs(s,n.maxDateTime??n.maxDate,o.maxDate),minTime:n.minDateTime??n.minTime,maxTime:n.maxDateTime??n.maxTime,slots:H({toolbar:tc,tabs:Gl},n.slots),slotProps:H({},n.slotProps,{toolbar:H({ampm:l},(u=n.slotProps)==null?void 0:u.toolbar)})})}const ac=d.forwardRef(function(a,s){var k;const o=sn(),{toolbar:n,tabs:l,content:m,actionBar:u,shortcuts:c}=pl(a),{sx:i,className:x,isLandscape:f,classes:p}=a,g=u&&(((k=u.props.actions)==null?void 0:k.length)??0)>0,h=H({},a,{isRtl:o});return t.jsxs(gl,{ref:s,className:ea(va.root,p==null?void 0:p.root,x),sx:[{[`& .${va.tabs}`]:{gridRow:4,gridColumn:"1 / 4"},[`& .${va.actionBar}`]:{gridRow:5}},...Array.isArray(i)?i:[i]],ownerState:h,children:[f?c:n,f?n:c,t.jsxs(fl,{className:ea(va.contentWrapper,p==null?void 0:p.contentWrapper),sx:{display:"grid"},children:[m,l,g&&t.jsx(ia,{sx:{gridRow:3,gridColumn:"1 / 4"}})]}),u]})}),sc=["openTo","focusedView","timeViewsCount"],nc=function(a,s,o){var x,f;const{openTo:n,focusedView:l,timeViewsCount:m}=o,u=La(o,sc),c=H({},u,{autoFocus:!1,focusedView:null,sx:[{[`&.${Vs.root}`]:{borderBottom:0},[`&.${Vs.root}, .${Fn.root}, &.${sl.root}`]:{maxHeight:hl}}]}),i=Ca(s);return t.jsxs(d.Fragment,{children:[(x=a[i?"day":s])==null?void 0:x.call(a,H({},o,{view:i?"day":s,focusedView:l&&ms(l)?l:null,views:o.views.filter(ms),sx:[{gridColumn:1},...c.sx]})),m>0&&t.jsxs(d.Fragment,{children:[t.jsx(ia,{orientation:"vertical",sx:{gridColumn:2}}),(f=a[i?s:"hours"])==null?void 0:f.call(a,H({},c,{view:i?s:"hours",focusedView:l&&Ca(l)?l:null,openTo:Ca(n)?n:"hours",views:o.views.filter(Ca),sx:[{gridColumn:3},...c.sx]}))]})]})},Kn=d.forwardRef(function(a,s){var E,$,S,te;const o=Ra(),n=Fa(),l=Qn(a,"MuiDesktopDateTimePicker"),{shouldRenderTimeInASingleColumn:m,thresholdToRenderTimeInASingleColumn:u,views:c,timeSteps:i}=al(l),x=m?nl:zs,f=H({day:Et,month:Et,year:Et,hours:x,minutes:x,seconds:x,meridiem:x},l.viewRenderers),p=l.ampmInClock??!0,h=((E=f.hours)==null?void 0:E.name)===zs.name?c:c.filter(J=>J!=="meridiem"),k=m?[]:["accept"],_=H({},l,{viewRenderers:f,format:Rn(n,l),views:h,yearsPerRow:l.yearsPerRow??4,ampmInClock:p,timeSteps:i,thresholdToRenderTimeInASingleColumn:u,shouldRenderTimeInASingleColumn:m,slots:H({field:Yn,layout:ac,openPickerIcon:vl},l.slots),slotProps:H({},l.slotProps,{field:J=>{var N;return H({},us((N=l.slotProps)==null?void 0:N.field,J),$n(l),{ref:s})},toolbar:H({hidden:!0,ampmInClock:p,toolbarVariant:"desktop"},($=l.slotProps)==null?void 0:$.toolbar),tabs:H({hidden:!0},(S=l.slotProps)==null?void 0:S.tabs),actionBar:J=>{var N;return H({actions:k},us((N=l.slotProps)==null?void 0:N.actionBar,J))}})}),{renderPicker:A}=Gr({props:_,valueManager:Va,valueType:"date-time",getOpenDialogAriaText:Gn({utils:n,formatKey:"fullDate",contextTranslation:o.openDatePickerDialogue,propsTranslation:(te=_.localeText)==null?void 0:te.openDatePickerDialogue}),validator:Wa,rendererInterceptor:nc});return A()});Kn.propTypes={ampm:r.bool,ampmInClock:r.bool,autoFocus:r.bool,className:r.string,closeOnSelect:r.bool,dayOfWeekFormatter:r.func,defaultValue:r.object,disabled:r.bool,disableFuture:r.bool,disableHighlightToday:r.bool,disableIgnoringDatePartForTimeValidation:r.bool,disableOpenPicker:r.bool,disablePast:r.bool,displayWeekNumber:r.bool,enableAccessibleFieldDOMStructure:r.any,fixedWeekNumber:r.number,format:r.string,formatDensity:r.oneOf(["dense","spacious"]),inputRef:zn,label:r.node,loading:r.bool,localeText:r.object,maxDate:r.object,maxDateTime:r.object,maxTime:r.object,minDate:r.object,minDateTime:r.object,minTime:r.object,minutesStep:r.number,monthsPerRow:r.oneOf([3,4]),name:r.string,onAccept:r.func,onChange:r.func,onClose:r.func,onError:r.func,onMonthChange:r.func,onOpen:r.func,onSelectedSectionsChange:r.func,onViewChange:r.func,onYearChange:r.func,open:r.bool,openTo:r.oneOf(["day","hours","meridiem","minutes","month","seconds","year"]),orientation:r.oneOf(["landscape","portrait"]),readOnly:r.bool,reduceAnimations:r.bool,referenceDate:r.object,renderLoading:r.func,selectedSections:r.oneOfType([r.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),r.number]),shouldDisableDate:r.func,shouldDisableMonth:r.func,shouldDisableTime:r.func,shouldDisableYear:r.func,showDaysOutsideCurrentMonth:r.bool,skipDisabled:r.bool,slotProps:r.object,slots:r.object,sx:r.oneOfType([r.arrayOf(r.oneOfType([r.func,r.object,r.bool])),r.func,r.object]),thresholdToRenderTimeInASingleColumn:r.number,timeSteps:r.shape({hours:r.number,minutes:r.number,seconds:r.number}),timezone:r.string,value:r.object,view:r.oneOf(["day","hours","meridiem","minutes","month","seconds","year"]),viewRenderers:r.shape({day:r.func,hours:r.func,meridiem:r.func,minutes:r.func,month:r.func,seconds:r.func,year:r.func}),views:r.arrayOf(r.oneOf(["day","hours","minutes","month","seconds","year"]).isRequired),yearsOrder:r.oneOf(["asc","desc"]),yearsPerRow:r.oneOf([3,4])};const Jn=d.forwardRef(function(a,s){var x,f,p;const o=Ra(),n=Fa(),l=Qn(a,"MuiMobileDateTimePicker"),m=H({day:Et,month:Et,year:Et,hours:Ja,minutes:Ja,seconds:Ja},l.viewRenderers),u=l.ampmInClock??!1,c=H({},l,{viewRenderers:m,format:Rn(n,l),ampmInClock:u,slots:H({field:Yn},l.slots),slotProps:H({},l.slotProps,{field:g=>{var h;return H({},us((h=l.slotProps)==null?void 0:h.field,g),$n(l),{ref:s})},toolbar:H({hidden:!1,ampmInClock:u},(x=l.slotProps)==null?void 0:x.toolbar),tabs:H({hidden:!1},(f=l.slotProps)==null?void 0:f.tabs)})}),{renderPicker:i}=Yr({props:c,valueManager:Va,valueType:"date-time",getOpenDialogAriaText:Gn({utils:n,formatKey:"fullDate",contextTranslation:o.openDatePickerDialogue,propsTranslation:(p=c.localeText)==null?void 0:p.openDatePickerDialogue}),validator:Wa});return i()});Jn.propTypes={ampm:r.bool,ampmInClock:r.bool,autoFocus:r.bool,className:r.string,closeOnSelect:r.bool,dayOfWeekFormatter:r.func,defaultValue:r.object,disabled:r.bool,disableFuture:r.bool,disableHighlightToday:r.bool,disableIgnoringDatePartForTimeValidation:r.bool,disableOpenPicker:r.bool,disablePast:r.bool,displayWeekNumber:r.bool,enableAccessibleFieldDOMStructure:r.any,fixedWeekNumber:r.number,format:r.string,formatDensity:r.oneOf(["dense","spacious"]),inputRef:zn,label:r.node,loading:r.bool,localeText:r.object,maxDate:r.object,maxDateTime:r.object,maxTime:r.object,minDate:r.object,minDateTime:r.object,minTime:r.object,minutesStep:r.number,monthsPerRow:r.oneOf([3,4]),name:r.string,onAccept:r.func,onChange:r.func,onClose:r.func,onError:r.func,onMonthChange:r.func,onOpen:r.func,onSelectedSectionsChange:r.func,onViewChange:r.func,onYearChange:r.func,open:r.bool,openTo:r.oneOf(["day","hours","minutes","month","seconds","year"]),orientation:r.oneOf(["landscape","portrait"]),readOnly:r.bool,reduceAnimations:r.bool,referenceDate:r.object,renderLoading:r.func,selectedSections:r.oneOfType([r.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),r.number]),shouldDisableDate:r.func,shouldDisableMonth:r.func,shouldDisableTime:r.func,shouldDisableYear:r.func,showDaysOutsideCurrentMonth:r.bool,slotProps:r.object,slots:r.object,sx:r.oneOfType([r.arrayOf(r.oneOfType([r.func,r.object,r.bool])),r.func,r.object]),timezone:r.string,value:r.object,view:r.oneOf(["day","hours","minutes","month","seconds","year"]),viewRenderers:r.shape({day:r.func,hours:r.func,minutes:r.func,month:r.func,seconds:r.func,year:r.func}),views:r.arrayOf(r.oneOf(["day","hours","minutes","month","seconds","year"]).isRequired),yearsOrder:r.oneOf(["asc","desc"]),yearsPerRow:r.oneOf([3,4])};const oc=["desktopModeMediaQuery"],ic=d.forwardRef(function(a,s){const o=zt({props:a,name:"MuiDateTimePicker"}),{desktopModeMediaQuery:n=xl}=o,l=La(o,oc);return nn(n,{defaultMatches:!0})?t.jsx(Kn,H({ref:s},l)):t.jsx(Jn,H({ref:s},l))});function rc(e){const a={};return a.employeeId=e.employee_id,a.firstName=e.first_name,a.lastName=e.last_name,a.preferredName=e.preferred_name,a.employeeTitle=e.employee_title,a.eventType=e.event_type,a.eventDate=e.event_date,a.description=e.description,a}var fe=(e=>(e.NewJoiner="new-joiner",e.LeavingCompany="leaving-company",e))(fe||{});const lc=on("/companies/{companyId}/employees/{employeeId}/tasks/count-overdue-assigned-to-me-widget","get",{isGlobalProgressEnabled:!1,apiUrlPrefix:jn});function Xn(e,a={}){const[s,o]=lc(e,Xn);return rn({queryKey:s,queryFn:o,...a})}const cc=on("/companies/{companyId}/employees/{employeeId}/tasks/count-created-by-me-widget","get",{isGlobalProgressEnabled:!1,apiUrlPrefix:jn});function Zn(e,a={}){const[s,o]=cc(e,Zn);return rn({queryKey:s,queryFn:o,...a})}const dc=({companyId:e,employeeId:a})=>`/insurances/health/onboarding/companies/${e}/employees/${a}/key-benefits-updated`,eo=(e,a)=>{const s=mc.useMocker();return Ve({toURLFunction:dc,mapResponseFunction:ra($o),options:{mocker:s}})(e,void 0,a)},mc=mt(eo);function uc(e){const a={};return a.content=e.content,a.answer_order=e.answerOrder,a}var to=(e=>(e.Post="Post",e.Poll="Poll",e.SystemGeneratedPost="SystemGeneratedPost",e.Announcement="Announcement",e))(to||{});const ao=[["Post",{id:"post",name:"Post"}],["Poll",{id:"poll",name:"Poll"}],["SystemGeneratedPost",{id:"system_generated_post",name:"SystemGeneratedPost"}],["Announcement",{id:"announcement",name:"Announcement"}]],pc=new Map(ao),gc=new Map(ao.map(([e,a])=>[a.id,e]));function fc(e){return pc.get(e).id}function hc(e){return gc.get(e)}function so(e){const a={};return a.content=e.content,a.is_public_post=e.isPublicPost,a.is_pinned_post=e.isPinnedPost,a.disable_comments=e.disableComments,a.disable_reactions=e.disableReactions,a.scheduled_at=e.scheduledAt,a.type=fc(e.type),e.answers&&(a.answers=e.answers.map(s=>uc(s))),e.postImage&&(a.post_image=rs(e.postImage)),e.attachmentsToBeAdded&&(a.attachments_to_be_added=e.attachmentsToBeAdded.map(s=>rs(s))),a.attachment_ids_to_be_deleted=e.attachmentIdsToBeDeleted,a.white_listed_employee_ids=e.whiteListedEmployeeIds,a.video_url=e.videoUrl,a}function xc(e){const a={};return a.id=e.id,a.postId=e.post_id,a.fileId=e.file_id,a.fileName=e.file_name,a.fileMimeType=e.file_mime_type,a.fileSize=e.file_size,a}function Oa(e){const a={};return a.id=e.id,a.postId=e.post_id,a.commentId=e.comment_id,a.reaction=rr(e.reaction),a.createdByEmployeeId=e.created_by_employee_id,a.createdByFullName=e.created_by_full_name,a.createdByName=e.created_by_name,a.createdByTitle=e.created_by_title,a}function Ha(e){const a={};return a.id=e.id,a.postId=e.post_id,a.createdByEmployeeId=e.created_by_employee_id,a.createdByFullName=e.created_by_full_name,a.createdByName=e.created_by_name,a.createdByTitle=e.created_by_title,a.createdAt=e.created_at,a.editedAt=e.edited_at,a.content=e.content,a.reactions=e.reactions.map(s=>Oa(s)),a}function yc(e){const a={};return a.announcementId=e.announcement_id,a.surveyId=e.survey_id,a.knowledgeHubLink=e.knowledge_hub_link,a}function bc(e){const a={};return a.content={id:e.content.id,name:e.content.name,spaceId:e.content.space_id,spaceName:e.content.space_name,createdByEmployeeId:e.content.created_by_employee_id,createdByEmployeeName:e.content.created_by_employee_name,updatedByEmployeeId:e.content.updated_by_employee_id,updatedByEmployeeName:e.content.updated_by_employee_name,type:e.content.type,updatedAt:e.content.updated_at,isFavorited:e.content.is_favorited,summary:e.content.summary,keyPoints:e.content.key_points,isDeleted:e.content.is_deleted},a.type=dr(e.type),a}function vc(e){const a={};return a.id=e.id,a.postId=e.post_id,a.employeeId=e.employee_id,a.answerId=e.answer_id,a.employeeName=e.employee_name,a.employeeFullName=e.employee_full_name,a.employeeTitle=e.employee_title,a}function Cc(e){const a={};return a.id=e.id,a.postId=e.post_id,a.content=e.content,a.answerOrder=e.answer_order,a.employeeVotes=e.employee_votes.map(s=>vc(s)),a}const no=[["Youtube",{id:"youtube",name:"Youtube"}],["Vimeo",{id:"vimeo",name:"Vimeo"}]];new Map(no);const jc=new Map(no.map(([e,a])=>[a.id,e]));function oo(e){return jc.get(e)}function kc(e){const a={};return a.embedUrl=e.embed_url,a.platform=oo(e.platform),a.aspectRatio=e.aspect_ratio,a}function ks(e){const a={};return a.id=e.id,a.createdByEmployeeId=e.created_by_employee_id,a.createdByFullName=e.created_by_full_name,a.createdByName=e.created_by_name,a.createdByTitle=e.created_by_title,a.createdAt=e.created_at,a.scheduledAt=e.scheduled_at,a.editedAt=e.edited_at,a.content=e.content,a.commentsCount=e.comments_count,a.seenCount=e.seen_count,a.type=hc(e.type),a.postImageFileId=e.post_image_file_id,a.isPublicPost=e.is_public_post,a.isPinnedPost=e.is_pinned_post,a.disableComments=e.disable_comments,a.disableReactions=e.disable_reactions,e.latest_comment&&(a.latestComment=Ha(e.latest_comment)),a.reactions=e.reactions.map(s=>Oa(s)),a.answers=e.answers.map(s=>Cc(s)),a.attachments=e.attachments.map(s=>xc(s)),a.whiteListedEmployeeIds=e.white_listed_employee_ids,e.external_parameters&&(a.externalParameters=yc(e.external_parameters)),e.embedded_video&&(a.embeddedVideo=kc(e.embedded_video)),e.knowledge_hub_content_payload&&(a.knowledgeHubContentPayload=bc(e.knowledge_hub_content_payload)),a}const Mc=e=>a=>{const s=ks(a);return s.createdAt&&(s.createdAt+=e),s.editedAt&&(s.editedAt+=e),s.scheduledAt&&(s.scheduledAt+=e),s},io=e=>`/news-feed/companies/${e.companyId}/posts`,wc=e=>`/news-feed/companies/${e.companyId}/posts/${e.postId}`,Ic=e=>`/news-feed/companies/${e.companyId}/system-generated-posts/${e.postId}`,Tc=(e,a,s,o)=>Ve({toURLFunction:io,mapResponseFunction:ua(Mc(a)),options:{isCancellable:!0}})(e,s,o),Ac=()=>la({toURLFunction:wc,options:{showGlobalProgress:!0}}),Sc=()=>Vt({toURLFunction:io,mapRequestFunction:bt(so),mapResponseFunction:vt(ks)}),Dc=e=>`/news-feed/companies/${e.companyId}/posts/${e.postId}`,Bc=()=>ln({toURLFunction:Dc,mapRequestFunction:bt(so),mapResponseFunction:vt(ks)}),Lc=()=>la({toURLFunction:Ic,options:{showGlobalProgress:!0}});function ro(e){const a={};return a.reaction_code=lr(e.reactionCode),a}const Nc=e=>`/news-feed/companies/${e.companyId}/posts/${e.postId}/reactions`,Pc=e=>`/news-feed/companies/${e.companyId}/posts/${e.postId}/reactions/${e.reactionId}`,Ec=()=>Vt({toURLFunction:Nc,mapRequestFunction:bt(ro),mapResponseFunction:vt(Oa)}),_c=()=>la({toURLFunction:Pc}),Uc=e=>`/companies/${e.companyId}/widgets/events`,$c=(e,a)=>Ve({toURLFunction:Uc,mapResponseFunction:ua(rc),options:{isCancellable:!0}})(e,void 0,a);function zc(e){const a={};return a.employeeCount=e.employee_count,a}const Vc=e=>`/companies/${e.companyId}/widgets/missing-information`,lo=(e,a)=>{const s=Rc.useMocker();return Ve({toURLFunction:Vc,mapResponseFunction:vt(zc),options:{isCancellable:!0,mocker:s}})(e,void 0,a)},Rc=mt(lo),Fc=G()(e=>({card:{width:"100%",marginTop:e.spacing(2)},cardContent:{display:"flex",flexDirection:"column",gap:e.spacing(1)},mediaSkeleton:{margin:e.spacing(2,0)}})),es=()=>{const{classes:e}=Fc();return t.jsxs(jt,{className:e.card,children:[t.jsx(kt,{avatar:t.jsx(be,{variant:"circular",width:40,height:40}),title:t.jsx(be,{height:10,width:100}),subheader:t.jsx(be,{height:8,width:120})}),t.jsxs(Na,{className:e.cardContent,children:[t.jsx(be,{height:10,width:"100%"}),t.jsx(be,{height:10,width:"80%"}),t.jsx(be,{height:200,className:e.mediaSkeleton,variant:"rectangular"})]})]})},Wc=G()((e,a)=>({container:{display:"flex",flexDirection:"column",height:"100%"},cardActions:{alignItems:"flex-end",display:"flex",flex:1,paddingLeft:a?e.spacing(1.5):e.spacing(2),paddingRight:a?e.spacing(1.5):e.spacing(2)}})),Fe=({CardMedia:e,cardActions:a,cardContent:s,dataExternalId:o,dense:n=!1,headerAction:l,title:m,subtitle:u})=>{const{classes:c}=Wc(n),i=n?zo:xs;return t.jsxs(jt,{className:c.container,"data-external-id":o,children:[e,t.jsx(kt,{title:m,subheader:u,action:l,titleTypographyProps:{variant:"h5"},"data-external-id":"widget-card-header",subheaderTypographyProps:{variant:"body2",color:"text.secondary",mt:1}}),s&&t.jsx(i,{children:s}),a&&t.jsx(hs,{className:c.cardActions,children:a})]})};function ts({heading:e,count:a,explanation:s,cardActions:o,"data-external-id":n}){var l;return t.jsx(Fe,{dataExternalId:n,title:e??void 0,cardContent:t.jsxs(j,{variant:"body1",color:"textSecondary",children:[t.jsx(j,{component:"span",variant:"h3",color:"textPrimary","data-external-id":`${(l=Se.lowerCase(e))==null?void 0:l.replaceAll(" ","-")}-count`,children:a})," ",s]}),cardActions:o})}const Oc=G()(e=>({card:{marginTop:e.spacing(2),padding:e.spacing(3),width:"100%"},post:{padding:parseInt(e.spacing(1),10)+1,marginRight:e.spacing(4),cursor:"pointer","&:hover":{borderColor:se.grey[900]},borderWidth:1,borderStyle:"solid",borderColor:se.grey[300],borderRadius:e.shape.borderRadius,backgroundColor:se.grey[0]},whatIsOnYourMind:{marginTop:e.spacing(1)}}));function Hc({employeeId:e,onClick:a}){const s=Q(),{classes:o}=Oc();return t.jsx(Pa,{className:o.card,children:t.jsxs(le,{display:"flex",alignItems:"center",children:[t.jsx(Re,{person:{id:e},size:56,shouldUseSkeletonLoading:!0}),t.jsxs(le,{className:o.post,onClick:a,flexGrow:1,ml:2,"data-external-id":"start-post-writing-box",children:[t.jsx(j,{variant:"caption",color:"textSecondary",display:"block",children:s.formatMessage(Hs.startAPost)}),t.jsx(j,{variant:"body1",className:o.whatIsOnYourMind,children:s.formatMessage(Hs.writeWhatsOnYourMind)})]})]})})}const Hs=Z({startAPost:{id:"hr.start-a-post",defaultMessage:"Start a post"},writeWhatsOnYourMind:{id:"hr.write-whats-on-your-mind",defaultMessage:"Write what’s on your mind?"}}),co=d.createContext(null);function Gc(){const[e,a]=d.useState(null);return d.useEffect(()=>{a(`mui-p-${Math.round(Math.random()*1e5)}`)},[]),e}function Ms(e){const{children:a,value:s}=e,o=Gc(),n=d.useMemo(()=>({idPrefix:o,value:s}),[o,s]);return t.jsx(co.Provider,{value:n,children:a})}function mo(){return d.useContext(co)}function uo(e,a){const{idPrefix:s}=e;return s===null?null:`${e.idPrefix}-P-${a}`}function po(e,a){const{idPrefix:s}=e;return s===null?null:`${e.idPrefix}-T-${a}`}const qc=d.forwardRef(function(a,s){const{children:o,...n}=a,l=mo();if(l===null)throw new TypeError("No TabContext provided");const m=d.Children.map(o,u=>d.isValidElement(u)?d.cloneElement(u,{"aria-controls":uo(l,u.props.value),id:po(l,u.props.value)}):null);return t.jsx(Cs,{...n,ref:s,value:l.value,children:m})}),go=qc;function Yc(e){return Vo("MuiTabPanel",e)}Ro("MuiTabPanel",["root","hidden"]);const Qc=e=>{const{classes:a,hidden:s}=e;return Fo({root:["root",s&&"hidden"]},Yc,a)},Kc=dt("div",{name:"MuiTabPanel",slot:"Root"})(({theme:e})=>({padding:e.spacing(3)})),Jc=d.forwardRef(function(a,s){const o=zt({props:a,name:"MuiTabPanel"}),{children:n,className:l,value:m,keepMounted:u=!1,...c}=o,i={...o},x=Qc(i),f=mo();if(f===null)throw new TypeError("No TabContext provided");const p=uo(f,m),g=po(f,m);return t.jsx(Kc,{"aria-labelledby":g,className:ea(x.root,l),hidden:m!==f.value,id:p,ref:s,role:"tabpanel",ownerState:i,...c,children:(u||m===f.value)&&n})}),ws=Jc;function Zt(e,a,s){const o=Wo(pa(s),new Date().getFullYear());return xr(o)?e.formatMessage({id:"common.today",defaultMessage:"Today"}):$l(o)?e.formatMessage({id:"common.tomorrow",defaultMessage:"Tomorrow"}):a({date:s,dateFormat:"no-year"})}function lt({firstName:e,lastName:a,id:s,date:o,onCreatePostClick:n}){const l=Q(),m=Ct(),u=Ea(),c=o?Zt(l,u,o):"",i=d.useCallback(()=>{s&&m.push(`/employees/${s}/profile/about-me/social`)},[m,s]);return t.jsxs(L,{container:!0,alignItems:"flex-start",spacing:1,children:[t.jsx(L,{children:t.jsx(Re,{shouldUseSkeletonLoading:!0,person:{firstName:e,lastName:a,id:s},onClick:i})}),t.jsxs(L,{size:"grow",children:[t.jsxs(ta,{variant:"subtitle2",color:"textPrimary",onClick:i,"data-external-id":"employee-name-link",underline:"hover",children:[e," ",a]}),c&&t.jsx(j,{variant:"caption","data-external-id":"upcoming-event-date",display:"block",children:c}),n&&t.jsx(Pe,{can:aa,children:t.jsx(ta,{variant:"caption",underline:"always",onClick:n,children:o&&_a(pa(o),oa(vs(),1))?l.formatMessage(Gs.scheduleAPost):l.formatMessage(Gs.createAPost)})})]})]})}const Gs=Z({scheduleAPost:{id:"common.schedule-a-post",defaultMessage:"Schedule a post"},createAPost:{id:"common.create-a-post",defaultMessage:"Create a post"}}),Xc=G()(()=>({maxHeight:{maxHeight:500}})),Zc=ce("div",e=>({root:{display:"flex",flexDirection:"column",gap:e.spacing(2)}})),ed=ce("div",()=>({root:{display:"flex",alignItems:"center",justifyContent:"space-between"}})),td=ce(_e,e=>({root:{display:"flex",alignItems:"center",gap:e.spacing(1)}})),ad=ce(_e,()=>({root:{cursor:"pointer"}})),sd=ce("div",()=>({root:{display:"flex",flexDirection:"column",alignItems:"flex-end"}}));function nd({celebrationType:e,celebrations:a,open:s,onClose:o,onCreatePostClick:n}){const{classes:l}=Xc(),m=Q(),u=Ea(),c=ae(aa);return t.jsx(qe,{open:s,title:e?m.formatMessage(At.upcomingCelebrationWithType,{celebrationType:e}):m.formatMessage(At.upcomingCelebrations),showCloseButton:!0,onClose:o,confirmButton:{show:!1},fullWidth:!0,contentClassName:l.maxHeight,content:t.jsx(Zc,{children:a==null?void 0:a.map(i=>t.jsxs(ed,{"data-external-id":"celebration-row",children:[t.jsxs(td,{to:`/employees/${i.employeeId}/profile/about-me/${e?"social":"personal"}`,app:Je.APP_HRADMIN,children:[t.jsx(Re,{person:{id:i.employeeId,firstName:i.firstName,preferredName:i.preferredName},shouldUseSkeletonLoading:!0}),t.jsx("span",{"data-external-id":"celebration-dialog-employee-name",children:ys(i)})]}),t.jsxs(sd,{children:[t.jsx(j,{variant:"body1",children:e?Zt(m,u,i.celebrationType===ie.Anniversary?i.hiredAt:i.dateOfBirth):i.celebrationType===ie.Anniversary?m.formatMessage(At.anniversaryOnDate,{date:Zt(m,u,i.hiredAt)}):m.formatMessage(At.birthdayOnDate,{date:Zt(m,u,i.dateOfBirth)})}),n&&c&&t.jsx(ad,{variant:"caption",onClick:()=>n(i),children:_a(pa(i.celebrationType===ie.Anniversary?i.hiredAt:i.dateOfBirth),oa(vs(),1))?m.formatMessage(At.scheduleAPost):m.formatMessage(At.createAPost)})]})]},i.employeeId+i.celebrationType))})})}const At=Z({anniversaryOnDate:{id:"hr.upcoming-celebrations-list.anniversary-on-date",defaultMessage:"Anniversary on {date}"},birthdayOnDate:{id:"hr.upcoming-celebrations-list.birthday-on-date",defaultMessage:"Birthday on {date}"},scheduleAPost:{id:"common.schedule-a-post",defaultMessage:"Schedule a post"},createAPost:{id:"common.create-a-post",defaultMessage:"Create a post"},upcomingCelebrationWithType:{id:"hr.upcoming-celebration-list",defaultMessage:"Upcoming {celebrationType} list in the next 30 days"},upcomingCelebrations:{id:"hr.upcoming-celebrations-list",defaultMessage:"Upcoming celebrations in the next 30 days"}}),od=G()(e=>({tab:{flexGrow:1,flexBasis:0,flexShrink:1},avatarList:{paddingTop:e.spacing(1)},cardAction:{paddingTop:e.spacing(1),paddingBottom:e.spacing(2)}})),id=ce(go,e=>({root:{minHeight:36},indicator:{backgroundColor:e.palette.text.primary}})),qs=ce($t,()=>({wrapper:{textTransform:"none"},root:{minHeight:36},selected:{backgroundColor:se.grey[100]}})),ja=ce(ws,e=>({root:{paddingLeft:0,paddingBottom:0,paddingTop:e.spacing(1)}}));function rd({celebrations:e,onCreatePostClick:a}){const[s,o]=d.useState(),n=Q(),l=h=>{o(h)},m=()=>{o(void 0)},u=h=>{o(void 0),a(h)},{classes:c}=od(),[i,x]=d.useState(ie.Birthday),f=(h,k)=>{x(k)},p=d.useMemo(()=>e.filter(h=>h.celebrationType===ie.Birthday),[e]),g=d.useMemo(()=>e.filter(h=>h.celebrationType===ie.Anniversary),[e]);return t.jsx(Ms,{value:i,children:t.jsx(Fe,{dataExternalId:"upcoming-celebration-card",title:n.formatMessage({id:"hr.upcoming-celebrations",defaultMessage:"Upcoming celebrations"}),cardContent:t.jsxs(t.Fragment,{children:[t.jsxs(id,{variant:"fullWidth",onChange:f,children:[t.jsx(qs,{value:ie.Birthday,className:c.tab,label:t.jsx(j,{variant:"body2",color:"textPrimary",children:n.formatMessage(it.birthdays)}),"data-external-id":"birthday-tab"}),t.jsx(qs,{value:ie.Anniversary,className:c.tab,label:t.jsx(j,{variant:"body2",color:"textPrimary",children:n.formatMessage(it.workAnniversaries)}),"data-external-id":"work-anniversary-tab"})]}),t.jsx(ja,{value:ie.Birthday,children:(p==null?void 0:p.length)>0?t.jsxs(t.Fragment,{children:[t.jsx(Pt,{variant:"body2","data-external-id":"event-summary",children:n.formatMessage(it.upcomingBirthday,{count:p.length})}),t.jsxs(L,{container:!0,justifyContent:"center",spacing:3,className:c.avatarList,children:[p[0]&&t.jsx(L,{size:"grow",children:t.jsx(lt,{firstName:p[0].firstName,lastName:p[0].lastName,date:p[0].date,id:p[0].employeeId,onCreatePostClick:()=>a(p[0])})}),p[1]&&t.jsx(L,{size:"grow",children:t.jsx(lt,{firstName:p[1].firstName,lastName:p[1].lastName,date:p[1].date,id:p[1].employeeId,onCreatePostClick:()=>a(p[1])})})]})]}):t.jsx(Pt,{variant:"body2",children:n.formatMessage(it.noUpcomingBirthdays)})}),t.jsx(ja,{value:ie.Anniversary,children:(g==null?void 0:g.length)>0?t.jsxs(t.Fragment,{children:[t.jsx(Pt,{variant:"body2","data-external-id":"event-summary",children:n.formatMessage(it.upcomingWorkAnniversary,{count:g.length})}),t.jsxs(L,{container:!0,justifyContent:"center",spacing:3,className:c.avatarList,children:[t.jsx(L,{size:"grow",children:g[0]&&t.jsx(lt,{firstName:g[0].firstName,lastName:g[0].lastName,date:g[0].date,id:g[0].employeeId,onCreatePostClick:()=>a(g[0])})}),t.jsx(L,{size:"grow",children:g[1]&&t.jsx(lt,{firstName:g[1].firstName,lastName:g[1].lastName,date:g[1].date,id:g[1].employeeId,onCreatePostClick:()=>a(g[1])})})]})]}):t.jsx(Pt,{variant:"body2",children:n.formatMessage(it.noUpcomingWorkAnniversaries)})})]}),cardActions:t.jsxs(t.Fragment,{children:[t.jsx(ja,{value:ie.Birthday,children:e.filter(h=>h.celebrationType===ie.Birthday).length>0&&t.jsx(re,{variant:"outlined",onClick:()=>l(ie.Birthday),"data-external-id":"view-all-birthdays-button",children:n.formatMessage(it.viewAllBirthdays)})}),t.jsx(ja,{value:ie.Anniversary,children:e.filter(h=>h.celebrationType===ie.Anniversary).length>0&&t.jsx(re,{variant:"outlined",onClick:()=>l(ie.Anniversary),"data-external-id":"view-all-anniversaries-button",children:n.formatMessage(it.viewAllWorkAnniversaries)})}),!!s&&t.jsx(nd,{celebrationType:s===ie.Birthday?ie.Birthday:ie.Anniversary,celebrations:e.filter(h=>h.celebrationType===s),open:!!s,onClose:m,onCreatePostClick:u})]})})})}const it=Z({upcomingBirthday:{id:"hr.upcoming-birthday",defaultMessage:"There {count, plural, one {is #} other {are #}} upcoming {count, plural, one {birthday} other {birthdays}}"},upcomingWorkAnniversary:{id:"hr.upcoming-work-anniversary",defaultMessage:"There {count, plural, one {is #} other {are #}} upcoming work {count, plural, one {anniversary} other {anniversaries}}"},birthdays:{id:"common.birthdays",defaultMessage:"Birthdays"},workAnniversaries:{id:"common.work-anniversaries",defaultMessage:"Work Anniversaries"},noUpcomingBirthdays:{id:"hr.no-upcoming-birthdays",defaultMessage:"There are no upcoming birthdays"},noUpcomingWorkAnniversaries:{id:"hr.no-upcoming-work-anniversaries",defaultMessage:"There are no upcoming work anniversaries"},viewAllBirthdays:{id:"hr.view-all-birthdays",defaultMessage:"View all Birthdays"},viewAllWorkAnniversaries:{id:"hr.view-all-work-anniversaries",defaultMessage:"View all Work Anniversaries"}}),ld=G()(()=>({maxHeight:{maxHeight:500}})),cd=ce("div",e=>({root:{display:"flex",flexDirection:"column",gap:e.spacing(2)}})),dd=ce("div",()=>({root:{display:"flex",alignItems:"center",justifyContent:"space-between"}})),md=ce(_e,e=>({root:{display:"flex",alignItems:"center",gap:e.spacing(1)}})),ud=ce(_e,()=>({root:{cursor:"pointer"}})),pd=ce("div",()=>({root:{display:"flex",flexDirection:"column",alignItems:"flex-end"}}));function gd({eventType:e,events:a,open:s,onClose:o,onCreatePostClick:n}){const{classes:l}=ld(),m=Q(),u=Ea(),c=ae(aa);return t.jsx(qe,{open:s,title:e===fe.LeavingCompany?m.formatMessage(ka.titleLeaving):m.formatMessage(ka.titleJoined),showCloseButton:!0,onClose:o,confirmButton:{show:!1},fullWidth:!0,contentClassName:l.maxHeight,content:t.jsx(cd,{children:a==null?void 0:a.map(i=>t.jsxs(dd,{children:[t.jsxs(md,{to:`/employees/${i.employeeId}/profile/about-me/social`,app:Je.APP_HRADMIN,children:[t.jsx(Re,{person:{id:i.employeeId,firstName:i.firstName,preferredName:i.preferredName},shouldUseSkeletonLoading:!0}),t.jsx("span",{children:ys(i)})]}),t.jsxs(pd,{children:[t.jsx(j,{variant:"body1",children:Zt(m,u,i.eventDate)}),n&&c&&t.jsx(ud,{variant:"caption",onClick:()=>n(i),children:_a(pa(i.eventDate),oa(vs(),1))?m.formatMessage(ka.scheduleAPost):m.formatMessage(ka.createAPost)})]})]},i.employeeId+i.eventType))})})}const ka=Z({titleLeaving:{id:"hr.employees-leaving-company",defaultMessage:"Employees leaving company"},titleJoined:{id:"hr.employees-recently-joined",defaultMessage:"Employees recently joined"},scheduleAPost:{id:"common.schedule-a-post",defaultMessage:"Schedule a post"},createAPost:{id:"common.create-a-post",defaultMessage:"Create a post"}}),fd=G()(e=>({tab:{flexGrow:1,flexBasis:"auto",flexShrink:1},avatarList:{paddingTop:e.spacing(1)},cardAction:{paddingTop:e.spacing(1),paddingBottom:e.spacing(3)}})),hd=ce(go,e=>({root:{minHeight:36},indicator:{backgroundColor:e.palette.text.primary}})),Ys=ce($t,()=>({wrapper:{textTransform:"none"},root:{minHeight:36,minWidth:0},selected:{backgroundColor:se.grey[100]}})),Ma=ce(ws,e=>({root:{paddingLeft:0,paddingBottom:0,paddingTop:e.spacing(1)}}));function xd({events:e,onCreatePostClick:a}){const[s,o]=d.useState(),n=Q(),l=h=>{o(h)},m=()=>{o(void 0)},u=h=>{o(void 0),a(h)},{classes:c}=fd(),[i,x]=d.useState(fe.NewJoiner),f=(h,k)=>{x(k)},p=d.useMemo(()=>e.filter(h=>h.eventType===fe.NewJoiner),[e]),g=d.useMemo(()=>e.filter(h=>h.eventType===fe.LeavingCompany),[e]);return t.jsxs(t.Fragment,{children:[t.jsx(Ms,{value:i,children:t.jsx(Fe,{dataExternalId:"upcoming-event-card",title:n.formatMessage({id:"hr.upcoming-events",defaultMessage:"Upcoming events"}),cardContent:t.jsxs(t.Fragment,{children:[t.jsxs(hd,{variant:"fullWidth",onChange:f,children:[t.jsx(Ys,{value:fe.NewJoiner,className:c.tab,label:t.jsx(j,{variant:"body2",color:"textPrimary",children:n.formatMessage(St.newHires)}),"data-external-id":"new-hires-tab"}),t.jsx(Ys,{value:fe.LeavingCompany,className:c.tab,label:t.jsx(j,{variant:"body2",color:"textPrimary",children:n.formatMessage(St.leavingBayzat)}),"data-external-id":"leaving-bayzat-tab"})]}),t.jsx(Ma,{value:fe.NewJoiner,children:(p==null?void 0:p.length)>0?t.jsxs(L,{container:!0,justifyContent:"center",spacing:3,className:c.avatarList,children:[p[0]&&t.jsx(L,{size:"grow",children:t.jsx(lt,{firstName:p[0].firstName,lastName:p[0].lastName,date:p[0].eventDate,id:p[0].employeeId,onCreatePostClick:()=>a(p[0])})}),p[1]&&t.jsx(L,{size:"grow",children:t.jsx(lt,{firstName:p[1].firstName,lastName:p[1].lastName,date:p[1].eventDate,id:p[1].employeeId,onCreatePostClick:()=>a(p[1])})})]}):t.jsx(Pt,{variant:"body2","data-external-id":"no-upcoming-event-message",children:n.formatMessage(St.noUpcomingHires)})}),t.jsx(Ma,{value:fe.LeavingCompany,children:(g==null?void 0:g.length)>0?t.jsxs(L,{container:!0,justifyContent:"center",spacing:3,className:c.avatarList,children:[t.jsx(L,{size:"grow",children:g[0]&&t.jsx(lt,{firstName:g[0].firstName,lastName:g[0].lastName,date:g[0].eventDate,id:g[0].employeeId,onCreatePostClick:()=>a(g[0])})}),t.jsx(L,{size:"grow",children:g[1]&&t.jsx(lt,{firstName:g[1].firstName,lastName:g[1].lastName,date:g[1].eventDate,id:g[1].employeeId,onCreatePostClick:()=>a(g[1])})})]}):t.jsx(Pt,{variant:"body2","data-external-id":"no-upcoming-event-message",children:n.formatMessage(St.noUpcomingLeaving)})})]}),cardActions:t.jsxs(t.Fragment,{children:[t.jsx(Ma,{value:fe.NewJoiner,children:e.filter(h=>h.eventType===fe.NewJoiner).length>0&&t.jsx(re,{variant:"outlined",onClick:()=>l(fe.NewJoiner),"data-external-id":"view-all-new-hires-button",children:n.formatMessage(St.viewAllNewHires)})}),t.jsx(Ma,{value:fe.LeavingCompany,children:e.filter(h=>h.eventType===fe.LeavingCompany).length>0&&t.jsx(re,{variant:"outlined",onClick:()=>l(fe.LeavingCompany),"data-external-id":"view-all-leaving-bayzat-button",children:n.formatMessage(St.viewAllLeavingBayzat)})})]})})}),!!s&&t.jsx(gd,{eventType:s===fe.NewJoiner?fe.NewJoiner:fe.LeavingCompany,events:e.filter(h=>h.eventType===s),open:!!s,onClose:m,onCreatePostClick:u})]})}const St=Z({newHires:{id:"hr.new-hires",defaultMessage:"New Hires"},leavingBayzat:{id:"hr.leaving-bayzat",defaultMessage:"Leaving"},noUpcomingHires:{id:"hr.no-upcoming-hires",defaultMessage:"There are no upcoming hires"},noUpcomingLeaving:{id:"hr.no-upcoming-leaving",defaultMessage:"There are no upcoming leaving"},viewAllNewHires:{id:"hr.view-all-new-hires",defaultMessage:"View all New Hires"},viewAllLeavingBayzat:{id:"hr.view-all-leaving-bayzat",defaultMessage:"View all leaving"}}),yd=G()(e=>({content:{padding:e.spacing(3),display:"flex",flexDirection:"column",gap:e.spacing(2)}})),ps=()=>{const{classes:e}=yd();return t.jsxs(jt,{children:[t.jsx(kt,{title:t.jsx(be,{height:14,width:"60%"})}),t.jsxs(xs,{className:e.content,children:[t.jsx(be,{variant:"rectangular",height:200}),t.jsx(be,{variant:"rectangular",height:40,width:120})]})]})},Qs=Z({title:{id:"hr.dashboard.available-integrations-card.title",defaultMessage:"Available integrations 👇"},viewAllIntegrations:{id:"hr.dashboard.available-integrations-card.view-all-integrations",defaultMessage:"View all integrations"}}),bd=G()(e=>({integrationBoxesContainer:{display:"flex",gap:e.spacing(1),marginTop:e.spacing(2)},integrationBox:{padding:e.spacing(1),display:"flex",flexDirection:"column",alignItems:"flex-start",height:94,width:115,border:`1px solid ${se.grey[100]}`,borderRadius:4},cardActions:{display:"flex",justifyContent:"flex-end"},imageContainer:{objectFit:"contain",width:"100%"}})),vd=({availableIntegrationsList:e})=>{const a=Q(),{classes:s}=bd(),o=za("dashboard.available-integrations-card");return t.jsx(Fe,{dataExternalId:"available-integrations-card",title:a.formatMessage(Qs.title),cardContent:t.jsx("div",{className:s.integrationBoxesContainer,children:e.map(({imageSrc:n,title:l})=>t.jsxs("div",{className:s.integrationBox,"data-external-id":"integration-box",children:[t.jsx("img",{src:Array.isArray(n)?n[0]:n,srcSet:Array.isArray(n)?`${n[0]} 1x, ${n[1]} 2x`:void 0,alt:"integration",className:s.imageContainer}),t.jsx(j,{variant:"subtitle1",mt:1,children:l})]},l))}),cardActions:t.jsx(Ee,{variant:"outlined",onClick:()=>o({event:"click_viewAllIntegrations"}),"data-external-id":"view-all-integrations-button",to:"/settings/integrations",children:a.formatMessage(Qs.viewAllIntegrations)})})},Cd="/react-ts-app/assets/bayzat-explore-v2-UMwCv65h__cache.png",jd="/react-ts-app/assets/bayzat-explore-v2@2x-tE-3GAfu__cache.png",kd="/react-ts-app/assets/bayzat-explore-v3-sLa6cpzC__cache.png",Md="/react-ts-app/assets/bayzat-explore-v3@2x-mVvOlHDr__cache.png",wd="/react-ts-app/assets/bayzat-explore-v4-87cJJSW4__cache.png",Id="/react-ts-app/assets/bayzat-explore-v4@2x-k_k3aDrL__cache.png",Td="/react-ts-app/assets/bayzat-explore-v5-wpy82Sft__cache.png",Ad="/react-ts-app/assets/bayzat-explore-v5@2x-O75bxRI9__cache.png",Sd=G()(e=>({content:{display:"flex",flexDirection:"column"},getAccess:{display:"flex",flexDirection:"column",backgroundColor:se.purple[700],padding:e.spacing(2),gap:e.spacing(1),borderBottomLeftRadius:e.shape.borderRadius,borderBottomRightRadius:e.shape.borderRadius},getAccessContent:{display:"flex",alignItems:"center",gap:e.spacing(1)},badgeAndTitleContainer:{display:"flex",alignItems:"center",flexWrap:"nowrap",paddingRight:e.spacing(1.5)},getAccessButton:{whiteSpace:"nowrap",minWidth:"fit-content"},img:{cursor:"pointer"},badgeContainer:{marginLeft:e.spacing(2)}})),Dd=()=>{const{classes:e}=Sd(),a=Q(),s=ae(Oo),o=Ct(),n=ae(Ho),l=ae(Go),m=n?a.formatMessage(ye.tryItOut):a.formatMessage(ye.learnMore),u=n?"/settings/payroll":"",i=[{id:"employeeTickets",title:a.formatMessage(ye.employeeTicketsTitle),subtitle:a.formatMessage(ye.employeeTicketsSubTitle),navigation:"/settings/employee-tickets",img:Td,img2x:Ad,show:l,actionText:a.formatMessage(ye.tryItOut)},{id:"leaveEncashment",title:a.formatMessage(ye.leaveEncashmentTitle),subtitle:a.formatMessage(ye.leaveEncashmentSubTitle),navigation:u,img:wd,img2x:Id,show:s,actionText:m},{id:"attendanceRegularization",title:a.formatMessage(ye.attendanceRegularizationTitle),subtitle:a.formatMessage(ye.attendanceRegularizationSubtitle),navigation:"/settings/employee-tickets",img:kd,img2x:Md,show:s,actionText:a.formatMessage(ye.tryItOut)},{id:"workflow",title:a.formatMessage(ye.workflowBannerTitle),subtitle:a.formatMessage(ye.workflowBannerSubtitle),navigation:"https://get.bayzat.com/workflows/",img:Cd,img2x:jd,show:!0,actionText:a.formatMessage(ye.workflowBannerAction)}].find(p=>p.show),x=i==null?void 0:i.navigation.startsWith("http"),f=p=>{ue({event:`dashboard.bayzat-explore-card.click_${p}`})};return t.jsx(t.Fragment,{children:t.jsx(Fe,{dataExternalId:"bayzat-explore-card",title:a.formatMessage(ye.bayzatExplore),subtitle:a.formatMessage(ye.findAllBayzatFeature),headerAction:t.jsx(_e,{variant:"body2",to:"/help-center/bayzat-explore",onClick:()=>{ue({event:"dashboard.bayzat-explore-card.click_exploreNow"})},"data-external-id":"feature-count",children:a.formatMessage(ye.youHaveFeatureReadyToBeActivated)}),cardContent:t.jsxs("div",{className:e.content,children:[t.jsx("img",{width:"100%",alt:a.formatMessage(ye.bayzatExplore),src:i==null?void 0:i.img,srcSet:`${i==null?void 0:i.img} 1x, ${i==null?void 0:i.img2x} 2x`,onClick:()=>{!x&&i?o.push(i.navigation):window.open(i==null?void 0:i.navigation,"_blank")},className:e.img,"data-external-id":"bayzat-explore-image"}),t.jsxs("div",{className:e.getAccess,children:[t.jsxs("div",{className:e.badgeAndTitleContainer,children:[t.jsx(j,{variant:"h5",color:"white",children:i==null?void 0:i.title}),t.jsx("div",{className:e.badgeContainer,children:t.jsx(qo,{variant:"new",colorVariant:"critical"})})]}),t.jsxs("div",{className:e.getAccessContent,children:[t.jsx(j,{variant:"caption",color:"white",children:i==null?void 0:i.subtitle}),t.jsx(Ee,{className:e.getAccessButton,variant:"contained",color:"ghost",to:(i==null?void 0:i.navigation)??"",external:x,target:x?"_blank":void 0,onClick:()=>f((i==null?void 0:i.id)??""),children:i==null?void 0:i.actionText})]})]})]})})})},ye=Z({bayzatExplore:{id:"hr.bayzat-explore",defaultMessage:"Explore Bayzat 🚀"},findAllBayzatFeature:{id:"hr.find-all-the-bayzat-features-ready-to-be-activated",defaultMessage:"Find all the Bayzat features you are missing out on."},youHaveFeatureReadyToBeActivated:{id:"hr.you-have-features-ready-to-be-activated",defaultMessage:"Explore all features"},workflowBannerTitle:{id:"hr.explore-now-workflow-banner-title",defaultMessage:"Unlock the power of workflows!"},workflowBannerSubtitle:{id:"hr.explore-now-workflow-banner-subtitle",defaultMessage:"Automate tasks, save time, and streamline processes by setting triggers and actions to handle tasks automatically."},workflowBannerAction:{id:"hr.explore-now-workflow-banner-action",defaultMessage:"Get access"},attendanceRegularizationTitle:{id:"hr.employee-tickets.attendance-regularization-title",defaultMessage:"Attendance regularization via Tickets"},attendanceRegularizationSubtitle:{id:"hr.employee-tickets.attendance-regularization-subtitle",defaultMessage:"Streamline attendance updates, monitor requests and approvals seamlessly with Employee Tickets"},leaveEncashmentTitle:{id:"hr.employee-tickets.leave-encashment-title",defaultMessage:"Leave encashment via Employee Tickets"},leaveEncashmentSubTitle:{id:"hr.employee-tickets.leave-encashment-subtitle",defaultMessage:"Map your employees and start managing enchasment requests seamlessly through Employee Tickets"},tryItOut:{id:"hr.employee-tickets.try-it-out",defaultMessage:"Try it out"},learnMore:{id:"hr.employee-tickets.learn-more",defaultMessage:"Learn more"},employeeTicketsTitle:{id:"hr.employee-tickets.title",defaultMessage:"Employee Tickets - Any Request, One Platform"},employeeTicketsSubTitle:{id:"hr.employee-tickets.subtitle",defaultMessage:"Create, customize, and track employee requests with tailored fields, approval flows, and eligibility rules"}});var Ae=(e=>(e.Passport="Passport",e.ResidencyVisa="ResidencyVisa",e.Iqama="Iqama",e))(Ae||{});const fo=[["Passport",{id:"passport",name:"Passport"}],["ResidencyVisa",{id:"residency-visa",name:"ResidencyVisa"}],["Iqama",{id:"iqama",name:"Iqama"}]],Bd=new Map(fo);new Map(fo.map(([e,a])=>[a.id,e]));function Ld(e){return Bd.get(e).id}const Nd=(e,a)=>{switch(a){case Ae.Passport:return e.formatMessage(as.passport);case Ae.ResidencyVisa:return e.formatMessage(as.residencyVisa);case Ae.Iqama:return e.formatMessage(as.ksaIqama)}},Ia=Yo(Nd),as=Z({passport:{id:"enum.document-type.passport",defaultMessage:"Passport"},residencyVisa:{id:"enum.document-type.residency-visa",defaultMessage:"Residency Visa"},ksaIqama:{id:"enum.document-type.ksa-iqama",defaultMessage:"Iqama"}}),ho=Z({docs:{id:"hr.dashboard.upcoming-document-expiries.docs",defaultMessage:"docs"},viewAllExpiries:{id:"hr.dashboard.upcoming-document-expiries.view-all-expiries",defaultMessage:"View all document expiries"}}),Pd=G()((e,{isCurrentOrNextMonth:a})=>({dateCard:{padding:e.spacing(1),paddingBottom:0,borderColor:a?se.red[200]:se.orange[300],color:e.palette.text.secondary,"&:hover":{backgroundColor:se.grey[200]}},textColor:{color:a?e.palette.error.main:se.orange[600]}})),Ed=({documentType:e,expiringDocument:a})=>{const s=Q(),o=za("dashboard.expiring-document-card"),{count:n,month:l}=a,m=new Date(l),u=t.jsx(An,{date:m,customDateFormat:"MMM"}),c=Qo(m,new Date)<=1,i=Ut(Ul(m)?new Date:Ko(m),yt.DATE_ISO),x=Ut(Jo(m),yt.DATE_ISO),{classes:f}=Pd({isCurrentOrNextMonth:c}),p=(e==null?void 0:e.category)&&yr(e.category),g=ae(Aa),h=new URLSearchParams({expiryDateFrom:i,expiryDateTo:x,employeeStatus:Ua.Active,ownerTypeList:In.Employee,documentStatus:Tn.Saved,documentTypeIdList:(e==null?void 0:e.id)??""});return t.jsx(L,{onClick:g?()=>o({event:"click_expiringDocumentMonth",documentType:e}):void 0,"data-external-id":`${p}-date-card`,size:"grow",children:t.jsx(_e,{to:g?`/documents/uploaded?${h}`:"/",raw:!0,children:t.jsxs(Pa,{variant:"outlined",className:f.dateCard,children:[t.jsx(j,{variant:"overline",display:"block",color:"textSecondary",mb:1,children:u}),t.jsx(j,{variant:"caption",className:f.textColor,children:s.formatMessage(ho.docs)}),t.jsx(j,{variant:"h4",className:f.textColor,"data-external-id":"date-card-count",children:n})]})})})},_d=()=>{const e=Q(),a=za("dashboard.expiring-document-card"),s=new URLSearchParams({employeeStatus:Ua.Active,ownerTypeList:In.Employee,documentStatus:Tn.Saved});return t.jsx(Ee,{variant:"outlined",to:`/documents/uploaded?${s}`,"data-external-id":"view-all-button",sx:{mt:3},onClick:()=>a({event:"click_viewAllDocumentExpiries"}),children:e.formatMessage(ho.viewAllExpiries)})};function Ud(e){const a={};return a.documentCategory=Ld(e.documentCategory),a.monthsToReport=`${e.monthsToReport}`,a}function $d(e){const a={};return a.count=e.count,a.month=e.month,a}const zd=e=>`/companies/${e.companyId}/widgets/histogram`,xo=(e,a,s)=>{const o=Vd.useMocker();return Ve({toURLFunction:zd,mapResponseFunction:kr($d),options:{isCancellable:!0,mocker:o}})(e,a,s)},Vd=mt(xo),Rd=e=>{const a=Xe(),s=ae(cn),o=Ud(e);return xo({companyId:a},{filters:o},{enabled:s,placeholderData:Xo})},Fd=G()(e=>({loadingSpinnerContainer:{height:"100%"},muqeemAlert:{marginTop:e.spacing(3)}})),Ta=Z({expiringDocuments:{id:"hr.expiring-documents",defaultMessage:"Expiring documents"},upcomingExpiries:{id:"hr.expiring-documents.upcoming-expiries",defaultMessage:"Upcoming <b>{documentName}</b> expiries"},integrateNow:{id:"hr.expiring-documents.integrate-now",defaultMessage:"Integrate Now"},integrateNowDescription:{id:"hr.expiring-documents.integrate-now-description",defaultMessage:"Integrate with Muqeem now and enjoy seamless Iqama renewals"}}),Wd=()=>{const e=Q(),a=Zo(),s=za("dashboard.expiring-document-card"),{classes:o}=Fd(),{handleMuqeemIntegrationSuccess:n,showMuqeemIntegrationDialog:l,muqeemIntegrationAvailable:m,hideMuqeemIntegrationDialog:u,isMuqeemIntegrationDialogVisible:c}=jr(),[i,x]=d.useState(a?Ae.Iqama:Ae.ResidencyVisa),f=br(),{data:p,isFetching:g}=Rd({documentCategory:i,monthsToReport:6}),h=d.useCallback(A=>f==null?void 0:f.find(E=>E.category===A),[f]),k=d.useCallback((A,E)=>{x(E)},[]),_=()=>{s({event:"click_muqeemIntegrateNow"}),l()};return p?t.jsxs(t.Fragment,{children:[t.jsx(ca,{loading:g,size:24,className:o.loadingSpinnerContainer,children:t.jsx(Fe,{dataExternalId:"expiring-documents-card",title:e.formatMessage(Ta.expiringDocuments),cardContent:t.jsxs(t.Fragment,{children:[t.jsxs(Ms,{value:i,children:[t.jsxs(Sn,{value:i,onChange:k,variant:"fullWidth",children:[a?t.jsx(Xt,{label:Ia(e,Ae.Iqama),value:Ae.Iqama,"data-external-id":"iqama-tab",onClick:()=>s({event:"click_documentCategoryTab",documentType:"Iqama"})}):t.jsx(Xt,{label:Ia(e,Ae.ResidencyVisa),value:Ae.ResidencyVisa,"data-external-id":"residency-visa-tab",onClick:()=>s({event:"click_documentCategoryTab",documentType:"Residency Visa"})}),t.jsx(Xt,{label:Ia(e,Ae.Passport),value:Ae.Passport,"data-external-id":"passport-tab",onClick:()=>s({event:"click_documentCategoryTab",documentType:"Passport"})})]}),a?t.jsx(ss,{documentTypeInfo:h(Ka.KsaIqama),documentCategory:Ae.Iqama,expiringDocuments:p}):t.jsx(ss,{documentTypeInfo:h(Ka.ResidencyVisa),documentCategory:Ae.ResidencyVisa,expiringDocuments:p}),t.jsx(ss,{documentTypeInfo:h(Ka.Passport),documentCategory:Ae.Passport,expiringDocuments:p})]}),m&&t.jsx(ei,{className:o.muqeemAlert,withIcon:!0,variant:ti.Info,message:e.formatMessage(Ta.integrateNowDescription),primaryAction:{text:e.formatMessage(Ta.integrateNow),onClick:_}})]}),cardActions:t.jsx(Pe,{can:Aa,children:t.jsx(_d,{})})})}),t.jsx(vr,{purpose:Cr.AddCredentials,open:c,onClose:u,onSuccess:n})]}):g?t.jsx(ps,{}):t.jsx(t.Fragment,{})},ss=({documentTypeInfo:e,documentCategory:a,expiringDocuments:s})=>{const o=Q(),n=Ia(o,a);return t.jsxs(ws,{value:a,sx:{padding:0},children:[t.jsx(j,{variant:"caption",display:"block",color:"textSecondary",mt:2,mb:1,children:o.formatMessage(Ta.upcomingExpiries,{documentName:n,b:l=>t.jsx("b",{children:l})})}),t.jsx(L,{container:!0,spacing:1,wrap:"nowrap",mb:2,children:s==null?void 0:s.map(l=>t.jsx(Ed,{documentType:e,expiringDocument:l},l.month))})]})},Od=({dueAmount:e,overdueAmount:a,viewDetailsUrl:s})=>{const o=Q();return t.jsx(Fe,{dataExternalId:"health-insurance-payment-card",title:o.formatMessage(wa.healthInsurancePayment),cardContent:t.jsxs(t.Fragment,{children:[t.jsx(j,{component:"span",variant:"h3",color:"textPrimary",children:t.jsx(As,{money:e,showFraction:!1})}),t.jsxs(j,{component:"span",variant:"body1",color:"textSecondary",children:[" ",o.formatMessage(wa.totalDue)]}),a.value>0?t.jsxs(j,{variant:"subtitle1",color:"error",children:[t.jsx(As,{money:a,showFraction:!1})," ",o.formatMessage(wa.overdue)]}):null]}),cardActions:t.jsx(Ee,{variant:"outlined",...s,children:o.formatMessage(wa.viewDetails)})})},wa=Z({healthInsurancePayment:{id:"common.health-insurance-payment",defaultMessage:"Health insurance payment"},totalDue:{id:"common.total-due",defaultMessage:"total due"},overdue:{id:"common.overdue",defaultMessage:"overdue"},viewDetails:{id:"common.action.view-details",defaultMessage:"View details"}});function yo(e){const a={};return a.attachments=e.attachments.map(s=>rs(s)),a.content=e.content,a}const Hd=e=>a=>{const s=Ha(a);return s.createdAt&&(s.createdAt+=e),s.editedAt&&(s.editedAt+=e),s},bo=e=>`/news-feed/companies/${e.companyId}/posts/${e.postId}/comments`,vo=e=>`/news-feed/companies/${e.companyId}/posts/${e.postId}/comments/${e.commentId}`,Gd=(e,a,s,o)=>Ve({toURLFunction:bo,mapResponseFunction:ua(Hd(a)),options:{isCancellable:!0}})(e,s,o),qd=()=>la({toURLFunction:vo,options:{showGlobalProgress:!0}}),Yd=()=>Vt({toURLFunction:bo,mapRequestFunction:bt(yo),mapResponseFunction:vt(Ha)}),Qd=()=>ln({toURLFunction:vo,mapRequestFunction:bt(yo),mapResponseFunction:ra(Ha)}),Kd=e=>`/news-feed/companies/${e.companyId}/posts/${e.postId}/comments/${e.commentId}/reactions`,Jd=e=>`/news-feed/companies/${e.companyId}/posts/${e.postId}/comments/${e.commentId}/reactions/${e.reactionId}`,Xd=()=>Vt({toURLFunction:Kd,mapRequestFunction:bt(ro),mapResponseFunction:vt(Oa)}),Zd=()=>la({toURLFunction:Jd});function Ga(e,a,s){return`${sa}/news-feed/companies/${e}/posts/${a}/attachments/${s}?_t=${na()}`}function em(e){const a={};return a.id=e.id,a.postId=e.post_id,a.seenByEmployeeId=e.seen_by_employee_id,a.seenByFullName=e.seen_by_full_name,a.seenByName=e.seen_by_name,a.seenByTitle=e.seen_by_title,a.seenAt=e.seen_at,a}const Co=e=>`/news-feed/companies/${e.companyId}/posts/${e.postId}/seen`,jo=()=>{const e=tm.useMocker();return Vt({toURLFunction:Co,options:{mocker:e}})},tm=mt(jo),ko=(e,a,s)=>{const o=am.useMocker();return Ve({toURLFunction:Co,mapResponseFunction:ua(em),options:{isCancellable:!0,mocker:o}})(e,a,s)},am=mt(ko),Mo="messages-chat-smileys/messages-bubble-square-alternate",sm=`${si}#${Mo}`,Is=ai(t.jsx("use",{href:sm}),"MessagesBubbleSquareAlternate");Is.id=Mo;const nm=G()(e=>({card:{paddingTop:e.spacing(2),overflow:"auto",zIndex:e.zIndex.modal-1},commentsColumn:{maxHeight:"calc(100vh - 64px)",overflow:"auto"},icon:{padding:e.spacing(1)},postImage:{maxWidth:"100%",height:"auto",borderRadius:e.shape.borderRadius,zIndex:1},longText:{overflowWrap:"break-word",wordBreak:"break-word"},closeButton:{position:"absolute",right:e.spacing(3),top:e.spacing(3),color:se.grey[500]},postImageBox:{backgroundColor:se.grey[100]},commentEditor:{position:"sticky",bottom:0,right:0},commentCardActionsSpacing:{paddingTop:e.spacing(1),paddingBottom:e.spacing(1)},embedVideo:{width:"100%",maxWidth:"100%",height:"auto",backgroundColor:se.grey[100]}}));function om({employees:e,employeeId:a,post:s,postImageDownloadUrl:o,userReaction:n,likeText:l,postTimeText:m,comments:u,isCommentsLoading:c,commentToEdit:i,onClose:x,onSubmitComment:f,onDeleteComment:p,onFetchMoreComments:g,onReactPost:h,onReactComment:k,onEditCommentClick:_,onCancelEditComment:A,additionalContent:E}){const{id:$,createdByEmployeeId:S,createdByFullName:te,createdByName:J,postImageFileId:N,commentsCount:C,disableComments:M,disableReactions:z,embeddedVideo:V}=s,q=Q(),{classes:b}=nm(),y=Ct(),{handleRequestExceptionAlert:B}=da(),R=d.useCallback(()=>{ue({event:"jd.newsfeed.postReview.click_author"}),S&&y.push(`/employees/${S}/profile/about-me/social`)},[S,y]),X=d.useCallback(async I=>{try{await f({content:I,editingCommentId:i==null?void 0:i.id})}catch(U){B(U,{skipDefaultHandler:!0})}},[i==null?void 0:i.id,B,f]),ke=d.useCallback(()=>{h({reactionType:ls.Like})},[h]),Le=d.useCallback(()=>{ue({event:"newsfeed.review-post-dialog.click_close"}),x()},[x]),Me=N||V;return t.jsx(ni,{open:!0,onClose:x,maxWidth:Me?"lg":"sm",fullWidth:!0,children:t.jsxs(L,{container:!0,children:[!V&&N&&t.jsx(L,{container:!0,alignItems:"center",justifyContent:"center",className:b.postImageBox,size:7,children:t.jsx("img",{className:b.postImage,alt:"avatar-"+$,src:o})}),V&&t.jsx(L,{container:!0,alignItems:"center",justifyContent:"center",className:b.postImageBox,size:7,children:t.jsx(js,{videoUrl:V.embedUrl,className:b.embedVideo})}),t.jsx(L,{className:b.commentsColumn,size:Me?5:12,children:t.jsxs(ca,{loading:c,children:[t.jsx(ma,{onLoadMoreResults:g,children:t.jsxs(rm,{className:b.card,children:[t.jsx(kt,{avatar:t.jsxs(t.Fragment,{children:[S!==void 0?t.jsx(Re,{person:{id:S,firstName:J,preferredName:te},onClick:R}):t.jsx(Dn,{}),t.jsx(ze,{"aria-label":"close",className:b.closeButton,onClick:Le,size:"small",children:t.jsx(oi,{fontSize:"xx-small"})})]}),disableTypography:!0,title:t.jsx(ta,{variant:"subtitle2",color:"textPrimary",onClick:R,underline:"hover",children:te}),subheader:t.jsx(j,{variant:"caption",display:"block",children:m})}),s.content&&t.jsx(lm,{children:e&&t.jsx(Bn,{employees:e,value:s.content,additionalContent:E})}),t.jsx(hs,{classes:{spacing:b.commentCardActionsSpacing},children:t.jsxs(L,{container:!0,alignItems:"center",justifyContent:"space-between",children:[!z&&t.jsx(L,{children:t.jsxs(le,{display:"flex",alignItems:"center",children:[t.jsx(ze,{className:b.icon,onClick:ke,size:"large",children:n?t.jsx(kn,{color:"primary",fontSize:"x-small"}):t.jsx(Mn,{fontSize:"x-small"})}),t.jsx(j,{variant:"caption",className:b.longText,display:"block",children:l})]})}),!M&&t.jsx(L,{children:t.jsxs(le,{display:"flex",alignItems:"center",children:[t.jsx(ze,{className:b.icon,size:"large",children:t.jsx(Is,{fontSize:"x-small"})}),t.jsxs(j,{variant:"caption",display:"block",children:[C," ",q.formatMessage(cm.comments)]})]})})]})}),t.jsx(ia,{})]})}),u==null?void 0:u.map(I=>t.jsx(wn,{beingEdited:(i==null?void 0:i.id)===I.id,comment:I,employees:e,onEdit:U=>_({comment:U}),onDelete:U=>p({comment:U}),onReact:(U,he)=>k({comment:U,reactionType:he}),showReactions:!0},I.id)),!M&&t.jsx(Ln,{commentToEdit:i,className:b.commentEditor,employeeId:a,employees:e,onSubmit:X,onCancelEditing:A})]})})]})})}const im=G()(()=>({root:{border:"none",boxShadow:"none"}})),rm=e=>{const{classes:a,cx:s}=im();return t.jsx(jt,{...e,className:s(a.root,e.className)})},lm=ce(Na,e=>({root:{paddingTop:e.spacing(1)}})),cm=Z({comments:{id:"common.comments",defaultMessage:"Comments"}}),dm=G()(()=>({maxHeight:{maxHeight:500}})),Ks=ce("div",e=>({root:{display:"flex",flexDirection:"column",gap:e.spacing(2)}})),mm=ce("div",e=>({root:{display:"flex",alignItems:"center",gap:e.spacing(1)}}));function Js(e=[]){return e.reduce((a,s)=>a.set(s.id,s),new rt)}const um=({postId:e,onClose:a})=>{const{classes:s}=dm(),o=Q(),n=Xe(),[l,m]=d.useState({limit:20,offset:0}),{data:u,isLoading:c}=ko({companyId:n,postId:e},{pagination:l}),[i,x]=d.useState(Js(u==null?void 0:u.data)),f=c&&l.offset>0;d.useEffect(()=>{if(u!=null&&u.data){const g=Js(u.data);x(rt.concat(g))}},[u==null?void 0:u.data]);const p=()=>{bs(u==null?void 0:u.pagination)&&m(({limit:g,offset:h})=>({limit:g,offset:g+h}))};return t.jsx(qe,{open:!0,title:o.formatMessage(Xs.title),showCloseButton:!0,onClose:a,maxWidth:"xs",fullWidth:!0,confirmButton:{show:!1},contentClassName:s.maxHeight,content:c&&!f?t.jsxs(Ks,{children:[t.jsx(be,{variant:"rounded",height:40}),t.jsx(be,{variant:"rounded",height:40}),t.jsx(be,{variant:"rounded",height:40})]}):t.jsx(ma,{onLoadMoreResults:p,children:t.jsxs(Ks,{children:[i.map((g,h)=>t.jsx(_e,{to:`/employees/${g.seenByEmployeeId}/profile/about-me/social`,app:Je.APP_HRADMIN,children:t.jsxs(mm,{children:[t.jsx(Re,{person:{id:g.seenByEmployeeId,firstName:g.seenByFullName,preferredName:g.seenByFullName},shouldUseSkeletonLoading:!0}),t.jsx("span",{children:g.seenByFullName})]})},h)),i.length===0&&o.formatMessage(Xs.noPeopleYet)]})})})},Xs=Z({noPeopleYet:{id:"common.no-people-yet",defaultMessage:"No people yet"},title:{id:"hr.people-who-saw",defaultMessage:"People who saw this"}}),wo=()=>{const{state:e}=ii();return e.timeDifference?e.timeDifference:0},Ba=e=>_a(Sa(e),new Date),pm=G()(e=>({card:{marginTop:e.spacing(2),width:"100%"},icon:{padding:e.spacing(1)},menuIcon:{color:se.grey[900]},reactionsContainer:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),paddingBottom:e.spacing(1)},postImage:{width:"100%",height:"100%",objectFit:"cover",borderRadius:e.shape.borderRadius,zIndex:1},longText:{overflowWrap:"break-word",wordBreak:"break-word"},commentEditor:{padding:0,backgroundColor:"transparent"},knowledgeHubContent:{display:"flex",alignItems:"center",gap:e.spacing(1),padding:e.spacing(1,1.5)}})),je=Z({viewCount:{id:"hr.view-count",defaultMessage:"{seenCount} Views"},commentsCount:{id:"hr.comments-count",defaultMessage:"{commentsCount} Comments"},viewAnnouncement:{id:"hr.announcements.view-announcement",defaultMessage:"View announcement"},shareYourOpinion:{id:"hr.announcements.survey-link-button",defaultMessage:"Share your opinion"},confirmation:{id:"common.confirmation",defaultMessage:"Confirmation"},deletePostConfirmation:{id:"hr.delete-post-confirm-question",defaultMessage:"Are you sure you want to delete this post"},edit:{id:"common.action.edit",defaultMessage:"Edit"},delete:{id:"common.action.delete",defaultMessage:"Delete"},viewMoreComments:{id:"common.view-more-comments",defaultMessage:"View more comments"},scheduledPost:{id:"hr.newsfeed-scheduled-post",defaultMessage:"This is a scheduled post"},employeesWillSeeAfter:{id:"hr.newsfeed-employees-see-after",defaultMessage:"Your employees will see this after"},viewButton:{id:"common.action.view",defaultMessage:"View"},downloadButton:{id:"common.action.download",defaultMessage:"Download"}}),gm=(e,a)=>a.map(s=>{const o=Da(s.fileMimeType);return{id:s.id,name:s.fileName,src:Ga(e,s.postId,s.id),type:cs(o),status:ct.Attached,isDownloadable:!0,isDeletable:!1,size:s.fileSize}});function fm({employees:e,post:a,onEditPost:s,onDeletePost:o,onReactPost:n,onCommentCountChange:l}){const[m,u]=d.useState(null),{id:c,content:i,reactions:x,attachments:f,createdByEmployeeId:p,createdByFullName:g,createdByName:h,postImageFileId:k,seenCount:_,commentsCount:A,disableComments:E,disableReactions:$,latestComment:S,createdAt:te,editedAt:J,scheduledAt:N,externalParameters:C,embeddedVideo:M,knowledgeHubContentPayload:z}=a,V=Xe(),q=wo(),{classes:b}=pm(),y=$a(),B=Ct(),R=Ea(),[X,ke]=d.useState({alreadySent:!1}),[Le,Me]=d.useState("default"),[I,U]=d.useState(S?[S]:[]),[he,O]=d.useState({limit:1e3,offset:0}),F=Q(),[Ne,Ye]=d.useState(S?[S.id]:[]),[xe,ut]=d.useState(void 0),{confirm:We}=Pr(),{handleRequestExceptionAlert:De}=da(),Qe=y===p,Ze=Se.isUndefined(p),Ke=d.useMemo(()=>a.reactions.find(v=>v.createdByEmployeeId===y),[y,a.reactions]),{mutateAsync:Ue}=jo(),{mutateAsync:we}=qd(),{mutateAsync:de}=Xd(),{mutateAsync:et}=Zd(),{mutateAsync:Oe}=Yd(),{mutateAsync:T}=Qd(),{data:w,isPending:ne}=Gd({companyId:V,postId:c},q,{pagination:he},{gcTime:0,enabled:Le==="review"}),Ie=d.useMemo(()=>k?hm(V,c,k):void 0,[V,c,k]),[pe,pt]=d.useState(void 0),Rt=!!(N&&Ba(N)),tt=d.useMemo(()=>{const v=x.filter(P=>P.createdByEmployeeId!==y).map(P=>P.createdByFullName);if(v.length===0)return F.formatMessage({id:"common.action.like",defaultMessage:"Like"});if(Ke)switch(v.length){case 1:return F.formatMessage({id:"hr.you-liked-this",defaultMessage:"You liked this"});case 2:return F.formatMessage({id:"hr.you-and-one-person-liked-this",defaultMessage:"You & {person} liked this"},{person:v[0]});default:return F.formatMessage({id:"hr.you-and-others-liked-this",defaultMessage:"You & {personCount} others liked this"},{personCount:v.length})}else switch(v.length){case 1:return F.formatMessage({id:"hr.one-person-liked-this",defaultMessage:"{person} liked this"},{person:v[0]});case 2:return F.formatMessage({id:"hr.two-persons-liked-this",defaultMessage:"{person1} & {person2} liked this"},{person1:v[0],person2:v[1]});default:return F.formatMessage({id:"hr.one-and-others-liked-this",defaultMessage:"{person} & {personCount} others liked this"},{person:v[0],personCount:v.length-1})}},[x,Ke,y,F]),Mt=d.useMemo(()=>{if(C!=null&&C.announcementId)return t.jsx(Ee,{variant:"contained",fullWidth:!0,to:`/announcements/read/${C.announcementId}`,children:F.formatMessage(je.viewAnnouncement)});if(C!=null&&C.surveyId)return t.jsx(Ee,{variant:"contained",fullWidth:!0,to:`/employee/take/${C.surveyId}`,app:Je.APP_COMPANY_SURVEY,children:F.formatMessage(je.shareYourOpinion)});if(C!=null&&C.knowledgeHubLink&&z){const v=new URL(C.knowledgeHubLink),P=v.origin+v.pathname,Y=mr.fromApiItemType(z.type).toLegacyKnowledgeHubDocumentFileType();return t.jsxs(Pa,{variant:"outlined",className:b.knowledgeHubContent,children:[t.jsx(Dr,{type:Y}),t.jsx(_e,{to:P,external:!0,children:z.content.name})]})}},[C,F,b,z]),Ft=d.useMemo(()=>{if(N&&Ba(N))return F.formatMessage({id:"hr.scheduled-for-future-date",defaultMessage:"Scheduled for {futureDate}"},{futureDate:R({date:Sa(N),dateFormat:"full",isTimestamp:!0,timeFormat:"no-seconds"})});const v=J?F.formatMessage({id:"common.edited",defaultMessage:"Edited"}):F.formatMessage({id:"common.posted",defaultMessage:"Posted"}),P=J??N??te,Y=P!==void 0?Br(F,Sa(P)):"";return`${v} ${Y}`},[te,J,F,R,N]),at=d.useMemo(()=>I.filter(v=>Ne.includes(v.id)),[I,Ne]);d.useEffect(()=>{if(w!=null&&w.data){const v=w.data;U(P=>{const Y=[...v];return P.forEach(ee=>{v.every(K=>K.id!==ee.id)&&Y.push(ee)}),Y.sort((ee,K)=>!(ee.createdAt&&K.createdAt)||ee.createdAt===K.createdAt?0:ee.createdAt<K.createdAt?1:-1)})}},[w==null?void 0:w.data]);const ga=d.useCallback(v=>{u(v.currentTarget)},[u]),st=d.useCallback(()=>{u(null)},[u]),Wt=d.useCallback(()=>{ue({event:"newsfeed.newsfeed-card.click_delete-post"}),st(),We({title:F.formatMessage(je.confirmation),content:t.jsx(j,{color:"textSecondary",children:F.formatMessage(je.deletePostConfirmation)}),confirmButton:{onClick:()=>{o(a)},text:F.formatMessage({id:"common.action.delete",defaultMessage:"Delete"})},cancelButton:{text:F.formatMessage({id:"common.action.cancel",defaultMessage:"Cancel"}),show:!0}})},[st,We,F,o,a]),fa=d.useCallback(()=>{ue({event:"newsfeed.newsfeed-card.click_edit-post"}),s&&s(c),st()},[st,s,c]),wt=d.useCallback(v=>{ue({event:`newsfeed.newsfeed-card.click_${v}`}),Me("review")},[]),qa=d.useCallback(()=>{Me("seen-list")},[]),Ya=d.useCallback(()=>{Me("like-list")},[]),Ot=d.useCallback(()=>{Me("default")},[]),ha=d.useCallback(()=>{ue({event:"newsfeed.newsfeed-card.click_author"}),p&&B.push(`/employees/${p}/profile/about-me/social`)},[p,B]),xa=d.useCallback(({comment:v})=>{ut(v)},[]),Ht=d.useCallback(()=>{ut(void 0)},[]),Gt=d.useCallback(async({comment:v,isFromCard:P})=>{ue({event:`newsfeed.${P?"newsfeed-card":"review-post-dialog"}.delete-comment`});try{const Y=v.id;await we({urlParams:{companyId:V,postId:c,commentId:Y}}),U(me(ee=>ee.filter(K=>K.id!==Y))),Ye(me(ee=>ee.filter(K=>K!==Y))),l(c,A-1)}catch(Y){throw De(Y),Y}},[A,V,we,De,l,c]),ya=d.useCallback(()=>{he&&bs(w==null?void 0:w.pagination)&&O(v=>({limit:v.limit,offset:v.limit+v.offset}))},[w==null?void 0:w.pagination,he]),qt=d.useCallback(async({content:v,editingCommentId:P,isFromCard:Y})=>{var ee;ue({event:`newsfeed.${Y?"newsfeed-card":"review-post-dialog"}.${P?"edit":"add"}-comment`});try{if(P){ut(void 0);const K=await T({data:{content:v,attachments:[]},urlParams:{companyId:V,postId:c,commentId:P}});K.id&&U(me($e=>{const It=$e.findIndex(nt=>nt.id===P);It>-1&&($e[It]=K)}))}else{const K=await Oe({data:{content:v,attachments:[]},urlParams:{companyId:V,postId:c}});K.data&&((ee=K.data)!=null&&ee.id)&&(U($e=>[K.data,...$e]),Ye($e=>[K.data.id,...$e]),l(c,A+1))}}catch(K){throw De(K),K}},[A,V,Oe,De,l,c,T]),Yt=d.useCallback(({reactionType:v,isFromCard:P})=>{n({postId:c,reactionType:v,isFromCard:P})},[n,c]),D=d.useCallback(async({comment:v,reactionType:P,isFromCard:Y})=>{try{const ee=v.id,K=I.findIndex($e=>$e.id===ee);if(K>-1){let $e=!1;const It=I[K].reactions.findIndex(nt=>nt.createdByEmployeeId===y);if(It>-1)await et({urlParams:{companyId:V,postId:c,commentId:ee,reactionId:I[K].reactions[It].id}}),U(me(nt=>{nt[K].reactions.splice(It,1)}));else{$e=!0;const nt=await de({data:{reactionCode:ls.Like},urlParams:{companyId:V,postId:c,commentId:ee}});U(me(Eo=>{nt.data&&Eo[K].reactions.push(nt.data)}))}ue({event:`newsfeed.${Y?"newsfeed-card":"review-post-dialog"}.${$e?"add":"remove"}-reaction`,reactionType:Se.lowerCase(P)})}}catch(ee){throw De(ee),ee}},[de,I,V,et,y,De,c]),ve=d.useCallback(()=>{Ue({data:void 0,urlParams:{companyId:V,postId:c}}),ke({timeout:void 0,alreadySent:!0})},[Ue,V,c]),Te=d.useCallback(v=>{v?X.alreadySent||ke({timeout:setTimeout(ve,2e3),alreadySent:!1}):X.timeout&&(clearTimeout(X.timeout),ke({timeout:void 0,alreadySent:X.alreadySent}))},[ve,X.alreadySent,X.timeout]),Be=v=>{const P=f.findIndex(Y=>Y.id===v);pt(P!==-1?P:void 0)};return t.jsxs(ri,{onChange:Te,skip:Rt,threshold:1,triggerOnce:!0,children:[t.jsxs(jt,{className:b.card,"data-external-id":"post-card",children:[t.jsxs(xm,{showOverlay:Rt,children:[t.jsx(kt,{avatar:Ze?t.jsx(Dn,{}):t.jsx(Re,{shouldUseSkeletonLoading:!0,person:{id:p,firstName:h,preferredName:g},onClick:ha}),action:Qe?t.jsxs(t.Fragment,{children:[t.jsx(ze,{onClick:ga,"data-external-id":"post-menu-action",size:"large",children:t.jsx(Ss,{fontSize:"small",className:b.menuIcon})}),t.jsxs(Ds,{id:"post-menu",anchorEl:m,keepMounted:!0,open:!!m,onClose:st,children:[t.jsx(Pe,{can:dn,children:t.jsx(Qa,{onClick:fa,"data-external-id":"post-edit-button",children:F.formatMessage(je.edit)})}),t.jsx(Pe,{can:mn,children:t.jsx(Qa,{onClick:Wt,"data-external-id":"post-delete-button",children:F.formatMessage(je.delete)})})]})]}):Ze&&t.jsxs(Pe,{can:li,children:[t.jsx(ze,{onClick:ga,"data-external-id":"post-menu-action",size:"large",children:t.jsx(Ss,{fontSize:"small",className:b.menuIcon})}),t.jsx(Ds,{id:"post-menu",anchorEl:m,keepMounted:!0,open:!!m,onClose:st,children:t.jsx(Qa,{onClick:Wt,"data-external-id":"post-delete-button",children:F.formatMessage(je.delete)})})]}),disableTypography:!0,title:Ze?t.jsx(j,{color:"textPrimary",variant:"subtitle2",children:g}):t.jsx(ta,{color:"textPrimary",variant:"subtitle2",onClick:ha,underline:"hover",children:g}),subheader:t.jsx(j,{"data-external-id":"newsfeed-card-post-time",variant:"caption",display:"block",children:Ft})}),i&&t.jsx(Cm,{onClick:()=>wt("content"),children:e&&t.jsx(Bn,{employees:e,value:i,additionalContent:Mt})}),f.length>0&&t.jsx(le,{px:3,pb:2,display:"flex",flexDirection:"column",gap:1,children:f.map(v=>t.jsx(Nn,{status:ct.Attached,fileName:v.fileName,actions:[{icon:_n,name:F.formatMessage(je.viewButton),onClick:()=>Be(v.id)},{icon:Nr,name:F.formatMessage(je.downloadButton),to:Ga(V,c,v.id)}]},v.id))}),t.jsx(En,{onClose:()=>pt(void 0),withFileList:f.length>1,initialPreviewFileIndex:pe,files:gm(V,f),open:pe!==void 0}),t.jsx(le,{onClick:()=>wt("post-image"),pt:i?0:2,children:k&&t.jsx("img",{className:b.postImage,alt:"avatar-"+c,src:Ie})}),(M==null?void 0:M.embedUrl)&&t.jsx(js,{videoUrl:M.embedUrl}),t.jsxs(le,{display:"flex",flexDirection:"column",children:[t.jsxs(L,{container:!0,alignItems:"center",className:b.reactionsContainer,children:[t.jsx(L,{container:!0,justifyContent:"flex-start",alignItems:"center",size:7,children:!$&&t.jsxs(le,{display:"flex",alignItems:"center",children:[t.jsx(ze,{className:b.icon,onClick:()=>Yt({reactionType:ls.Like,isFromCard:!0}),size:"large",children:Ke?t.jsx(kn,{color:"primary",fontSize:"x-small"}):t.jsx(Mn,{fontSize:"x-small"})}),t.jsx(j,{className:b.longText,variant:"caption",children:t.jsx(ta,{onClick:Ya,underline:"hover",children:tt})})]})}),t.jsxs(L,{container:!0,justifyContent:"flex-end",alignItems:"center",size:5,children:[t.jsx(re,{onClick:qa,startIcon:t.jsx(Lr,{fontSize:"x-small"}),children:t.jsx(j,{variant:"caption",display:"block",children:F.formatMessage(je.viewCount,{seenCount:_})})}),!E&&t.jsx(le,{display:"flex",alignItems:"center",children:t.jsx(re,{startIcon:t.jsx(Is,{fontSize:"x-small"}),onClick:()=>wt("comments-count"),children:t.jsx(j,{variant:"caption",display:"block",children:F.formatMessage(je.commentsCount,{commentsCount:A})})})})]})]}),Ne&&Ne.length>0&&t.jsx(ia,{variant:"fullWidth"}),at.map(v=>t.jsx(wn,{beingEdited:(xe==null?void 0:xe.id)===v.id,comment:v,"data-external-id":"post-comment-box",employees:e,onEdit:P=>xa({comment:P,isFromCard:!0}),onDelete:P=>Gt({comment:P,isFromCard:!0}),onReact:(P,Y)=>D({comment:P,reactionType:Y,isFromCard:!0}),showReactions:!0},v.id)),t.jsxs(le,{px:3,pt:Ne.length>0?1:0,pb:2,children:[A>1&&A>Ne.length&&t.jsx(le,{pb:1,children:t.jsx(re,{variant:"text",color:"primary",onClick:()=>wt("view-more-comments"),children:F.formatMessage(je.viewMoreComments)})}),!E&&t.jsx(Ln,{eagerRenderEditor:!!xe,employeeId:y,employees:e,className:b.commentEditor,commentToEdit:xe,onCancelEditing:Ht,onSubmit:v=>qt({content:v,editingCommentId:xe==null?void 0:xe.id,isFromCard:!0})})]})]})]}),t.jsx(bm,{ownPost:y===p,scheduledAt:N,onEdit:fa,onDelete:Wt})]}),Le==="review"&&t.jsx(om,{post:a,comments:I,isCommentsLoading:ne,commentToEdit:xe,employees:e,employeeId:y,postImageDownloadUrl:Ie,userReaction:Ke,likeText:tt,postTimeText:Ft,onEditCommentClick:xa,onCancelEditComment:Ht,onSubmitComment:qt,onDeleteComment:Gt,onFetchMoreComments:ya,onReactComment:D,onReactPost:Yt,onClose:Ot,additionalContent:Mt}),Le==="seen-list"&&t.jsx(um,{postId:c,onClose:Ot}),Le==="like-list"&&t.jsx(cr,{likes:x,onClose:Ot})]})}function hm(e,a,s){if(e&&a&&s)return`${sa}/news-feed/companies/${e}/posts/${a}/content/${s}?_t=${na()}`}const xm=({showOverlay:e,children:a})=>{const{classes:s}=ym();return e?t.jsx(t.Fragment,{children:t.jsxs("div",{className:s.container,children:[t.jsx(ci,{className:s.backdrop,open:!0}),a]})}):t.jsx(t.Fragment,{children:a})},ym=G()(e=>({container:{position:"relative"},backdrop:{backgroundColor:"#ffffffa0",position:"absolute",zIndex:e.zIndex.appBar-1}})),bm=({ownPost:e,scheduledAt:a,onEdit:s,onDelete:o})=>{const n=Q(),{classes:l}=vm();return!a||!Ba(a)?null:t.jsxs(L,{container:!0,className:l.container,direction:"row",alignItems:"center",justifyContent:"space-between",wrap:"nowrap",children:[t.jsxs(le,{display:"flex",flexGrow:1,flexDirection:"column",children:[t.jsx(j,{variant:"subtitle1",color:"primary",children:n.formatMessage(je.scheduledPost)}),t.jsxs(j,{variant:"body2",color:"textPrimary",children:[n.formatMessage(je.employeesWillSeeAfter)," ",a&&t.jsx(An,{date:a,dateFormat:"full",timeFormat:"no-seconds",isTimestamp:!0})]})]}),e&&t.jsxs(le,{display:"flex",children:[t.jsx(Pe,{can:dn,children:t.jsx(re,{variant:"outlined",onClick:s,children:n.formatMessage(je.edit)})}),t.jsx(le,{pl:1,children:t.jsx(Pe,{can:mn,children:t.jsx(re,{variant:"outlined",onClick:o,children:n.formatMessage(je.delete)})})})]})]})},vm=G()(e=>({container:{backgroundColor:e.palette.primary.light,padding:e.spacing(2)}})),Cm=ce(Na,e=>({root:{paddingTop:e.spacing(1),paddingBottom:e.spacing(1)}}));function jm(e){const a={};return a.profileCompletion=e.profile_completion,a.missingFields=e.missing_fields,a.allRequiredFields=e.all_required_fields,a.missingDocuments=e.missing_documents,a}const km=e=>`/companies/${e.companyId}/employees/${e.employeeId}/widgets/profile-missing-items`,Io=e=>Ve({toURLFunction:km,mapResponseFunction:vt(jm),options:{isCancellable:!0}})(e),Mm=({"data-external-id":e,profileMissingItems:a})=>{const s=Q();return t.jsx(Fe,{dataExternalId:e,title:s.formatMessage(gt.completeYourProfile),cardContent:t.jsxs(L,{container:!0,direction:"column",spacing:1,children:[t.jsxs(L,{container:!0,direction:"row",alignItems:"center",spacing:1,wrap:"nowrap",children:[t.jsx(L,{children:t.jsx(Er,{variant:"determinate",value:(a==null?void 0:a.profileCompletion)||0,thickness:4,size:30,"data-external-id":"profile-heading-profile-completion"})}),t.jsxs(L,{container:!0,direction:"row",alignItems:"center",spacing:1,children:[t.jsx(L,{children:t.jsxs(j,{variant:"h3","data-external-id":"profile-completion-number",children:[a==null?void 0:a.profileCompletion,"%"]})}),t.jsx(L,{children:t.jsx(j,{variant:"body2",children:s.formatMessage(gt.profileCompletion)})})]})]}),t.jsx(L,{children:(a==null?void 0:a.profileCompletion)===100?t.jsxs(L,{container:!0,direction:"column",alignItems:"flex-start",spacing:1,children:[t.jsx(L,{children:t.jsx(j,{variant:"body1",color:"textSecondary",children:s.formatMessage(gt.employeeCongratsProfileCompletion)})}),t.jsx(L,{children:t.jsx(j,{variant:"body1",color:"textSecondary",children:s.formatMessage(gt.employeeVisitProfileViewEdit)})})]}):t.jsx(j,{variant:"body1",color:"textSecondary",children:a?s.formatMessage(gt.completeMissingItemsOnProfile,{missingItemsList:a.allRequiredFields.join(", ")}):s.formatMessage(gt.uploadPassportPhotoInfo)})})]}),cardActions:t.jsx(Ee,{to:"/profile/personal",variant:"outlined","data-external-id":"go-to-my-profile-button",children:s.formatMessage(gt.goToMyProfile)})})},gt=Z({completeMissingItemsOnProfile:{id:"hr.complete-missing-items-on-profile",defaultMessage:"Complete your {missingItemsList} on the social profile"},completeYourProfile:{id:"hr.complete-your-profile",defaultMessage:"Complete your profile"},profileCompletion:{id:"common.profile-completion",defaultMessage:"Profile Completion"},employeeCongratsProfileCompletion:{id:"hr.employee-congrats-profile-completion",defaultMessage:"Congratulations! Your profile has been completed."},employeeVisitProfileViewEdit:{id:"hr.employee-visit-profile-view-edit",defaultMessage:"You can visit your profile to view & edit."},uploadPassportPhotoInfo:{id:"hr.upload-passport-photo-info",defaultMessage:"Upload a passport photo, back of your national ID, and complete your interests and hobbies on the social profile"},goToMyProfile:{id:"hr.go-to-my-profile",defaultMessage:"Go to my profile"}}),wm=({})=>{const e=Xe(),a=$a(),{data:s,isPending:o}=Io({companyId:e,employeeId:a});return t.jsx(ca,{loading:o,children:t.jsx(Mm,{profileMissingItems:s==null?void 0:s.data,"data-external-id":"complete-your-profile-widget"})})},Im=G()((e,{loadingImage:a})=>({container:{position:"relative",height:140,backgroundColor:se.grey[100],borderRadius:e.shape.borderRadius,cursor:"pointer"},shadow:{position:"absolute",left:0,top:0,width:"100%",height:"100%",background:"linear-gradient(180deg, rgba(0, 0, 0, 0) 48.38%, #000000 100%);",zIndex:2,borderRadius:e.shape.borderRadius},avatarImage:{position:"absolute",left:0,top:0,width:"100%",height:"100%",objectFit:"cover",borderRadius:e.shape.borderRadius,zIndex:1,opacity:a?0:1},textBox:{position:"absolute",width:"100%",color:se.grey[0],bottom:0,left:0,padding:e.spacing(1),zIndex:5},textLine:{overflow:"hidden"},fallbackIcon:{width:"100%",height:80,color:se.grey[400],position:"absolute",top:50}})),Tm=({employee:e,shouldUseSkeletonLoading:a})=>{const s=Xe(),o=Ct(),{imageUrl:n}=di(s,e.id),[l,m]=d.useState(!0),{classes:u}=Im({loadingImage:l}),[c,i]=mi(n,!0,3),x=!a&&l&&!i,f=!!a&&l&&!i,p=()=>{o.push(`/employees/${e.id}/profile/about-me/social`)};return t.jsx(ca,{loading:x,children:t.jsxs("div",{onClick:p,className:u.container,children:[t.jsx("img",{className:u.avatarImage,alt:"avatar-"+e.id,src:c,onLoad:()=>m(!1)}),f&&t.jsx(be,{height:"100%",width:"100%",variant:"rectangular"}),i&&t.jsx(_r,{className:u.fallbackIcon,fontSize:"x-small"}),!f&&t.jsx("div",{className:u.shadow}),t.jsxs("div",{className:u.textBox,children:[t.jsx("div",{className:u.textLine,children:t.jsx(j,{variant:"caption",noWrap:!0,children:e.preferredName??e.firstName})}),t.jsx("div",{className:u.textLine,children:t.jsx(j,{variant:"caption",noWrap:!0,children:e.lastName})})]})]})})},Am=({employeeSummaries:e,totalEmployeeCount:a})=>{const s=Q(),o=ae(ui),n=un(),m=nn(n.breakpoints.up("md"))?8:9,u=e==null?void 0:e.slice(0,m);return t.jsx(Fe,{dataExternalId:"employees-directory-card",title:s.formatMessage(Zs.employeesDirectory),headerAction:t.jsx(_e,{to:o?"/employees/list":"/company/people",variant:"subtitle2","data-external-id":"employees-directory-shortcut-link",children:s.formatMessage(Zs.seeAllEmployees,{employeeSummariesCount:a??""})}),cardContent:t.jsx(le,{mb:2,children:t.jsx(L,{container:!0,direction:"row",alignItems:"center",spacing:1,children:u==null?void 0:u.map(c=>t.jsx(L,{"data-external-id":"employee-directory-employee-avatar",size:{xs:4,md:3},children:t.jsx(Tm,{employee:c,shouldUseSkeletonLoading:!0})},c.id))})})})},Zs=Z({seeAllEmployees:{id:"common.action.see-all-employees",defaultMessage:"See all {employeeSummariesCount} employees"},employeesDirectory:{id:"hr.employees-directory",defaultMessage:"Employees directory"}}),Ts=G()(e=>({container:{height:"100%"},skeletonContent:{padding:e.spacing(1,3,2,3)},avatarSkeleton:{borderRadius:e.shape.borderRadius}})),Sm=({employeeSummaries:e,totalEmployeeCount:a})=>{const{classes:s}=Ts();return e?t.jsx("div",{className:s.container,children:t.jsx(Am,{employeeSummaries:e,totalEmployeeCount:a})}):t.jsx(Dm,{})},Dm=()=>{const{classes:e}=Ts();return t.jsxs(jt,{children:[t.jsx(kt,{title:t.jsx(pi,{direction:"row",justifyContent:"space-between",children:t.jsx(be,{height:12,width:"40%"})})}),t.jsx(xs,{className:e.skeletonContent,children:t.jsxs(L,{container:!0,direction:"row",alignItems:"center",spacing:1,children:[t.jsx(Dt,{}),t.jsx(Dt,{}),t.jsx(Dt,{}),t.jsx(Dt,{}),t.jsx(Dt,{}),t.jsx(Dt,{})]})})]})},Dt=()=>{const{classes:e}=Ts();return t.jsx(L,{size:{xs:4,md:3},children:t.jsx(be,{className:e.avatarSkeleton,variant:"rectangular",height:140})})},To=G()(e=>({statusListContainer:{display:"flex",flexDirection:"column",gap:e.spacing(2),marginTop:e.spacing(4),marginBottom:e.spacing(2)},statusCount:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(2),border:"1px solid",borderRadius:e.shape.borderRadius,cursor:"pointer"},statusCountTitle:{display:"flex",gap:4,alignItems:"center"},warningStatus:{background:e.palette.warning.light,borderColor:e.palette.warning.main},infoStatus:{background:e.palette.info.light,borderColor:e.palette.info.main},errorStatus:{background:e.palette.error.light,borderColor:e.palette.error.main},successStatus:{background:e.palette.success.light,borderColor:e.palette.success.main},ellipse:{width:10,height:10,borderRadius:5},warningBackground:{background:e.palette.warning.main},successBackground:{background:e.palette.success.main},infoBackground:{background:e.palette.info.main},errorBackground:{background:e.palette.error.main}})),ft="/task-management",Bm=({assignedToMeCounts:e,createdByMeCounts:a})=>{const{classes:s}=To(),o=Q(),n=Ct(),l=$a(),[m,u]=d.useState("assigned-to-me"),c=(p,g)=>{u(g)},i=()=>{ue({event:"task-management.dashboard-widget.click_viewAllTasks"}),n.push(ft)},x=Ut(new Date,yt.DATE_ISO),f=Ut(oa(new Date,7),yt.DATE_ISO);return t.jsx(Fe,{title:o.formatMessage(He.yourTasks),"data-external-id":"my-tasks-widget",cardContent:t.jsxs(t.Fragment,{children:[t.jsxs(Sn,{value:m,onChange:c,children:[t.jsx(Xt,{"data-external-id":"assigned-to-me-tab",label:o.formatMessage(He.assignedToMe),value:"assigned-to-me"}),t.jsx(Xt,{"data-external-id":"created-by-me-tab",label:o.formatMessage(He.createdByMe),value:"created-by-me"})]}),t.jsxs("div",{className:s.statusListContainer,children:[m==="created-by-me"&&t.jsxs(t.Fragment,{children:[t.jsx(Bt,{color:"error",count:a.overdue,label:o.formatMessage(He.overdue),navigationLink:`${ft}?createdByIds=${l}&overdueStatuses=overdue`,statusKey:"created-by-me-overdue"}),t.jsx(Bt,{color:"success",count:a.completed,label:o.formatMessage(He.completed),navigationLink:`${ft}?createdByIds=${l}&statuses=completed`,statusKey:"created-by-me-completed"}),t.jsx(Bt,{color:"info",count:a.assigned,label:o.formatMessage(He.assigned),navigationLink:`${ft}?createdByIds=${l}&statuses=assigned`,statusKey:"created-by-me-assigned"})]}),m==="assigned-to-me"&&t.jsxs(t.Fragment,{children:[t.jsx(Bt,{color:"warning",count:e.dueToday,label:o.formatMessage(He.dueToday),navigationLink:`${ft}?assigneeEmployeeIds=${l}&dueDateFrom=${x}&dueDateTo=${x}`,statusKey:"assigned-to-me-due-today"}),t.jsx(Bt,{color:"info",count:e.dueInSevenDays,label:o.formatMessage(He.dueInSevenDays),navigationLink:`${ft}?assigneeEmployeeIds=${l}&dueDateTo=${f}&dueDateFrom=${x}`,statusKey:"assigned-to-me-due-in-seven-days"}),t.jsx(Bt,{color:"error",count:e.overdue,label:o.formatMessage(He.overdue),navigationLink:`${ft}?assigneeEmployeeIds=${l}&overdueStatuses=overdue`,statusKey:"assigned-to-me-overdue"})]})]}),t.jsx(re,{fullWidth:!0,variant:"outlined",onClick:i,children:o.formatMessage(He.viewAllTasks)})]})})},Bt=({color:e,count:a,label:s,navigationLink:o,statusKey:n})=>{const{classes:l,cx:m}=To(),u=Ct(),c={error:{container:l.errorStatus,dot:l.errorBackground},info:{container:l.infoStatus,dot:l.infoBackground},success:{container:l.successStatus,dot:l.successBackground},warning:{container:l.warningStatus,dot:l.warningBackground}},i=()=>{ue({event:"task-management.dashboard-widget.click_statusCount",statusKey:n}),u.push(o)};return t.jsxs("div",{"data-external-id":"status-count",onClick:i,className:m(l.statusCount,c[e].container),children:[t.jsxs("div",{"data-external-id":"status-count-title",className:l.statusCountTitle,children:[t.jsx("div",{className:m(l.ellipse,c[e].dot)}),t.jsx(j,{variant:"subtitle1",children:s})]}),t.jsx(is,{"data-external-id":"status-count-chip",label:`${a} tasks`})]})},He=Z({yourTasks:{id:"hr.task-management.your-tasks",defaultMessage:"Your tasks"},assignedToMe:{id:"hr.task-management.assigned-to-me",defaultMessage:"Assigned to me"},createdByMe:{id:"hr.task-management.created-by-me",defaultMessage:"Created by me"},viewAllTasks:{id:"hr.task-management.view-all-tasks",defaultMessage:"View all tasks"},overdue:{id:"hr.task-management.overdue",defaultMessage:"Overdue"},completed:{id:"hr.task-management.completed",defaultMessage:"Completed"},assigned:{id:"hr.task-management.assigned",defaultMessage:"Assigned"},dueInSevenDays:{id:"hr.task-management.due-in-seven-days",defaultMessage:"Due in 7 days"},dueToday:{id:"hr.task-management.due-today",defaultMessage:"Due today"}}),Lm=({"data-external-id":e,missingDocumentCount:a})=>{const s=Q();return t.jsx(Fe,{dataExternalId:e,title:s.formatMessage(ns.uploadMissingDocuments),cardContent:t.jsxs(t.Fragment,{children:[t.jsx(j,{variant:"h3","data-external-id":"upload-missing-documents-count",children:a??0}),t.jsx(j,{ml:1,color:"textSecondary",children:s.formatMessage(ns.missingMandatoryDocuments)})]}),cardActions:t.jsx(Ee,{app:Je.APP_HRADMIN,to:"/profile/documents",variant:"outlined","data-external-id":"go-to-my-documents-button",children:s.formatMessage(ns.goToDocuments)})})},ns=Z({uploadMissingDocuments:{id:"hr.upload-missing-documents",defaultMessage:"Upload missing documents"},missingMandatoryDocuments:{id:"hr.missing-mandatory-documents",defaultMessage:"Mandatory documents missing"},goToDocuments:{id:"hr.go-to-documents",defaultMessage:"Go to documents"}}),Nm=({})=>{var o,n;const e=Xe(),a=$a(),{data:s}=Io({companyId:e,employeeId:a});return(o=s==null?void 0:s.data)!=null&&o.missingDocuments.length?t.jsx(Lm,{missingDocumentCount:(n=s==null?void 0:s.data)==null?void 0:n.missingDocuments.length,"data-external-id":"upload-missing-documents-widget"}):null};var Kt=(e=>(e.Image="Image",e.Text="Text",e))(Kt||{});const Ao=[["Image",{id:"image",name:"Image"}],["Text",{id:"text",name:"Text"}]],Pm=new Map(Ao);new Map(Ao.map(([e,a])=>[a.id,e]));function Em(e){return Pm.get(e).id}var gs=(e=>(e.B64Json="B64Json",e.Url="Url",e))(gs||{});const So=[["B64Json",{id:"b64_json",name:"B64Json"}],["Url",{id:"url",name:"Url"}]],_m=new Map(So);new Map(So.map(([e,a])=>[a.id,e]));function Um(e){return _m.get(e).id}function $m(e){const a={};return a.prompt=e.prompt,a.selected_employee_ids=e.selectedEmployeeIds,e.imageResponseFormat&&(a.image_response_format=Um(e.imageResponseFormat)),e.responseFormat&&(a.response_format=Em(e.responseFormat)),a}function zm(e){const a={};return a.followUpId=e.follow_up_id,a}const Vm=({companyId:e})=>`/news-feed/companies/${e}/ai-posts/v2`,Do=()=>{const e=Rm.useMocker();return Vt({toURLFunction:Vm,mapRequestFunction:bt($m),mapResponseFunction:ra(zm),options:{mocker:e}})},Rm=mt(Do);function Fm(e){const a={};return a.revisedPrompt=e.revised_prompt,a.imageUrl=e.image_url,a.imageBase64=e.image_base64,a.responseReady=e.response_ready,a}const Wm=({companyId:e,requestId:a})=>`/news-feed/companies/${e}/ai-posts/follow-up-requests/${a}`,fs=(e,a)=>{const s=Om.useMocker();return Ve({toURLFunction:Wm,mapResponseFunction:ra(Fm),options:{isCancellable:!0,mocker:s}})(e,void 0,a)},Om=mt(fs);function Hm(e){const a={};return a.id=e.id,a.chipName=e.chip_name,a.predefinedTextPrompt=e.predefined_text_prompt,a.predefinedImagePrompt=e.predefined_image_prompt,a.language=gi(e.language),a}const Gm=({companyId:e})=>`/news-feed/companies/${e}/ai-posts/chips`,Bo=(e,a)=>{const s=qm.useMocker();return Ve({toURLFunction:Gm,mapResponseFunction:ua(Hm),options:{isCancellable:!0,mocker:s}})(e,void 0,a)},qm=mt(Bo),Ym=G()(e=>({employeeList:{maxHeight:"calc(90vh - 300px)",overflowY:"scroll",marginTop:e.spacing(1)}})),Lo=({ownEmployeeId:e,employees:a,onBack:s,onClose:o,onSelect:n})=>{const{classes:l}=Ym(),[m,u]=d.useState(""),[c,i]=d.useState(10),x=Q(),f=d.useMemo(()=>{let h=0;return(a==null?void 0:a.filter(k=>{if(e===k.id)return!1;const _=m===""||Se.lowerCase(k.fullName).includes(Se.lowerCase(m));return _&&h++,_&&h<=c}))??[]},[a,c,m,e]),p=d.useCallback(()=>{i(c+10)},[c]),g=d.useCallback(h=>{const k=h.target.value;u(k),i(10)},[]);return t.jsx(qe,{open:!0,fullWidth:!0,title:x.formatMessage(os.selectAnEmployee),showCloseButton:!0,onClose:o,confirmButton:{text:x.formatMessage(os.back),onClick:s,variant:"outlined"},autoClose:"never",content:t.jsxs(t.Fragment,{children:[t.jsx(pn,{value:m,onChange:g,placeholder:x.formatMessage(os.searchEmployeeByName)}),t.jsx(gn,{className:l.employeeList,children:t.jsx(ma,{onLoadMoreResults:p,children:f.map(h=>{const k=`checkbox-list-label-${h.id}`;return t.jsxs(fn,{onClick:()=>n(h),children:[t.jsx(hn,{children:t.jsx(Re,{person:{id:h.id}})}),t.jsx(xn,{id:k,primary:h.fullName,secondary:h.position})]},h.id)})})})]})})},os=Z({selectAnEmployee:{id:"hr.select-an-employee",defaultMessage:"Select an employee"},searchEmployeeByName:{id:"hr.search-employee-by-name",defaultMessage:"Search employee by name"},back:{id:"common.action.back",defaultMessage:"Back"}}),Qm=({onClose:e,onBack:a,employees:s=[],onContinue:o})=>{const n=Q(),{handleRequestExceptionAlert:l}=da(),m=Xe(),{locale:u}=fi(),[c,i]=d.useState("generate"),[x,f]=d.useState(""),[p,g]=d.useState(""),[h,k]=d.useState({}),[_,A]=d.useState({}),[E,$]=d.useState(),{classes:S}=Km(),te=hi(),{data:J}=Bo({companyId:m}),{mutateAsync:N}=Do(),{data:C}=fs({companyId:m,requestId:_.textId||""},{enabled:!!_.textId,refetchInterval:()=>_.textId&&(C!=null&&C.responseReady)?!1:2e3}),{data:M}=fs({companyId:m,requestId:_.imageId||""},{enabled:!!_.imageId,refetchInterval:()=>_.imageId&&(M!=null&&M.responseReady)?!1:2e3});d.useEffect(()=>{C!=null&&C.responseReady&&C.revisedPrompt&&k(me(I=>{I.text=C.revisedPrompt})),M!=null&&M.responseReady&&M.imageBase64&&k(me(I=>{I.image=`data:image/png;base64,${M.imageBase64}`}))},[M==null?void 0:M.imageBase64,M==null?void 0:M.responseReady,C==null?void 0:C.responseReady,C==null?void 0:C.revisedPrompt]);const z=!!x&&c==="preview"&&!(C!=null&&C.responseReady),V=!!p&&c==="preview"&&!(M!=null&&M.responseReady),q=(J==null?void 0:J.data.filter(I=>I.language===u))||[],b=I=>()=>{I==="image"&&(g(""),A(me(U=>{U.imageId=void 0}))),I==="text"&&(f(""),A(me(U=>{U.textId=void 0}))),k(me(U=>{U[I]=void 0}))},y=(I,U)=>{f(I),g(U)},B=I=>{$(I),i("generate")},R=async()=>{try{Bs(x,"text prompt is required");const I=E?[E.id]:void 0,U=await N({urlParams:{companyId:m},data:{prompt:x,selectedEmployeeIds:I,responseFormat:Kt.Text}});U.followUpId&&A(me(he=>{he.textId=U.followUpId}))}catch(I){l(I)}},X=async()=>{try{Bs(p,"image prompt is required");const I=E?[E.id]:void 0,U=await N({urlParams:{companyId:m},data:{prompt:p,selectedEmployeeIds:I,imageResponseFormat:gs.B64Json,responseFormat:Kt.Image}});U.followUpId&&A(me(he=>{he.imageId=U.followUpId}))}catch(I){l(I)}},ke=async()=>{i("preview");const I=E?[E.id]:void 0,U=[];x&&U.push(N({urlParams:{companyId:m},data:{prompt:x,responseFormat:Kt.Text,selectedEmployeeIds:I}}).then(he=>{A(me(O=>{O.textId=he.followUpId}))}).catch(l)),p&&U.push(N({urlParams:{companyId:m},data:{prompt:p,selectedEmployeeIds:I,imageResponseFormat:gs.B64Json,responseFormat:Kt.Image}}).then(he=>{A(me(O=>{O.imageId=he.followUpId}))}).catch(l))},Le=()=>{o(h.text,h.image)},Me=()=>{i("generate"),k({}),A({imageId:void 0,textId:void 0}),te.removeQueries({queryKey:[{companyId:m,requestId:_.textId||""},{companyId:m,requestId:_.imageId||""}]})};return c==="employee-selection"?t.jsx(Lo,{onBack:()=>i("generate"),onClose:e,employees:s,onSelect:B}):t.jsx(qe,{autoClose:"never",cancelButton:{onClick:e,show:!0},confirmButton:{show:!0,text:c==="generate"?n.formatMessage(oe.generate):n.formatMessage(oe.continue),disabled:c==="generate"?!x&&!p:V||z,onClick:c==="generate"?()=>{ke()}:Le},open:!0,showTitle:!0,fullWidth:!0,maxWidth:"md",title:c==="generate"?n.formatMessage(oe.generateWithAi):n.formatMessage(oe.preview),secondaryButton:{text:n.formatMessage(oe.back),show:!0,variant:"outlined",onClick:c==="generate"?a:Me},content:t.jsxs(t.Fragment,{children:[c==="generate"&&t.jsxs(t.Fragment,{children:[t.jsxs(le,{className:S.chipContainer,children:[t.jsx(j,{variant:"body2",children:n.formatMessage(oe.chooseAPrompt)}),q.map(I=>t.jsx(is,{label:I.chipName,onClick:()=>y(I.predefinedTextPrompt,I.predefinedImagePrompt)},I.id)),q&&t.jsx(is,{variant:"outlined",label:n.formatMessage(oe.clear),onClick:()=>y("","")})]}),t.jsx(le,{className:S.optionContainer,children:t.jsx("div",{className:S.employeeButton,children:E?t.jsxs(t.Fragment,{children:[t.jsx(Tt,{title:n.formatMessage(oe.employeeInfo),children:t.jsx(re,{variant:"text",onClick:()=>i("employee-selection"),children:t.jsxs("div",{className:S.selectedEmployee,children:[t.jsx(Re,{person:E}),t.jsx(j,{children:ys(E)})]})})}),t.jsx(ze,{onClick:()=>$(void 0),children:t.jsx(Jt,{})})]}):t.jsxs(t.Fragment,{children:[t.jsx(re,{variant:"text",startIcon:t.jsx(yn,{}),onClick:()=>i("employee-selection"),children:n.formatMessage(oe.selectEmployee)}),t.jsx(Tt,{title:n.formatMessage(oe.employeeInfo),children:t.jsx(xi,{color:"action"})})]})})}),t.jsx(ds,{multiline:!0,rows:5,label:n.formatMessage(oe.describePost),placeholder:n.formatMessage(oe.createAMotivationalWorkRelatedPost),fullWidth:!0,value:x,onChange:I=>f(I??"")}),t.jsx(ds,{multiline:!0,rows:3,label:n.formatMessage(oe.describeImage),placeholder:n.formatMessage(oe.createAnImageWithAWorkDeskAndLaptop),fullWidth:!0,value:p,onChange:I=>g(I??"")})]}),c==="preview"&&t.jsxs(t.Fragment,{children:[x&&t.jsxs(le,{className:S.contentBox,children:[t.jsxs("div",{className:S.responseHeader,children:[t.jsx(j,{variant:"overline",children:n.formatMessage(oe.aiResponse)}),t.jsxs("div",{className:S.flex,children:[x&&p&&t.jsx(Tt,{title:n.formatMessage(oe.delete),children:t.jsx(ze,{color:"error",size:"small",onClick:b("text"),children:t.jsx(Jt,{})})}),t.jsx(Tt,{title:n.formatMessage(oe.regenerate),children:t.jsx("div",{children:t.jsx(ze,{color:"primary",size:"small",onClick:R,disabled:z,children:t.jsx(Us,{})})})})]})]}),z?t.jsx(be,{variant:"text"}):t.jsx(j,{children:h.text||n.formatMessage(oe.failedToGenerate)})]}),p&&t.jsxs(le,{className:S.contentBox,children:[t.jsxs("div",{className:S.responseHeader,children:[t.jsx(j,{variant:"overline",children:n.formatMessage(oe.aiResponse)}),t.jsxs("div",{className:S.flex,children:[p&&x&&t.jsx(Tt,{title:n.formatMessage(oe.delete),children:t.jsx(ze,{color:"error",size:"small",onClick:b("image"),children:t.jsx(Jt,{})})}),t.jsx(Tt,{title:n.formatMessage(oe.regenerate),children:t.jsx("div",{children:t.jsx(ze,{color:"primary",size:"small",onClick:X,disabled:V,children:t.jsx(Us,{})})})})]})]}),V?t.jsx(be,{variant:"rectangular",height:300}):h.image?t.jsx("img",{src:h.image,alt:"ai-generated",className:S.image}):t.jsx(j,{children:n.formatMessage(oe.failedToGenerate)})]})]})]})})},Km=G()(e=>({chipContainer:{display:"flex",flexDirection:"row",alignItems:"center",gap:e.spacing(1)},optionContainer:{display:"flex",justifyContent:"flex-end",marginBlock:e.spacing(1)},contentBox:{border:`1px solid ${se.grey[300]}`,padding:e.spacing(2),display:"flex",flexDirection:"column",marginBlock:e.spacing(2)},image:{width:"100%"},responseHeader:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:e.spacing(1)},employeeButton:{display:"flex",alignItems:"center",gap:e.spacing(.5)},selectedEmployee:{display:"flex",gap:e.spacing(1),alignItems:"center"},flex:{display:"flex"}})),oe=Z({generateWithAi:{id:"hr.dashboard.post.generate-with-ai",defaultMessage:"Generate with AI"},back:{id:"common.action.back",defaultMessage:"Back"},generate:{id:"common.action.generate",defaultMessage:"Generate"},createAMotivationalWorkRelatedPost:{id:"hr.dashboard.post.create-a-motivational-work-related-post",defaultMessage:"Create a motivational work-related post"},chooseAPrompt:{id:"hr.dashboard.choose-a-prompt",defaultMessage:"Choose a prompt"},describePost:{id:"hr.dashboard.describe-post",defaultMessage:"Describe post"},describeImage:{id:"hr.dashboard.describe-image",defaultMessage:"Describe image"},createAnImageWithAWorkDeskAndLaptop:{id:"create-an-image-with-a-work-desk-and-laptop",defaultMessage:"Create an image with a work desk and laptop"},preview:{id:"common.preview",defaultMessage:"Preview"},regenerate:{id:"common.action.regenerate",defaultMessage:"Regenerate"},aiResponse:{id:"hr.dashboard.post.ai-response",defaultMessage:"AI response"},continue:{id:"common.action.continue",defaultMessage:"Continue"},selectEmployee:{id:"hr.dashboard.post.select-employee",defaultMessage:"Select employee"},employeeInfo:{id:"hr.dashboard.employee-info",defaultMessage:"Include an employee context into ai generation"},delete:{id:"common.action.delete",defaultMessage:"Delete"},failedToGenerate:{id:"hr.dashboard.post.failed-to-generate",defaultMessage:"Failed to generate"},clear:{id:"common.action.clear",defaultMessage:"Clear"}}),en=Z({embeddedVideo:{id:"hr.embedded-video",defaultMessage:"Embedded Video"},removeVideo:{id:"hr.remove-video",defaultMessage:"Remove Video"}}),Jm=G()(e=>({container:{paddingTop:e.spacing(2)},header:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingBottom:e.spacing(1)}})),Xm=({imageUrl:e,onDelete:a})=>{const{classes:s}=Jm(),o=Q();return t.jsxs("div",{className:s.container,children:[t.jsxs("div",{className:s.header,children:[t.jsx(j,{variant:"h6",children:o.formatMessage(en.embeddedVideo)}),t.jsx(re,{variant:"text",startIcon:t.jsx(Jt,{fontSize:"x-small"}),onClick:a,children:o.formatMessage(en.removeVideo)})]}),t.jsx(Un,{src:e,fallbackComponent:t.jsx(_e,{external:!0,download:!0,to:e,target:"_blank",title:"download",children:t.jsx(Pn,{fontSize:"small"})})})]})};function Zm(e){const a={};return a.thumbnailUrl=e.thumbnail_url,a.platform=oo(e.platform),a}const eu=()=>"/news-feed/video/thumbnail",tu=(e,a)=>Ve({toURLFunction:eu,mapResponseFunction:ra(Zm),mapErrorFunction:s=>{const o=yi(s);return o?bi({reason:o,shouldFallbackToDetailKey:!0}):"Something went wrong"}})(void 0,e,a),au=G()(e=>({container:{paddingTop:e.spacing(2)}})),No=({imageUrl:e,onFileDelete:a})=>{const{classes:s}=au();return t.jsx("div",{className:s.container,children:t.jsx(Un,{src:e,fallbackComponent:t.jsx(_e,{external:!0,download:!0,to:e,target:"_blank",title:"download",children:t.jsx(Pn,{fontSize:"small"})}),onFileDelete:a})})},Lt=Z({backButton:{id:"common.action.back",defaultMessage:"Back"},applyButton:{id:"common.action.apply",defaultMessage:"Apply"},addFileImageOrVideo:{id:"hr.add-file-image-or-video",defaultMessage:"Add file, image or embed video"},embedAVideo:{id:"hr.embed-a-video",defaultMessage:"Embed a video"},embedVideoPlaceholder:{id:"hr.add-video-url-from-youtube-or-vimeo",defaultMessage:"Add video URL from Youtube or Vimeo"},videoUrlValid:{id:"common.video-url-is-valid",defaultMessage:"Video URL is valid"}}),su=Ur(1e3),nu=({initialPostImage:e,initialAttachmentsAtom:a,initialEmbedVideoUrl:s,onBack:o,onClose:n,onSubmit:l})=>{const m=Q(),u=vi(a),c=d.useMemo(()=>bn(new rt(u)),[u]),[i,x]=d.useState(e),[f,p,g]=su(s??""),[h,k]=d.useState(),[_,A]=vn(c),{data:E,error:$,isPending:S,isError:te,isSuccess:J}=tu({custom:{url:p}},{enabled:p!=="",retry:!1});d.useEffect(()=>{if(J){const b=async()=>{if(i){const y=Ci(),B={id:y,type:"local",name:typeof i=="string"?i:i.name,file:typeof i=="string"?await xt(i):i,request:{id:y,status:ct.Attached}};A(rt.concat(new rt([[y,B]]),"prepend"))}};k(E),b()}},[E,J,i,A]);const N=d.useMemo(()=>i instanceof File?URL.createObjectURL(i):i,[i]),C=d.useCallback(b=>{const y=Da(b.type==="local"?b.file.type:b.response.fileMimeType);return y!==void 0&&y===Ar.Image?(x(b.type==="remote"?Ga(b.response.companyId,b.response.postId,b.id):b.file),A(rt.delete(b.id)),!0):!1},[A]);d.useEffect(()=>{if(p===""&&!Se.isUndefined(h)){k(void 0);for(const b of _.values())if(C(b))break}},[_,p,h,C,A]);const M=b=>{i!==void 0||p||C(b)},z=async()=>{let b;p||(i instanceof File?b=i:typeof i=="string"&&(b=await xt(i))),l({updatedAttachments:_.filter(y=>{var B;return!(y.type==="remote"&&((B=y.request)==null?void 0:B.status)===ct.Deleted)}),updatedPostImage:b,embedVideoThumbnailData:h,embedVideoUrl:p})},V=b=>{g(b??"")},q=f!==""&&(p!==f||S||te);return t.jsx(qe,{open:!0,fullWidth:!0,title:m.formatMessage(Lt.addFileImageOrVideo),showCloseButton:!0,onClose:n,secondaryButton:{show:!0,text:m.formatMessage(Lt.backButton),onClick:o},confirmButton:{text:m.formatMessage(Lt.applyButton),onClick:z,disabled:q},autoClose:"never",content:t.jsxs(t.Fragment,{children:[t.jsx($r,{itemsAtom:c,uploadVariant:zr.OnDemand,mapItemsForFileViewer:Po,maxFileSizeInMb:15,maxFiles:10,maxFileCountInList:3,onUploadComplete:M}),N&&!h&&t.jsx(No,{imageUrl:N,onFileDelete:()=>x(void 0)}),t.jsx(ds,{label:m.formatMessage(Lt.embedAVideo),value:f,onChange:V,fullWidth:!0,error:!!$,errorMessage:$??"",placeholder:m.formatMessage(Lt.embedVideoPlaceholder),helperText:J?m.formatMessage(Lt.videoUrlValid):""})]})})},ou=G()(e=>({root:{backgroundColor:e.palette.background.paper,legend:{display:"none"}}})),iu=G()(e=>({weekDayLowEmphasis:{[`& .${$s.header} > .${$s.weekDayLabel}`]:{color:e.palette.text.disabled}},pickersPaper:{[`& .${qr.paper}`]:{border:`1px solid ${se.grey[200]}`,boxShadow:e.shadows[5]}},hideAdditionalSpace:{[`& .${Fn.root}:after`]:{display:"none"}},iconSize:{[`& .${ji.root}`]:{fontSize:e.typography.htmlFontSize}},clockLightBackground:{[`& .${ol.clock}`]:{backgroundColor:se.grey[100]}}})),ru="dd/MM/yyyy hh:mm:ss aa";function lu({name:e,value:a,error:s,helperText:o,fullWidth:n,disabled:l,label:m,placeholder:u,onChange:c,showToolbar:i,slotProps:x,...f}){const[p,g]=d.useState(a?pa(a,yt.DATE_TIME_ISO):null),[h]=Mi.useId(),{classes:k,cx:_}=iu(),{classes:A}=ou();return t.jsx(ic,{...f,onChange:E=>{if(E===null)g(null),c==null||c(null);else if(E&&wi(E)){E.setSeconds(0);const $=Ut(E,yt.DATE_TIME_ISO);g(E),c==null||c($)}},value:p,ampm:!0,desktopModeMediaQuery:"@media (min-width: 0)",disabled:l,format:ru,slots:{openPickerIcon:Vn,leftArrowIcon:Ii,rightArrowIcon:Kr,textField:Qr,toolbar:i?uu:void 0},slotProps:Se.merge({...x},{openPickerButton:{size:"large",sx:{marginRight:0}},leftArrowIcon:{className:k.iconSize},rightArrowIcon:{className:k.iconSize},popper:{placement:"bottom-end",modifiers:[{name:"flip",options:{fallbackPlacements:["bottom-end","top-end","auto-end","auto"]}},{name:"offset",options:{offset:[0,8]}}],className:_(k.weekDayLowEmphasis,k.pickersPaper,k.hideAdditionalSpace,k.clockLightBackground)},textField:{classes:A,disabled:l,error:s,fullWidth:n,helperText:o&&t.jsx("span",{"data-external-id":e+"-helper-text",children:o}),id:h,label:m,InputLabelProps:{shrink:!0},name:e,placeholder:u??"dd/mm/yyyy hh:mm:ss aa",value:p}})})}const cu=e=>["day","month","year","meridiem"].includes(e)?"date":"time",du=e=>e==="date"?"day":"hours",mu=ce(Cs,e=>({root:{borderTop:`1px solid ${se.grey[200]}`,backgroundColor:e.palette.background.paper,color:e.palette.getContrastText(e.palette.background.paper),[`.${ki.selected}`]:{color:e.palette.primary.main}},indicator:{backgroundColor:e.palette.primary.main,top:0}}));function uu({onViewChange:e,view:a="day"}){const s=(o,n)=>{e(du(n))};return t.jsxs(mu,{variant:"fullWidth",value:cu(a),onChange:s,textColor:"inherit",children:[t.jsx($t,{value:"date","aria-label":"pick date",icon:t.jsx(Vn,{fontSize:"large"})}),t.jsx($t,{value:"time","aria-label":"pick time",icon:t.jsx(Jr,{fontSize:"large"})})]})}function pu(e){return t.jsx(Ti,{allowNull:!0,name:e.name,render:({input:{onChange:a,...s},meta:o})=>t.jsx(lu,{...s,...e,onChange:n=>a(n),value:s.value,slotProps:{textField:{...s}},error:!!(o.error&&o.touched),helperText:o.error&&o.touched?o.error:null})})}const gu=Si({dateTimeOfPublish:[Di,({intl:e,value:a})=>a&&Bi(Cn(a),new Date)?e.formatMessage(Nt.selectedDateTimeInFuture):void 0]}),fu=({scheduledDateAndTime:e,onBack:a,onClose:s,onSubmit:o})=>{const n=Q(),l=gu(),m=e?Sa(e):void 0;return t.jsx(Ai,{validate:l,initialValues:{dateTimeOfPublish:m?Ut(m,yt.DATE_TIME_ISO):""},onSubmit:o,render:({handleSubmit:u})=>t.jsx(qe,{open:!0,fullWidth:!0,title:n.formatMessage(Nt.schedulePost),showCloseButton:!0,onClose:s,confirmButton:{text:n.formatMessage(Nt.schedulePost),onClick:u},secondaryButton:{show:!0,text:n.formatMessage(Nt.backToEdit),onClick:a},autoClose:"never",content:t.jsxs(t.Fragment,{children:[t.jsx(j,{variant:"h6",children:n.formatMessage(Nt.addScheduleToThePost)}),t.jsx(pu,{autoFocus:!0,label:n.formatMessage(Nt.dateOfPublish),name:"dateTimeOfPublish",fullWidth:!0})]})})})},Nt=Z({backToEdit:{id:"hr.back-to-edit",defaultMessage:"Back to edit"},schedulePost:{id:"hr.schedule-post",defaultMessage:"Schedule Post"},addScheduleToThePost:{id:"hr.add-schedule-to-the-post",defaultMessage:"Add a schedule to the post"},dateOfPublish:{id:"hr.date-of-publish",defaultMessage:"Date of publish"},selectedDateTimeInFuture:{id:"validation.error.selected-date-time-in-future",defaultMessage:"Selected date and time should be in the future"}}),hu=G()(e=>({employeeList:{maxHeight:"calc(90vh - 300px)",overflowY:"scroll"},filtersBoxContent:{width:"100%",overflow:"hidden",maxHeight:"calc(90vh - 230px)",overflowY:"auto",display:"flex",flexDirection:"column"},buttonWrapper:{paddingTop:e.spacing(1)},contentContainer:{display:"flex",flexDirection:"row"},filtersContainer:{display:"flex",flex:e.spacing(.5),height:"100%",justifyContent:"space-between",paddingRight:e.spacing(1)},employeeSelectContainer:{display:"flex",flex:e.spacing(1),flexDirection:"column",paddingLeft:e.spacing(1)},filterTypeHeader:{display:"flex",alignItems:"center",justifyContent:"space-between",paddingTop:e.spacing(2)},filterOptionContainer:{display:"flex",paddingTop:e.spacing(1),flexWrap:"wrap",flexDirection:"column"},buttonContainer:{display:"flex",justifyContent:"space-between"}})),xu=({alreadySelectedEmployeeIds:e=[],selfEmployeeId:a,title:s,onBack:o,onClose:n,onSubmit:l})=>{const m=Q(),{classes:u}=hu(),c=Xe(),[i,x]=d.useState(""),[f,p]=d.useState(e),[g,h]=d.useState([]),[k,_]=d.useState([]),[A,E]=d.useState(10),{data:$}=qn({filters:{status:[Ua.Active]},pagination:{limit:9999,offset:0}}),S=d.useMemo(()=>{let y=0;return($==null?void 0:$.data.filter(B=>{if(a===B.id||g.length>0&&g.filter(X=>X.id===B.officeId).length===0||k.length>0&&k.filter(X=>X.id===B.departmentId).length===0)return!1;const R=i===""||Se.lowerCase(B.fullName).includes(Se.lowerCase(i));return R&&y++,R&&y<=A}))??[]},[$,A,i,k,g,a]),{data:te}=Ml({companyId:c}),{data:J}=kl({companyId:c}),N=d.useCallback(y=>{const B=y.target.value;x(B),E(10)},[]),C=d.useCallback(y=>{p(B=>B.includes(y)?B.filter(R=>R!==y):[...B,y])},[]),M=d.useCallback(()=>{E(A+10)},[A]),z=d.useCallback(y=>{h(B=>B.includes(y)?B.filter(R=>R.id!==y.id):[...B,y]),E(10)},[]),V=d.useCallback(y=>{_(B=>B.includes(y)?B.filter(R=>R.id!==y.id):[...B,y]),E(10)},[]),q=d.useCallback(()=>{const B=(($==null?void 0:$.data.filter(R=>g.length>0&&g.filter(X=>X.id===R.officeId).length===0||k.length>0&&k.filter(X=>X.id===R.departmentId).length===0?!1:(i===""||Se.lowerCase(R.fullName).includes(Se.lowerCase(i)))&&R.isRegistered))??[]).map(R=>R.id);p(me(R=>{B.forEach(X=>{R.every(ke=>ke!==X)&&R.push(X)})}))},[$,i,k,g]),b=d.useCallback(()=>{p([])},[]);return t.jsx(qe,{open:!0,maxWidth:"md",title:s,showCloseButton:!0,onClose:n,autoClose:"never",confirmButton:{text:m.formatMessage(Ge.apply,{employeeCount:f.length||""}),disabled:f.length===0,onClick:()=>l(f)},secondaryButton:{show:!0,text:m.formatMessage(Ge.back),onClick:o},content:t.jsxs("div",{className:u.contentContainer,children:[t.jsxs("div",{className:u.filtersContainer,children:[t.jsxs("div",{className:u.filtersBoxContent,children:[t.jsx(j,{variant:"h6",children:m.formatMessage(Ge.applyFilters)}),t.jsxs("div",{className:u.filterTypeHeader,children:[t.jsx(j,{variant:"subtitle2",children:m.formatMessage(Ge.office)}),t.jsx(re,{variant:"text",size:"small",onClick:()=>h([]),children:m.formatMessage(Ge.clear)})]}),t.jsx("div",{className:u.filterOptionContainer,children:te&&te.map(y=>t.jsx(Fs,{checked:g==null?void 0:g.includes(y),onChange:()=>z(y),text:y.name},y.id))}),t.jsxs("div",{className:u.filterTypeHeader,children:[t.jsx(j,{variant:"subtitle2",children:m.formatMessage(Ge.departments)}),t.jsx(re,{variant:"text",size:"small",onClick:()=>_([]),children:m.formatMessage(Ge.clear)})]}),t.jsx("div",{className:u.filterOptionContainer,children:J&&J.map(y=>t.jsx(Fs,{checked:k==null?void 0:k.includes(y),onChange:()=>V(y),text:y.name},y.id))})]}),t.jsx(ia,{orientation:"vertical",flexItem:!0})]}),t.jsxs("div",{className:u.employeeSelectContainer,children:[t.jsx(j,{variant:"h6",children:m.formatMessage(Ge.findPeople)}),t.jsx(pn,{value:i,onChange:N,"data-external-id":"search-employee-name-textbox"}),t.jsxs("div",{className:u.buttonContainer,children:[t.jsx(re,{variant:"text",size:"small",icon:t.jsx(wl,{fontSize:"x-small"}),onClick:q,children:m.formatMessage(Ge.selectAll)}),f.length>0&&t.jsx(re,{variant:"text",size:"small",onClick:b,children:m.formatMessage(Ge.clear)})]}),t.jsx(gn,{className:u.employeeList,children:t.jsx(ma,{onLoadMoreResults:M,children:S.map(y=>{const B=`checkbox-list-label-${y.id}`;return t.jsxs(fn,{onClick:()=>C(y.id),disabled:!y.isRegistered,children:[t.jsx(Li,{children:t.jsx(Ni,{color:"primary",edge:"end",disableRipple:!0,checked:f.includes(y.id),inputProps:{"aria-labelledby":B}})}),t.jsx(hn,{children:t.jsx(Re,{person:{id:y.id}})}),t.jsx(xn,{id:B,primary:y.fullName,secondary:y.position})]},y.id)})})})]})]})})},Ge=Z({back:{id:"common.action.back",defaultMessage:"Back"},applyFilters:{id:"common.action.apply-filters",defaultMessage:"Apply filters"},office:{id:"common.office",defaultMessage:"Office"},clear:{id:"common.action.clear",defaultMessage:"Clear"},departments:{id:"common.departments",defaultMessage:"Departments"},findPeople:{id:"common.find-people",defaultMessage:"Find People"},selectAll:{id:"common.select-all",defaultMessage:"Select All"},apply:{id:"hr.dashboard.post.apply",defaultMessage:"Apply {employeeCount}"}});var W=(e=>(e.List="List",e.CreateEmpty="CreateEmpty",e.CreateWithBirthdayTemplate="CreateWithBirthdayTemplate",e.CreateWithAnniversaryTemplate="CreateWithAnniversaryTemplate",e.CreateWithNewJoiner="CreateWithNewJoiner",e.CreateWithLeavingCompany="CreateWithLeaveCompany",e.Edit="Edit",e))(W||{});const yu=G()(e=>({editor:{minHeight:100},topMargin:{marginTop:e.spacing(2)},modal:{alignItems:"start",marginTop:e.spacing(6)},content:{overflowX:"hidden"},buttonsWrapper:{paddingTop:e.spacing(2)},fileListWrapper:{display:"flex",flexDirection:"column",gap:e.spacing(1),marginTop:e.spacing(1)},row:{display:"flex",flexDirection:"row",alignItems:"center",gap:e.spacing(1)},column:{display:"flex",flexDirection:"column"},spaceBetweenRow:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"}})),Po=e=>e.mapValue(a=>{if(a.type==="local"){const s=Da(a.file.type);return{id:a.id,name:a.name,status:ct.Attached,type:cs(s),src:URL.createObjectURL(a.file),isDownloadable:!0,isDeletable:!0}}else{const s=a.response.fileMimeType?Da(a.response.fileMimeType):void 0;return{id:a.id,name:a.name,status:ct.Attached,type:cs(s),src:Ga(a.response.companyId,a.response.postId,a.id),isDownloadable:!0,isDeletable:!0}}}),bu=({dashboardEditingType:e=W.CreateEmpty,initialPost:a,employees:s,companyId:o,employeeId:n,employeeIdForCelebration:l,onClose:m,onSuccess:u})=>{var et,Oe;const c=Q(),{classes:i,cx:x}=yu(),f=Pi(),p=ae(Ei),{handleRequestExceptionAlert:g}=da(),{mutateAsync:h}=Sc(),{mutateAsync:k}=Bc(),[_,A]=d.useState("Richtext"),[E,$]=d.useState(!1),[S,te]=d.useState(()=>{if(e===W.Edit&&a)return a.whiteListedEmployeeIds.filter(T=>T!==n)}),J=d.useMemo(()=>{const T={};return s&&s.forEach(w=>{T[w.id]=w.fullName}),T},[s]),[N,C]=d.useState({file:void 0,fetched:!1}),[M,z]=d.useState({url:(et=a==null?void 0:a.embeddedVideo)==null?void 0:et.embedUrl,state:(Oe=a==null?void 0:a.embeddedVideo)!=null&&Oe.embedUrl?"remote":"absent"}),V=d.useMemo(()=>{if(N.file)return URL.createObjectURL(N.file)},[N]),q=d.useMemo(()=>bn(new rt(a&&o?a.attachments.map(T=>[T.id,{id:T.id,type:"remote",name:T.fileName,response:{...T,companyId:o,postId:a.id}}]):[])),[a,o]),[b,y]=vn(q),[B,R]=d.useState(void 0),[X,ke]=d.useState(!1);d.useEffect(()=>{y(T=>T.mapValue(me(w=>{w.request=X?{id:w.id,status:ct.Uploading}:void 0})))},[X,y]);const Le=Mr(),[Me,I]=d.useState(()=>Es((a==null?void 0:a.content)??"",J));d.useEffect(()=>{const T=async()=>{const w=await xt(`${sa}/news-feed/companies/${o}/posts/${a==null?void 0:a.id}/content/${a==null?void 0:a.postImageFileId}?_t=${na()}`);C({file:w,fetched:!0})};a!=null&&a.postImageFileId&&!N.file&&!N.fetched&&T()},[o,a==null?void 0:a.id,a==null?void 0:a.postImageFileId,N]),d.useEffect(()=>{const T=async()=>{const ne=e===W.CreateWithAnniversaryTemplate?ie.Anniversary:ie.Birthday,Ie=await xt(`${sa}/news-feed/companies/${o}/employees/${l}/posts-template?type=${ne}&_t=${na()}`);C({file:Ie,fetched:!1})},w=async()=>{if(o&&l){const ne=tn(o,l);if(ne){const Ie=await xt(ne);C({file:Ie,fetched:!1})}}};l&&(e===W.CreateWithAnniversaryTemplate||e===W.CreateWithBirthdayTemplate?T():(e===W.CreateWithLeavingCompany||e===W.CreateWithNewJoiner)&&w())},[o,e,l]);const U=s==null?void 0:s.find(T=>T.id===n),he=T=>y(rt.delete(T)),O=({updatedAttachments:T,embedVideoUrl:w,updatedPostImage:ne,embedVideoThumbnailData:Ie})=>{A("Richtext"),w?(C({file:void 0,fetched:!1}),z({url:w,state:"local",thumbnailData:Ie})):ne?(C(pe=>pe.file===ne?pe:{file:ne,fetched:!1}),z({url:void 0,state:"absent"})):(C({file:void 0,fetched:!0}),z({url:void 0,state:"absent"})),y(T)};function F(T){const w=b.theKeys.indexOf(T);R(w!==-1?w:void 0)}const Ne=d.useCallback(T=>{A("Richtext"),te(T)},[]),Ye=d.useCallback(T=>{I(T)},[]),xe=d.useCallback(()=>{A("WhiteList")},[]),ut=d.useCallback(()=>{A("Attachment")},[]),We=d.useCallback(()=>{$(!1),A("Richtext")},[]),De=async T=>{try{ke(!0);const w={isPublicPost:!S||S.length===0,isPinnedPost:!1,disableComments:!1,disableReactions:!1,type:to.Post,content:Me?Ir(Me):"",scheduledAt:T?$i(T):a==null?void 0:a.scheduledAt,videoUrl:M==null?void 0:M.url},ne=((a==null?void 0:a.attachments)??[]).reduce((pe,{id:pt})=>pe.add(pt),new Set);w.attachmentIdsToBeDeleted=[];for(const pe of ne)b.has(pe)||w.attachmentIdsToBeDeleted.push(pe);if(N.file&&M.state==="absent"&&(w.postImage={content:await Ws(N.file),fileName:"post-image",contentType:N.file.type}),b.length>0){w.attachmentsToBeAdded=[];for(let[,pe]of b)pe.type==="local"&&!ne.has(pe.id)&&w.attachmentsToBeAdded.push({content:await Ws(pe.file),fileName:pe.file.name,contentType:pe.file.type})}w.isPublicPost||(w.whiteListedEmployeeIds=S);let Ie;e!==W.Edit?(Ie=await h({data:w,urlParams:{companyId:o}}),f.success({message:c.formatMessage(ge.postCreatedSuccessfully)}),ue({event:"newsfeed.post.created",createdWithAi:E})):(Ie=await k({data:w,urlParams:{companyId:o,postId:a==null?void 0:a.id}}),f.success({message:c.formatMessage(ge.postSavedSuccessfully)})),ke(!1),u(Ie.data)}catch(w){throw g(w),ke(!1),w}},Qe=()=>{A("Schedule")},Ze=({dateTimeOfPublish:T})=>{T&&De(Cn(T))},Ke=()=>{A("EmployeeSelectionForShoutout")},Ue=()=>{A("CreateWithAi"),$(!0)},we=async T=>{A("Richtext");const w=tn(o,T);if(w){const ne=await xt(w);C({file:ne,fetched:!1})}},de=async(T,w)=>{if(A("Richtext"),w){const ne=await xt(w);C({file:ne,fetched:!1})}if(T){const ne=Es(T,{});I(ne)}};return _==="Attachment"?t.jsx(nu,{initialPostImage:N.file,initialEmbedVideoUrl:M.url,initialAttachmentsAtom:q,onBack:We,onClose:m,onSubmit:O}):_==="WhiteList"?t.jsx(xu,{selfEmployeeId:n,alreadySelectedEmployeeIds:S,title:c.formatMessage(ge.changeWhoCanSeePost),onBack:We,onClose:m,onSubmit:Ne}):_==="Schedule"?t.jsx(fu,{scheduledDateAndTime:a==null?void 0:a.scheduledAt,onBack:We,onClose:m,onSubmit:Ze}):_==="EmployeeSelectionForShoutout"?t.jsx(Lo,{onBack:We,onClose:m,employees:s,onSelect:T=>we(T.id)}):_==="CreateWithAi"?t.jsx(Qm,{onClose:m,onBack:We,employees:s,onContinue:de}):t.jsx(qe,{open:!0,title:e===W.Edit?c.formatMessage(ge.editYourPost):c.formatMessage(ge.createYourPost),maxWidth:"md",fullWidth:!0,showCloseButton:!0,onClose:m,isPending:X,autoClose:"never",confirmButton:{text:e===W.Edit?c.formatMessage(ge.save):c.formatMessage(ge.postNow),onClick:De},secondaryButton:e!==W.Edit?{show:!0,text:c.formatMessage(ge.schedulePost),onClick:Qe}:a!=null&&a.scheduledAt&&Ba(a.scheduledAt)?{show:!0,text:c.formatMessage(ge.editSchedule),onClick:Qe}:void 0,cancelButton:{show:e===W.Edit,onClick:m},content:t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:i.spaceBetweenRow,children:[t.jsxs("div",{className:i.row,children:[t.jsx(Re,{person:{id:n}}),t.jsxs("div",{className:i.column,children:[t.jsx(j,{variant:"subtitle2",children:U==null?void 0:U.fullName}),t.jsxs("div",{className:i.row,children:[t.jsx(j,{variant:"caption",display:"block",children:S&&S.length>0?c.formatMessage(ge.privatePost):c.formatMessage(ge.publicPost)}),t.jsx(_e,{onClick:xe,"data-external-id":"change-who-can-see-post-button",children:t.jsx(j,{variant:"caption",display:"block",children:c.formatMessage(ge.changeWhoCanSeePost)})})]})]})]}),t.jsx(re,{variant:"text",startIcon:t.jsx(yn,{fontSize:"x-small"}),onClick:ut,"data-external-id":"post-add-attachment-button",children:c.formatMessage(ge.addFileImageOrVideo)})]}),s&&t.jsx(wr,{editor:Le,classes:{editor:i.editor,container:i.topMargin},onChange:Ye,value:Me,employees:s,placeholder:c.formatMessage(ge.whatIsOnYourMind)}),b.length>0&&t.jsx("div",{className:i.fileListWrapper,children:t.jsx(Sr,{maxFileCount:3,items:b,onViewMoreClick:()=>R(3),renderItem:T=>{var w;return t.jsx(Nn,{fileName:T.name,status:((w=T.request)==null?void 0:w.status)??ct.Attached,actions:[{icon:_n,name:c.formatMessage(ge.viewButton),onClick:()=>F(T.id)},{icon:Jt,name:c.formatMessage(ge.deleteButton),onClick:()=>he(T.id)}]})}})}),t.jsx(En,{onClose:()=>R(void 0),withFileList:b.length>1,onDelete:({id:T})=>{T&&(R(void 0),he(T))},initialPreviewFileIndex:B,files:Po(b).theValues,open:B!==void 0}),V&&(M==null?void 0:M.state)==="absent"&&t.jsx(No,{imageUrl:V,onFileDelete:()=>C({file:void 0,fetched:!0})}),(M==null?void 0:M.state)==="local"&&(M==null?void 0:M.thumbnailData)&&t.jsx(Xm,{imageUrl:M.thumbnailData.thumbnailUrl,onDelete:()=>{z({url:void 0,state:"absent"}),C({file:void 0,fetched:!0})}}),(M==null?void 0:M.state)==="remote"&&M.url&&t.jsx(js,{videoUrl:M.url,onRemove:()=>{z({url:void 0,state:"absent"}),C({file:void 0,fetched:!0})}}),t.jsxs("div",{className:x(i.row,i.topMargin),children:[t.jsx(j,{variant:"subtitle2",children:c.formatMessage(ge.quickPosts)}),t.jsx(re,{variant:"text",size:"small",startIcon:t.jsx(_i,{fontSize:"x-small"}),disabled:!!N.file,onClick:Ke,children:c.formatMessage(ge.shoutouts)}),p&&t.jsx(re,{variant:"contained",size:"small",startIcon:t.jsx(Ui,{fontSize:"x-small"}),disabled:!!N.file,onClick:Ue,color:"ai",children:c.formatMessage(ge.createWithAI)})]})]})})},xt=async(e,a="post-image")=>{const s=new Request(e),n=await(await fetch(s)).blob();return new File([n],a,{type:n.type})},tn=(e,a,s="S440")=>{if(e&&a)return`${sa}/companies/${e}/employees/${a}/employee-avatar?filters%5Bresolution%5D=${s}&_t=${na()}`},ge=Z({postCreatedSuccessfully:{id:"hr.post-created-successfully",defaultMessage:"Post created successfully."},postSavedSuccessfully:{id:"hr.post-saved-successfully",defaultMessage:"Post saved successfully."},schedulePost:{id:"hr.schedule-post",defaultMessage:"Schedule Post"},postNow:{id:"hr.post-now",defaultMessage:"Post Now"},save:{id:"common.action.save",defaultMessage:"Save"},editSchedule:{id:"hr.edit-schedule",defaultMessage:"Edit Schedule"},changeWhoCanSeePost:{id:"hr.change-who-can-see-post",defaultMessage:"Change who can see this post"},addFileImageOrVideo:{id:"hr.add-file-image-or-video",defaultMessage:"Add file, image or embed video"},quickPosts:{id:"hr.quick-posts",defaultMessage:"Quick posts"},shoutouts:{id:"common.shoutouts",defaultMessage:"Shoutouts"},viewButton:{id:"common.action.view",defaultMessage:"View"},deleteButton:{id:"common.action.delete",defaultMessage:"Delete"},editYourPost:{id:"common.action.edit-your-post",defaultMessage:"Edit your post"},createYourPost:{id:"common.action.create-your-post",defaultMessage:"Create your post"},whatIsOnYourMind:{id:"hr.whats-on-your-mind",defaultMessage:"What's on your mind?"},publicPost:{id:"hr.dashboard.post.public-post",defaultMessage:"Public post"},privatePost:{id:"hr.dashboard.post.private-post",defaultMessage:"Private post"},createWithAI:{id:"hr.dashboard.post.create-with-ai",defaultMessage:"Create with AI"}}),vu="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEUAAAAuCAYAAAB+vtSwAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAlpSURBVHgB7ZpdbFvlGccfJ04RCdgTXcKWNl3DgG5LIiQQ6dRuEwnaRDKmpgI1YVJbygVBLekNSjutgQvUav0QN21BKxcUuklNEdNSrSvsq9nFUtGiTdvqaKQTtGvaCQJFxElDPuyY5/f6vK5zcuzYsYNk1L904uMTn9fv+3+fj//zHPtiCilQXLo6Jh1H/imhK2EJ3lwiR9rvl9qlAckVRVLA6HqjXwY/GZOdj9ZI4Ga/ISgfKGhSTv7rA2lvuEMe+26VNN/zNWM5+UBBk1K1uFRCl8NyqPd9PS5Im5KTD/ilQBG6PKxxxC9H3x6U4L9LZFvzCmlvrJZ8wFdogbbv/Mey9/fnpe+/V2X1XYuViDuM6+QTBUfKvc/+WWqXBA0Zq+9eLAuBgiPli0BBB9qFwg1SPFCw2ccLwyPXpLunV06f7Zdz716Q8Og1CdxSJoP/H5Lab1XrsVyaGldK84P1acf5UsSUS7rofS8ekzdPnZUn1z8sq++vkboV1RIIlCU+M3hlSM4NXJA3/3JW+t7pl22bW6WtpcFzvJxI2asTYWeSEdSJ7PzZJp1Yrec9h351QobD12ZcW7akIuUE5wLjHTpyQto3PCztSgjAYjiWVVbI0d/26vjlUrW0wrwHELT3pWPmfOf2J8yck5GT+5xWxj/8/k+l5KZS8U9MSfHkpAy/f0761Hy9SOk7G9KdOiOtLY0zrjNBdrdqSYVkAzblLbWO468+b+5l/H0vvS6XdNG7dGMgAdd5q/eMXvvI3ANxbMCBXR1K6O+kZdNz0nP4+RnE5BxTYj6OIpnW12Kf/inypf08k3/MsYq+d0KGvGMua8sEWAiEsCDmsGHrbgmHx6Rzy7oZG7JtS2vi3FoIR48S2b7+JxK8tWwWMbkHWiWCSYkSE+M8w9vsrq5+tVayBTHkZSXFEtLwyDOG6M7NcQJswO3XYIuFsPAmDa6r6muMhYT0+uMde2T/rqfVahp1vI90LsfU7Z8w9+cpJftm/c0EwVtLE+fZuE7L48+ZBXFP1+5XEoRABu8blSTOH1IisJzWtQ8Yq+Q+yCITvbZ/u2zcuscQTNANvXvRfAbkKSXHUpynR8AV4DIBiyL+4CKcD6olsPuQwKL539//+MtZ9zVrKsZ9NigRYQ30T2pghtitPz9oXAny9r0Yt9zcLUWTl/Ee+WIyO0TYTHXo1yeUkKfNORaC/rAu4AUsCwKOHu9NxDPgPs+P+5DVY/FX3wJyg6mTTVhASDVHUIWZzTpkQhtT0oH4ApFYBbAWAog76JicSfFBxDRkTJtzWUAtiN+vUvcApP2mxrgyfVktZr9jMZmAmGLGcCwEgtFOzToe35EfUhxiJDodf10ghP5zQWpXxBeEFqn99vL4dV1IKrGYCq3qgpQDgDiEBWJ1vOZMShFEGDKmpcghKFOEk5StW+V6wdQwDhF1WscYcabkVFVmJ/rAsspy444goC4FsYDZ50QKZldUGpCi6age0+aIjoWN386FYLBMM8b1RnN4ZG5SksGuspjh0ezu8wLjBJLkwbxJgeXR0q+qpUSNtRiLmYpIbGpCJ1zueU9o4GJiVwmSdqeCgVJT1WYCa1HEFApAxhkeyZ6Y4dGxxFwu6zysmiWTzpsUqtKSas3pkaghxheNSLG+RkaumgLPC6cJbPXxQMlOYx0sskbjRL9jvunAIsKOdTEO4s+Oky2owexcULTEKsjlO+ZFCjv8h7cHpKTym3FLUWKKp6Ii42NSUTadiO7ue9wBkeyBC6JIvapnNyAg5FgU47AY8JCOY9VopvMnhcfHGDKBBEuhpUDPJWtSrHIcv2ulFoB+KYaQSESK1HUmhv6XSJluYFmdm9fNuIYIQyOw2Na1Dab+SAfE2Ul1meS5mFSq17t2H5ZMkTyXbm0tNDupHetBq2RFCqxCyNBX7pSbbq82ZBQrGcWTEfHr+eiH73n2RSjxCb5trpZBsoqk/mCnmHAqMAYZx1oF97DDjEOxh6qdC8lzYT3dx+MKOdl6MmoymT6I7tDrf/qHTHznB7LotsoEIf7JKe2lTMpnV87L3beNGBmdTCK1BSaZSn7jDtQj3MdkN2r1SqDu1JJ/mUeqhRA+T4B1g5TNOF6aBavq2HHAUbQd5hrviX8oYc7RK5DlW7Px2RhCKBVGJqIy4i+TkiV3yqLlyuJnYxJRAmR83KRiH+6jmWd06D15pKneCYbXEnnf3d+wINuwyyycZk93z1/ltQPbzfvunlOmrYArEp8Ct2RfOFrQp0W6Q0r7+h8nrNU2qE795gXz/649ryQKSV95/abYonVbOY0XdTGrUuPqFO3hMylX40ZEdcjQJamdHJjVPXPje2rOqUQVFoRFMNHeN14w5ND4odhjp62FYBWQm4mwSwXGxlKTN8YSQj/mUyWNuRzRVoJtX/ipVWglmgTtVLwCGcqOVaocxQ4xMjU1o3uWLWxc2rV9kzaSL0rDo88YIogPBLy1+j8sBPdhIdnK91RgAygTsEDc0xLCXJIJAX6so0R7qwkkiEGhUtNE46RE4qlXNI7MF8Smrj2HTZXKYpseXGm0BhOz1zBh3Ifdg8C6Fbk/NLdZCuu17pw8F7eE8OMuxRoofbZh5pT/xn2i09fdRwnxTYzL6AeqE77xdckG9hEEDSH3rtAnpQFEn9RaCH7PQW2UDxkPrCszF4Kq11wsfOX3tMXKltddvxKL//E5sQWSomMjMjV6VW4PlkgdBZleTtfMMV+uwRtZTxADbS0PzErJbtgAi7pELxALyBbZdvmTQcGIpZDuM52L729nzsWsMkwFnpvYh0so0K5fzC2UuKfGeSqXbVw4eeqMKetNkHVMf74wGU7nskrnkOlcbvzqwAM3HrB74AYpHpg3Ke4ehldPwz7TdZ+7P2ODYbbfmQzGGEyjzLPBvEmh+LLFG0oUXeEGYskWaSc18vMg3Gucjq6D5v6NHbtTfh/fcd8Pn0oZdDt2HDQ10X0/eiptUZkJcnIf2wPpnsez4GS0rWkwqpb2ZKq+CN9h+ikDqTt06A7EH8+DcslYOZHCJOmBDI+MSj6A/B68MlseWCL4xYB9RpMO6Jx05M2FnEhpczpmqYQQzWm7SPx9roY2Asurv4vbcS/tTPuMJhWIO6jW2hzKg5yeJSOGbFVr1WIykNY0pe/VWEDf4kCKB1Y7tGyncuWHN25xxSJp/tiyfql+jl8cdG6Z/TRwjdZQgHGCgfm3Gz4HrfU63AxVr3oAAAAASUVORK5CYII=",Cu="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFgAAAAhCAYAAABduGw9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAFrUlEQVR4nO2YW0wUVxjHkahU44MJGPSB0DRAkdCsjQWDmFbKpShKTE2NpAYMChqrBDG8eYshjajhVqMPTQiQICUExQYw0lYTLo2CC0XAQJSCqNyEvYjALrO7/+Y7zZzuMLNbH3Z4Yf7JSXbOOZw585vv+59v8IImVeWl7vKaNMAqSwOssjTAKksDrLI0wCpLA6yyNMAqSwOssjTAKksDvFSAFxYWUFNTg+vXr6O/vx8GgwF2u10y2eFwoKOjQ9JnNpvR3t6OlpYW1h49eoTJyUk+Pjg4iNbWVj7+9OlTdq8PkdDbB2vT726bbWgYntbs7KxnARO4pKQknD59Gr29vQy0TqeDIAiSyQQvIiJCtsjAwAC8vLxQVVXF5uTm5iI1NRVWq5Wtffz4cURFRaGzsxN1dXWIjY1FQ0OD241ZblVj/udSmPd9h+mAIMU2k5WD2R/zsdD6p8eAUEBcunTJs4CfP3+OlStXYm5ujg9cu3ZNBphewOrVq9HT0yOLYgJMkS8qJiYGN2/eZL8vXLiA5ORkPkYRv379elgsFsVNWWrrMB0YAsutX+Awm2He+60cbuYPgCBg9mIeDKE6CO1PPAKEMjg7OxseBTw+Ps7A0ZsTbWFoaAg2m02SNidOnMD+/fuRk5Pzv4Bp3rlz5xQB0wtdsWIFs6HFsv7agOmPP2UQCTDJYTTBlLiXw313OAMOq/XffV3MY32GsC0QOrs8AvjUqVPwuAeXl5fjIx8fJCYm4vXr17KJtyorWVrX19fD39+fpb8rwA8ePMCGDRvQ19cnA0xZkpKSggMHDsjuYf3tD0x/spmDFAGT7G+nYPo6Ee++PwyHU+SLgBnk8K0QuqXZRSKbcqfRN294MBFgCiRVqgi9Xo+wsDD4+vrKPJI8lQ4nso2NGzfi9u3bfMxkMjHA58+fR3FxMfPbtLQ0bjkEODQ0FKWlpThz5gwCAwPR1NQk3YkgwPRVvMQGLJX/ASZZ6xsh9PRK+pwBs+hOOyoZp4y8e/euWwj0bJWVlRzwsWPHPgCd+xcnOgED7Oy1BIVShCyju7ub9b169YpBKywsZG3btm3Ys2ePDLAYwRQNcXFxOHToEAdMh6goqkR8fHzQqddLNmUbfglj5A5FwMITPQybdTBG7IDt5YgiYNPufcyznVVbW4uHDx+6BUVAd+3axQEfPSp9SUqqqKhgB6IzbAogUklJCWfBAD9+/JilufPkkJAQ5Ofns+vLly+zCkBUV1cXVq1ahdHRUUXApBs3bjArUQJMCgoKwpUrV2Qbtw3+DePWKAlg4a9uGMI+5yCN0TGwvxmVADbF7YZ9Wu7pmZmZPDpd6dmzZwgICOCAjxw54na+0WjE2rVrJeVcdXU1Tp48yZ+N1uSAm5ubcfbsWUkUkw00NjYy2Iv9kvqCg4M5ICXAGRkZiI+PVwQ8MTGBNWvW4N69e4oPYOsfgEEXwQBTLWz47AtZFWH6Mg72sXEGmLzZPvlWca28vDz4+fmhoKCARZ2rFhkZyQGTTZIF3rlzR7HRWuHh4fyasoReSnp6Ou7fv4/t27ezwoEDbmtrY95IHnr16lXs3LkTWVlZDHRRURF2REdjbGyMb5oOQfJU8lL6cCBQBJginm5Ia1HKDQ8Ps7+jioI2RBspKytDQkICzw5XIq+dK/oJhi2RLutgU8w3mCsogX1iwuU68/PzLLLWrVvH9uiq0ZkhAnY3jxo9i7e3t6SPMl7so9+iPzPAYkVAnS9evGARRqI6lb7KqFFaiKLfU1NTrFGpRdcUxWJzrm/fv38vGSMrWvyF6EqOhQU45ufdNjocP0T0jM77WNzEPc/MzLAActfojKEIXdxHlkmVkzOrZfe/CIfDwVLc+cxRU8sO8MjICDZt2oSDBw8uyf2WHWASpTB9qS6FliXgpZQGWGVpgFWWBlhlaYBVlgZYZWmAoS7gfwCXfNXlr2tixwAAAABJRU5ErkJggg==",ju=(e,a,s)=>{const o={iconUrl:Cu,title:"SAB",registered:!1},n={iconUrl:vu,title:"Mudad",registered:!1},l=a?[o,...e]:e;return(s?[n,...l]:l).filter(({registered:u})=>!u).slice(0,3).map(({iconUrl:u,title:c})=>({imageSrc:u,title:c}))},ku=G()(e=>({paper:{display:"flex",padding:e.spacing(2),justifyContent:"space-between",alignItems:"center"},contentWrapper:{display:"flex",gap:e.spacing(2)}})),Mu=({variant:e,firstName:a,onProceed:s})=>{const o=Q(),{classes:n}=ku(),{label:l,variant:m}=wu(e);return t.jsxs(Pa,{elevation:1,className:n.paper,"data-external-id":"health-insurance-banner",children:[t.jsxs("div",{className:n.contentWrapper,children:[t.jsx(Pl,{size:100,hideUnderBreakpoint:"md"}),t.jsxs("div",{children:[t.jsx(j,{variant:"h5",my:1,"data-external-id":"title",children:o.formatMessage(e==="policyUpdate"?_t.policyUpdateTitle:_t.welcomeTitle,{firstName:a})}),t.jsx(j,{variant:"body1",color:"textSecondary","data-external-id":"subtitle",children:o.formatMessage(_t.subtitle)})]})]}),t.jsx(Ee,{"data-external-id":"navigation-button",app:Je.APP_HEALTH_INSURANCE_ONBOARDING,to:"/",variant:m,onClick:()=>s==null?void 0:s(e),children:o.formatMessage(l)})]})},_t=Z({welcomeTitle:{id:"modules.health-insurance.insurance-onboarding.health-insurance-banner.welcome-title",defaultMessage:"Hey {firstName}! Welcome to Bayzat"},policyUpdateTitle:{id:"modules.health-insurance.insurance-onboarding.health-insurance-banner.policy-update-title",defaultMessage:"Hey {firstName}! Your company insurance policy has been updated"},subtitle:{id:"modules.health-insurance.insurance-onboarding.health-insurance-banner.subtitle",defaultMessage:"Learn everything about your company Health Insurance in few steps"},beginOnboarding:{id:"modules.health-insurance.insurance-onboarding.health-insurance-banner.begin-onboarding",defaultMessage:"Begin onboarding"},continueOnboarding:{id:"modules.health-insurance.insurance-onboarding.health-insurance-banner.continue-onboarding",defaultMessage:"Continue onboarding"},explorePolicyUpdates:{id:"modules.health-insurance.insurance-onboarding.health-insurance-banner.explore-policy-updates",defaultMessage:"Explore policy updates"}});function wu(e){switch(e){case"begin":return{label:_t.beginOnboarding,variant:"contained"};case"continue":return{label:_t.continueOnboarding,variant:"outlined"};case"policyUpdate":return{label:_t.explorePolicyUpdates,variant:"contained"}}}const Iu=G()(e=>({noPaddingBottom:{paddingBottom:0},marginTop3:{marginTop:e.spacing(3)},marginTop2:{marginTop:e.spacing(2)}})),Tu=({variant:e="widget",registeredEmployees:a,totalEmployees:s,onInviteEmployeesClick:o,healthInsuranceOnly:n})=>{const{classes:l}=Iu(),m=Q(),[u,c]=d.useState(!1),i=e==="banner",x=Math.round(a/s*100),f=`${x}%`;return t.jsxs(jt,{"data-external-id":"invite-employees-card",children:[t.jsx(kt,{title:m.formatMessage(n?ht.healthInsuranceOnlyTitle:ht.title),titleTypographyProps:{variant:"h5"},className:l.noPaddingBottom,"data-external-id":"invite-employees-card-title"}),t.jsxs(Na,{children:[t.jsx(El,{barHeight:16,data:[{id:"1",backgroundColor:se.grey[200],fillColor:x>=50?Ls.primary.main:Ls.error.main,percentage:f,tooltipTitle:f,leftLegend:t.jsx(j,{variant:"body1",children:m.formatMessage(ht.employeesRegistered,{registered:a,total:s})}),rightLegend:null}]}),!i&&t.jsx("div",{className:l.marginTop3,children:t.jsx(_s,{healthInsuranceOnly:n})})]}),t.jsxs(hs,{"data-external-id":"invite-employees-card-actions",children:[t.jsx(re,{variant:"contained",color:"primary",onClick:o,"data-external-id":"invite-employees-button",children:m.formatMessage(ht.inviteEmployees)}),i&&t.jsx(re,{variant:"outlined",color:"primary",onClick:()=>c(!0),"data-external-id":"why-it-matters-button",children:m.formatMessage(ht.whyItMatters)})]}),u&&t.jsx(qe,{title:m.formatMessage(ht.whyInviteEmployeesToBayzat),content:t.jsx("div",{className:l.marginTop2,children:t.jsx(_s,{showTitle:!1,healthInsuranceOnly:n})}),onClose:()=>c(!1),confirmButton:{text:m.formatMessage(ht.gotIt)},showCloseButton:!0})]})},ht=Z({healthInsuranceOnlyTitle:{id:"health-insurance.insurance-onboarding.invite-employees-card.health-insurance-only-title",defaultMessage:"Invite employees to Bayzat for minimized Health Insurance inquiries!"},title:{id:"health-insurance.insurance-onboarding.invite-employees-card.title",defaultMessage:"Transform HR, empower your team: Invite employees to Bayzat!"},employeesRegistered:{id:"health-insurance.insurance-onboarding.invite-employees-card.employees-registered",defaultMessage:"{registered} out of {total} employees registered"},inviteEmployees:{id:"hr.invite-employees",defaultMessage:"Invite employees"},whyItMatters:{id:"health-insurance.insurance-onboarding.invite-employees-card.why-it-matters",defaultMessage:"Why it matters"},gotIt:{id:"common.action.got-it",defaultMessage:"Got it!"},whyInviteEmployeesToBayzat:{id:"health-insurance.insurance-onboarding.invite-employees-card.why-invite-employees-to-bayzat",defaultMessage:"Why invite employees to Bayzat?"}});function Au(e,a){return a?"policyUpdate":Se.isNumber(e)&&e<100?e===0?"begin":"continue":null}const Su=G()(e=>({widgetsColumn:{marginTop:e.spacing(2),maxWidth:"100%","&:hover":{overflow:"auto"}},divForInfiniteScroll:{width:"100%",height:e.spacing(2)},gridsContainer:{marginBottom:e.spacing(1)}})),Du=()=>{var Gt,ya,qt,Yt;const e=Q(),{classes:a}=Su(),s=Il(),o=Xe(),{id:n}=Tl(),l=wo(),m=Dl(),u=zi(),c=Vi(!0),{handleRequestExceptionAlert:i}=da(),x=un(),f=ae(Ri),p=ae(Ns),g=ae(Ns)&&!(c!=null&&c.upcomingEventsDisabled),h=ae(Fi),k=ae(Wi),_=ae(Al),A=ae(Oi),E=ae(Hi),$=ae(Gi),S=ae(qi),te=ae(Yi),J=ae(Sl),N=ae(Qi),C=ae(Ki),M=Ji("sm"),[z,V]=d.useState({limit:5,offset:0}),[q,b]=d.useState([]),[y,B]=d.useState(W.List),[R,X]=d.useState(),[ke,Le]=d.useState(),[Me,I]=d.useState(!1),[U,he]=d.useState(void 0),O=ae(Xi),{data:{data:F}={data:!1}}=eo({companyId:o,employeeId:n},{enabled:te}),{data:Ne}=hr({companyId:o},{enabled:h}),{data:Ye}=lo({companyId:o},{enabled:k}),{data:xe,refetch:ut,isFetching:We}=ur({companyId:o},{enabled:C}),{data:De}=nr({companyId:o},{enabled:p}),{data:Qe}=$c({companyId:o},{enabled:g}),{data:Ze}=Xn({companyId:o,employeeId:n},{enabled:f,select:Ps}),{data:Ke}=Zn({companyId:o,employeeId:n},{enabled:f,select:Ps}),{data:Ue}=qn({pagination:{limit:9,offset:0},filters:{status:[Ua.Active]}}),{data:we}=fr({companyId:o},{filters:{listDeletedEmployees:"true"},pagination:{limit:1e4,offset:0}}),{data:de,isPending:et}=Tc({companyId:o},l,{pagination:z},{gcTime:0,enabled:O}),{data:Oe,isFetching:T}=or({companyId:o},{enabled:_}),{data:w}=Zi({companyId:o},{select:D=>ju(D.payload.data,E,$),enabled:A}),{data:ne}=pr({companyId:o},{enabled:N}),{mutateAsync:Ie}=Ac(),{mutateAsync:pe}=Lc(),{mutateAsync:pt}=Ec(),{mutateAsync:Rt}=_c(),{totalOverdueAmount:tt,totalDueAmount:Mt}=(Oe==null?void 0:Oe.data)??{},Ft=Se.isEmpty(q);d.useEffect(()=>{if(de!=null&&de.data){const D=(de==null?void 0:de.data)??[];b(ve=>{const Te=[...D];return ve.forEach(Be=>{D.every(v=>v.id!==Be.id)&&Te.push(Be)}),Te.sort((Be,v)=>{const P=Be.scheduledAt??Be.createdAt??0,Y=v.scheduledAt??v.createdAt??0;return P===Y?0:P<Y?1:-1})})}},[de==null?void 0:de.data]);const at=d.useMemo(()=>we==null?void 0:we.data.find(D=>D.id===n),[we,n]),ga=d.useCallback(()=>{z&&bs(de==null?void 0:de.pagination)&&V({limit:z.limit,offset:z.limit+z.offset})},[de==null?void 0:de.pagination,z]),st=d.useCallback(D=>{Se.isUndefined(D.createdByEmployeeId)?pe({urlParams:{companyId:o,postId:D.id}}):Ie({urlParams:{companyId:o,postId:D.id}}),b(q.filter(Te=>Te.id!==D.id))},[o,Ie,pe,q]),Wt=d.useCallback(async({postId:D,reactionType:ve,isFromCard:Te})=>{var Be;try{const v=(Be=q.find(P=>P.id===D))==null?void 0:Be.reactions.find(P=>P.createdByEmployeeId===n);if(v)await Rt({urlParams:{companyId:o,postId:D,reactionId:v.id}}),b(me(P=>{const Y=P.findIndex(ee=>ee.id===D);if(Y>-1){const ee=P[Y].reactions.findIndex(K=>K.id===v.id);ee>-1&&P[Y].reactions.splice(ee,1)}}));else{const P=await pt({data:{reactionCode:ve},urlParams:{companyId:o,postId:D}});b(me(Y=>{const ee=Y.findIndex(K=>K.id===D);ee>-1&&P.data&&Y[ee].reactions.push(P.data)}))}ue({event:`newsfeed.${Te?"newsfeed-card":"review-post-dialog"}.${v?"delete":"add"}-reaction`,reactionType:Se.lowerCase(ve)})}catch(v){throw i(v),v}},[q,n,pt,o,Rt,i]),fa=d.useCallback(()=>{ue({event:"jd.newsfeed.click_createPost"}),B(W.CreateEmpty)},[]),wt=d.useCallback(()=>{B(W.List),X(void 0)},[]),qa=d.useCallback(D=>{if(D)if([W.CreateEmpty,W.CreateWithAnniversaryTemplate,W.CreateWithBirthdayTemplate,W.CreateWithLeavingCompany,W.CreateWithNewJoiner].includes(y))b([D,...q]);else{const ve=q.findIndex(Te=>Te.id===(D==null?void 0:D.id));ve>-1&&D&&b(me(Te=>{Te[ve]=D})),X(void 0)}B(W.List)},[q,y]),Ya=d.useCallback(D=>{X(q.find(ve=>ve.id===D)),B(W.Edit)},[q]),Ot=d.useCallback((D,ve)=>{const Te=q.findIndex(Be=>Be.id===D);Te>-1&&b(me(Be=>{Be[Te].commentsCount=ve}))},[q]),ha=d.useCallback(D=>{ue({event:`jd.newsfeed.upcomingCelebration.${D.celebrationType}.click_createPost`}),Le(D.employeeId),B(D.celebrationType===ie.Anniversary?W.CreateWithAnniversaryTemplate:W.CreateWithBirthdayTemplate)},[]),xa=d.useCallback(D=>{ue({event:`jd.newsfeed.upcomingEvent.${D.eventType}.click_createPost`}),Le(D.employeeId),B(D.eventType===fe.LeavingCompany?W.CreateWithLeavingCompany:W.CreateWithNewJoiner)},[]),Ht=Au(u,F);return t.jsxs(Nl,{header:t.jsx(Ll,{dataPrivacyOption:"allow",title:e.formatMessage(Qt.goodToSeeYou,{employeeFullName:at==null?void 0:at.fullName,maskedText:D=>t.jsx("span",{...er("mask"),children:D})}),showBottomBorder:!0}),bodyProps:{pt:0},children:[t.jsxs(tr,{component:"div",disableGutters:!0,children:[tt&&tt.value>100&&t.jsx(le,{mt:2,children:t.jsx(ir,{viewDetailsUrl:{to:"/",app:Je.APP_HEALTH_INSURANCE_BILLING},overduePaymentAmount:tt})}),te&&Ht&&t.jsx(le,{mt:2,children:t.jsx(Mu,{firstName:(at==null?void 0:at.fullName)??"",variant:Ht,onProceed:D=>{ue({event:`jd.newsfeed.click_${{begin:"beginOnboarding",continue:"continueOnboarding",policyUpdate:"continueOnboardingWithPolicyUpdate"}[D]}`})}})}),t.jsxs(L,{container:!0,justifyContent:"center",direction:"row",spacing:2,className:a.gridsContainer,children:[O&&t.jsx(L,{size:{md:7,sm:12},children:t.jsxs(ca,{loading:et&&!Ft,children:[t.jsx(Pe,{can:aa,children:t.jsx(Hc,{employeeId:n,onClick:fa})}),t.jsxs(ma,{onLoadMoreResults:ga,elementToCheck:t.jsx("div",{className:a.divForInfiniteScroll}),children:[q==null?void 0:q.map(D=>t.jsx(Bl,{description:"Unable to render newsfeed post. Please try again later.",children:t.jsx(fm,{employees:(we==null?void 0:we.data)??[],post:D,onEditPost:Ya,onDeletePost:st,onReactPost:Wt,onCommentCountChange:Ot})},D.id)),et&&Ft&&t.jsxs(t.Fragment,{children:[t.jsx(es,{}),t.jsx(es,{}),t.jsx(es,{})]})]})]})}),(!M||M&&!O)&&t.jsxs(L,{className:a.widgetsColumn,size:{md:O?5:12},container:!0,spacing:2,mb:5,direction:O?"column":"row",sx:{position:"sticky",alignItems:"stretch",overflow:"auto",height:O?`calc(100vh - var(--top-bar-height) - ${x.spacing(2)})`:"auto",top:"var(--top-bar-height)",flexWrap:O?"nowrap":"wrap",pl:O?1:0},children:[t.jsx(Pe,{can:ar,children:t.jsx(Ce,{oneColumnView:O,children:t.jsx(Dd,{})})}),f&&Ze&&Ke&&t.jsx(Ce,{oneColumnView:O,children:t.jsx(Bm,{assignedToMeCounts:Ze,createdByMeCounts:Ke})}),t.jsx(Ce,{oneColumnView:O,children:t.jsx(Sm,{employeeSummaries:Ue==null?void 0:Ue.data,totalEmployeeCount:(Gt=Ue==null?void 0:Ue.pagination)==null?void 0:Gt.total})}),T&&!Oe&&t.jsx(Ce,{oneColumnView:O,children:t.jsx(ps,{})}),tt&&Mt&&Mt.value>100&&t.jsx(Ce,{oneColumnView:O,children:t.jsx(Od,{dueAmount:Mt,overdueAmount:tt,viewDetailsUrl:{to:"/",app:Je.APP_HEALTH_INSURANCE_BILLING}})}),t.jsx(Pe,{can:Aa,children:t.jsx(Ce,{oneColumnView:O,children:t.jsx(Wd,{})})}),We&&!xe&&t.jsx(Ce,{oneColumnView:O,children:t.jsx(ps,{})}),te&&S&&xe&&ne&&t.jsx(Ce,{oneColumnView:O,children:t.jsx(Tu,{variant:"widget",registeredEmployees:((ya=xe.data)==null?void 0:ya.registeredCount)??0,totalEmployees:ne.employeeCount,onInviteEmployeesClick:()=>I(!0),healthInsuranceOnly:s.isInsuranceOnly})}),A&&w&&!!w.length&&t.jsx(Ce,{oneColumnView:O,children:t.jsx(vd,{availableIntegrationsList:w})}),k&&Ye&&t.jsx(Ce,{oneColumnView:O,children:t.jsx(ts,{"data-external-id":"missing-information-card",heading:e.formatMessage({id:"hr.missing-information",defaultMessage:"Missing information"}),explanation:e.formatMessage({id:"hr.employees-missing-information",defaultMessage:"Employees missing information"}),count:(qt=Ye==null?void 0:Ye.data)==null?void 0:qt.employeeCount,cardActions:t.jsx(Ee,{"data-external-id":"action-button",variant:"outlined",to:"/employees/list?isCompleted=false&missingInfo=contacts%2Cemployee%2Cpersonal%2Cemail%2Cprobation&status=active",children:e.formatMessage(Qt.findOutWho)})})}),h&&Ne&&t.jsx(Ce,{oneColumnView:O,children:t.jsx(ts,{"data-external-id":"missing-documents-card",heading:e.formatMessage({id:"hr.missing-documents",defaultMessage:"Missing documents"}),explanation:e.formatMessage({id:"hr.employees-missing-documents",defaultMessage:"Employees with missing mandatory documents"}),count:Ne==null?void 0:Ne.employeeCount,cardActions:t.jsx(Pe,{can:Aa,children:t.jsx(Ee,{"data-external-id":"action-button",variant:"outlined",to:"/documents/missing",onClick:()=>ue({event:"dashboard.missing-documents-widget.click_viewAll"}),children:e.formatMessage(Qt.findOutWho)})})})}),J&&xe&&t.jsx(Ce,{oneColumnView:O,children:t.jsx(ts,{"data-external-id":"active-invitations-card",heading:e.formatMessage({id:"hr.active-invitations",defaultMessage:"Active invitations"}),explanation:e.formatMessage({id:"hr.invitations-remain-to-be-accepted",defaultMessage:"Invitations that still remain to be accepted"}),count:(Yt=xe.data)==null?void 0:Yt.pendingCount,cardActions:t.jsx(Ee,{variant:"outlined",app:Je.APP_HRADMIN,to:"/invitations","data-external-id":"invite-employees-button",children:e.formatMessage(Qt.inviteEmployees)})})}),p&&(De==null?void 0:De.data)&&t.jsx(Ce,{oneColumnView:O,children:t.jsx(rd,{celebrations:De.data,onCreatePostClick:ha})}),g&&(Qe==null?void 0:Qe.data)&&t.jsx(Ce,{oneColumnView:O,children:t.jsx(xd,{events:Qe.data,onCreatePostClick:xa})}),m&&t.jsx(Ce,{oneColumnView:O,children:t.jsx(wm,{})}),m&&t.jsx(Ce,{oneColumnView:O,children:t.jsx(Nm,{})})]})]})]}),[W.CreateEmpty,W.CreateWithAnniversaryTemplate,W.CreateWithBirthdayTemplate,W.CreateWithLeavingCompany,W.CreateWithNewJoiner,W.Edit].includes(y)&&t.jsx(Pe,{can:aa,children:t.jsx(bu,{initialPost:R,dashboardEditingType:y,employees:we==null?void 0:we.data,companyId:o,employeeId:n,employeeIdForCelebration:ke,onClose:wt,onSuccess:qa})}),U&&t.jsx(Tr,{onClose:()=>he(void 0),videoId:U}),te&&S&&t.jsx(gr,{title:e.formatMessage(Qt.employeesNotRegisteredBayzat),subtitle:"",open:Me,onClose:()=>I(!1),refetch:ut})]})},Bu=_l({Component:Du,event:"dashboard.newsfeed.screenTime"}),Qt=Z({goodToSeeYou:{id:"hr.good-to-see-you",defaultMessage:"Good to see you <maskedText>{employeeFullName}</maskedText>"},findOutWho:{id:"common.action.find-out-who",defaultMessage:"Find out who"},inviteEmployees:{id:"hr.invite-employees",defaultMessage:"Invite employees"},employeesNotRegisteredBayzat:{id:"common.title.employees-not-registered-bayzat",defaultMessage:"Employees not registered on Bayzat"}}),Ce=({children:e,oneColumnView:a})=>t.jsx(L,{size:{xs:12,lg:a?12:6},children:e}),mf=()=>ae(cn)?t.jsx(Bu,{}):t.jsx(sr,{to:"/profile"});export{mf as IndexRoute,mf as default};
