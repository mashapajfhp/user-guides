import{a as m,r as f,j as a,T as c,aa as n,d as x,aj as b,B as q,fX as I}from"./assets/index-rhBbSAok.js";import{P as h}from"./Pagination-dJEsRaL9__cache.js";import{P as y}from"./PaginatedTable-URXGw4_u__cache.js";import{F as p}from"./FormatDate-f2AQWiWt__cache.js";var T=(i=>(i.Success="Success",i.Failure="Failure",i))(T||{});const e=x({dataAndTime:{id:"hr-admin.configuration-integrations-logs-table.data-and-time",defaultMessage:"Date & time"},requestBy:{id:"hr-admin.configuration-integrations-logs-table.requested-by",defaultMessage:"Requested by"},user:{id:"hr-admin.configuration-integrations-logs-table.user",defaultMessage:"User"},requestType:{id:"hr-admin.configuration-integrations-logs-table.request-type",defaultMessage:"Request type"},requestFor:{id:"hr-admin.configuration-integrations-logs-table.request-for",defaultMessage:"Request for"},requestStatus:{id:"hr-admin.configuration-integrations-logs-table.request-result",defaultMessage:"Request result"},success:{id:"hr-admin.configuration-integrations-logs-table.sucess",defaultMessage:"Success"},failure:{id:"hr-admin.configuration-integrations-logs-table.failure",defaultMessage:"Failure"},transactionId:{id:"hr-admin.configuration-integrations-logs-table.transaction-id",defaultMessage:"Transaction id"},result:{id:"hr-admin.configuration-integrations-logs-table.result",defaultMessage:"Result"},apiActionName:{id:"hr-admin.configuration-integrations-logs-table.api-action-name",defaultMessage:"API action name"},relatedApiLogs:{id:"hr-admin.configuration-integrations-logs-table.related-api-logs",defaultMessage:"Related API Logs"}}),F=({details:i})=>{const s=m(),o=f.useMemo(()=>[{dataIndex:"actionTime",title:s.formatMessage(e.dataAndTime),accessor:(l,r)=>a.jsxs(c,{variant:"body2",dir:"ltr",children:[a.jsx(p,{date:r.actionTime,dateFormat:"full",timeFormat:"no-seconds"}),b(r.actionTime,"d MMM yyyy h:mmaaa")]})},{dataIndex:"apiActionName",title:s.formatMessage(e.apiActionName)},{dataIndex:"requestStatus",title:s.formatMessage(e.result),accessor:(l,r)=>r.requestStatus==="Failure"?a.jsx(n,{label:s.formatMessage(e.failure),variant:"critical",withIcon:!0}):a.jsx(n,{label:s.formatMessage(e.success),variant:"success",withIcon:!0})}],[s]);return a.jsxs(q,{py:2,children:[a.jsx(c,{mb:2,variant:"subtitle2",children:s.formatMessage(e.relatedApiLogs)}),i&&a.jsx(I,{variant:"no-border",columns:o,data:i,rowIdentifierIndex:"apiActionName"})]})},j=["transactionId","requestFor","requestStatus"],P=({data:i,pagination:s,totalRowCount:o,onPageChange:l,isSabIntegration:r})=>{const t=m(),M=f.useMemo(()=>{const g=[{dataIndex:"transactionId",title:t.formatMessage(e.transactionId)},{dataIndex:"date",title:t.formatMessage(e.dataAndTime),accessor:(d,u)=>a.jsx(c,{variant:"body2",children:a.jsx(p,{date:u.date,dateFormat:"full",timeFormat:"full"})})},{dataIndex:"requestedBy",title:r?t.formatMessage(e.user):t.formatMessage(e.requestBy)},{dataIndex:"requestType",title:t.formatMessage(e.requestType)},{dataIndex:"requestFor",title:t.formatMessage(e.requestFor)},{dataIndex:"requestStatus",title:t.formatMessage(e.requestStatus),accessor:(d,u)=>u.requestStatus==="Failure"?a.jsx(n,{label:t.formatMessage(e.failure),variant:"critical",withIcon:!0}):a.jsx(n,{label:t.formatMessage(e.success),variant:"success",withIcon:!0})}];return r?g.filter(d=>!j.includes(d.dataIndex)):g},[t,r]);return a.jsx(y,{data:i,collapsable:!r,collapseButtonPlacement:"end",rowIdentifierIndex:"transactionId",CollapsableRowComponent:F,variant:"no-border",paginationType:h.Dropdown,columns:M,pagination:s,totalRowCount:o,onPageChange:l})};export{P as L,T as R};
