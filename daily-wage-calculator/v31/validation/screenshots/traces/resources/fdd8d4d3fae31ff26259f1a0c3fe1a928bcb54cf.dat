import{H as f,hJ as w,r as c,j as o,ah as B,B as u,hK as C,cV as h,bS as I,S as z}from"./assets/index-rhBbSAok.js";import{V as S}from"./ViewIcon-fcD4nZWN__cache.js";import{c as k}from"./commonTransparent1x1DataUriImage-0tTF2Q2P__cache.js";const $=f()((a,{enabledDeleting:i,enableZoomInDialog:g,scale:t},e)=>({imageContainer:{position:"relative",zIndex:10,textAlign:"center",[`&:hover .${e.image}`]:{opacity:i||g?.3:void 0},[`&.${e.loading} .${e.image}`]:{opacity:.3},[`&:hover .${e.removeButton}`]:{opacity:1},[`&:hover .${e.viewButton}`]:{opacity:1},minHeight:100,height:t?"100%":void 0,boxSizing:"border-box",boxShadow:"rgba(0, 0, 0, 0.12) 0 1px 6px, rgba(0, 0, 0, 0.12) 0 1px 4px",borderRadius:a.shape.borderRadius},image:{width:t?"100%":"initial",maxWidth:"100%",height:t?"100%":void 0,objectFit:t?"cover":void 0,color:a.palette.text.primary,transition:"all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms",zIndex:5,opacity:1},removeButton:{zIndex:6,transition:".5s ease",position:"absolute",opacity:0,top:a.spacing(1),right:a.spacing(1),"&:focus":{opacity:1}},viewButton:{zIndex:6,transition:".5s ease",position:"absolute",opacity:0,width:40,height:40,"&:focus":{opacity:1}},loading:{}})),D=k,N=({src:a,classes:i,scale:g,onFileDelete:t,fallbackImageSrc:e=D,fallbackComponent:s,retryCount:b=0,enableZoomInDialog:p=!1})=>{const{classes:r,cx:m}=$({enabledDeleting:!!t,scale:g,enableZoomInDialog:p}),[n,x]=w(a,!0,b),[v,l]=c.useState(!1),j=c.useCallback(()=>l(!0),[]),y=c.useCallback(()=>l(!1),[]),d=!n&&!x;return o.jsxs(B,{container:!0,justifyContent:"center",alignItems:"center",className:m(i==null?void 0:i.imageContainer,r.imageContainer,d&&r.loading),children:[x&&(s??o.jsx("img",{alt:"img-preview",className:m(i==null?void 0:i.image,r.image),src:e})),!d&&!x&&o.jsx("img",{alt:`img-preview-${n}`,className:m(i==null?void 0:i.image,r.image),src:n}),o.jsx(u,{position:"absolute",children:o.jsx(C,{loading:d,color:"primary"})}),t&&n&&o.jsx(h,{"aria-label":"delete",className:m(i==null?void 0:i.removeButton,r.removeButton),onClick:t,color:"default",size:"large",children:o.jsx(I,{fontSize:"xx-small"})}),p&&n&&o.jsxs(o.Fragment,{children:[o.jsx(h,{"aria-label":"zoom-in",className:m(i==null?void 0:i.viewButton,r.viewButton),onClick:j,color:"primary",size:"large",children:o.jsx(S,{fontSize:"x-small"})}),v&&o.jsx(z,{maxWidth:"lg",content:o.jsx(u,{minWidth:600,children:o.jsx(N,{src:n,retryCount:3,scale:!0})}),onClose:y,confirmButton:{text:"Close"}})]})]})};export{N as I};
