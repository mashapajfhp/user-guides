function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["EmployeeRegistration.route-jngMi4Jo__cache.js","assets/index-rhBbSAok.js","containsMatchingError-tqmtWfpw__cache.js","Register-GaJNTe9e__cache.js","PasswordTextInput.form-M47HO3mD__cache.js","View1Icon-IfE2VW6e__cache.js","ViewOffIcon-svaSW9YF__cache.js","InputAdornment-hva1Jw6n__cache.js","setPasswordValidator-XUofTTFH__cache.js","TextField.form-wfmQrmdl__cache.js","TextField-tMfA-iyC__cache.js","emailValidator-7aOWd_-7__cache.js","HealthInsuranceOnlyRegistrationContainer-Pyxzdktv__cache.js","Card-0cclI5zr__cache.js","CardMedia-xfCIdppg__cache.js","GenericSuccessResponse-R235NyAN__cache.js","Select.form-INoc4nXN__cache.js","Select-rkw5r0hr__cache.js","Select-2iMMU_Ha__cache.js","Nationality-0qhLYdc8__cache.js","xeroIcon-HeOeRCiQ__cache.js","CheckboxInput.form-5LK-WYE6__cache.js","CheckboxInput-9e4-y5wq__cache.js","useOnDidMount-YEvKcyHq__cache.js","Admin.abilities-XkBNboG-__cache.js","withAbilityGuard-1RGBipcj__cache.js","HealthInsuranceOnlyEmployeeRegistration.route-IhNIPQY8__cache.js","HealthInsuranceOnlyRegistrationWithOnlyPasswordsForm-yQSoLonP__cache.js","ForgotPassword.route-6mVUA8Yd__cache.js","MfaVerification.route-nct_kbWN__cache.js","Security.route-8E-H_amr__cache.js","PageHeading-nXhD4Nsd__cache.js","Breadcrumbs-vaEJs3BD__cache.js","Breadcrumbs-iuU7DkbN__cache.js","PageContent-363tIqWz__cache.js","PageBody-DUqeS0DQ__cache.js","ConfigurationBanner-ZmB_Vgjo__cache.js","ChangePassword.route-Zc9pHr8C__cache.js","FormGroup-e9CWUque__cache.js","FormGroup-CG9DRFZI__cache.js","minLengthGenerator-oCk5AMD5__cache.js","MFAEnable.route-8XW17A_p__cache.js","MFADisable.route-yHzrtjpO__cache.js","ResetPassword.route-QqbTQ5r-__cache.js","RegistrationSuccess.route-qO1YU75o__cache.js","Impersonation.route-HS0ccTL1__cache.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{d4 as Y,b9 as K,r as u,d5 as at,d6 as Ft,d7 as zt,aN as F,d8 as He,j as t,H as G,af as Ut,ar as Pe,d9 as $t,C as Ne,cc as rt,b1 as ae,bm as re,b2 as ie,da as it,a as E,a8 as ct,cf as Te,db as Ie,d as S,br as Fe,dc as P,c2 as ze,bN as te,dd as ce,de as lt,df as ut,dg as ve,a1 as Ae,T as _,b7 as dt,U as z,V as U,c7 as Wt,bB as Z,am as Dt,dh as Ot,di as mt,dj as Gt,dk as Bt,bU as D,dl as gt,bW as ee,dm as ft,bI as qt,dn as Ht,dp as Ue,dq as pt,bR as Vt,dr as Yt,ds as ht,dt as Kt,du as Xt,bn as Ve,ad as xt,dv as Jt,a0 as yt,dw as Mt,dx as vt,c3 as be,bO as Ee,bP as Ye,dy as $e,dz as We,dA as De,dB as Qt,dC as Zt,dD as eo,dE as to,dF as oo,dG as no,dH as so,dI as ao,dJ as ro,R as io,e as v,h as N,A as co,dK as le,cG as lo,i as uo,dL as mo}from"./assets/index-rhBbSAok.js";import{D as Ke,R as Xe,H as go}from"./HealthInsuranceOnlyRegistrationContainer-Pyxzdktv__cache.js";import{d as Oe}from"./GenericSuccessResponse-R235NyAN__cache.js";import{F as wt}from"./Select.form-INoc4nXN__cache.js";import{F as I}from"./TextField.form-wfmQrmdl__cache.js";import{n as jt,N as kt}from"./Nationality-0qhLYdc8__cache.js";import{e as Ge}from"./emailValidator-7aOWd_-7__cache.js";import{x as fo}from"./xeroIcon-HeOeRCiQ__cache.js";import{c as Q}from"./containsMatchingError-tqmtWfpw__cache.js";import{F as po,u as ho,d as xo}from"./PasswordTextInput.form-M47HO3mD__cache.js";import{F as yo}from"./CheckboxInput.form-5LK-WYE6__cache.js";import{u as Mo}from"./useOnDidMount-YEvKcyHq__cache.js";import{a as vo}from"./Admin.abilities-XkBNboG-__cache.js";import{s as wo}from"./withAbilityGuard-1RGBipcj__cache.js";function jo(e){return n=>{const{state:s}=Y(),{bootstrapData:a,isLoggedIn:i}=s,l=K();return u.useEffect(()=>{const c=new URLSearchParams(window.location.search);if(!(c.get(at)==="true")&&i&&a){let m=null,d=null;const p=c.get("redir");p!==null&&Ft(p)?zt&&(p!=null&&p.endsWith("/qa"))?(d=F.APP_HRADMIN,m="/qa"):m=p:a!=null&&a.hasActiveEmployeeProfile()?d=F.APP_HRADMIN:a!=null&&a.hasGroupLead()?m=He[F.APP_SME]:a!=null&&a.isIndividualUser()&&(m=He[F.APP_INDIVIDUAL_PROFILE]),d?l.pushToApp(d,m??"/"):m&&(window.location.href=m)}},[a,l,i]),t.jsx(e,{...n})}}const ko=G()(()=>({grey100Background:{backgroundColor:Ut.grey[100]}})),Ao=e=>t.jsx("main",{children:e.children}),bo=e=>{const{classes:o}=ko();return t.jsx("main",{className:o.grey100Background,children:e.children})},At=jo(Ao),$=({children:e,withRedirection:o=!0})=>o?t.jsx(At,{children:t.jsx(Ke,{carousel:t.jsx(Xe,{}),children:e})}):t.jsx(Ke,{carousel:t.jsx(Xe,{}),children:e}),Eo=()=>{const{state:e}=Y();return e.isLoggedIn?t.jsx($t,{open:!0,children:t.jsx(Ne,{color:"primary"})}):t.jsx(Pe,{to:"/login"})};function Co(e){const o={};return o.company_name=e.companyName,o.country=rt(e.country),o.email=e.email,o.first_name=e.firstName,o.last_name=e.lastName,o.phone_number=e.phoneNumber,o.token=e.token,o}const _o=()=>"/accounting/xero/lead",Ro=()=>ae({toURLFunction:_o,mapRequestFunction:re(Co),mapResponseFunction:ie(Oe),options:{showGlobalProgress:!0}});function bt(){return`${window.location.origin}/auth/xero-contact-us`}var Lo={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ce=function(){return Ce=Object.assign||function(e){for(var o,n=1,s=arguments.length;n<s;n++)for(var a in o=arguments[n])Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a]);return e},Ce.apply(this,arguments)},_e,So=function(e){var o;e?function(n){if(n)for(;n.lastChild;)n.lastChild.remove()}(typeof e=="string"?document.getElementById(e):e):(o=document.querySelector(".grecaptcha-badge"))&&o.parentNode&&document.body.removeChild(o.parentNode)},Po=function(e,o){So(o),window.___grecaptcha_cfg=void 0;var n=document.querySelector("#"+e);n&&n.remove(),function(){var s=document.querySelector('script[src^="https://www.gstatic.com/recaptcha/releases"]');s&&s.remove()}()},No=function(e){var o=e.render,n=e.onLoadCallbackName,s=e.language,a=e.onLoad,i=e.useRecaptchaNet,l=e.useEnterprise,c=e.scriptProps,r=c===void 0?{}:c,g=r.nonce,m=g===void 0?"":g,d=r.defer,p=d!==void 0&&d,M=r.async,w=M!==void 0&&M,f=r.id,C=f===void 0?"":f,A=r.appendTo,x=C||"google-recaptcha-v3";if(function(R){return!!document.querySelector("#"+R)}(x))a();else{var j=function(R){return"https://www."+(R.useRecaptchaNet?"recaptcha.net":"google.com")+"/recaptcha/"+(R.useEnterprise?"enterprise.js":"api.js")}({useEnterprise:l,useRecaptchaNet:i}),y=document.createElement("script");y.id=x,y.src=j+"?render="+o+(o==="explicit"?"&onload="+n:"")+(s?"&hl="+s:""),m&&(y.nonce=m),y.defer=!!p,y.async=!!w,y.onload=a,(A==="body"?document.body:document.getElementsByTagName("head")[0]).appendChild(y)}},we=function(e){typeof process<"u"&&Lo&&!1||console.warn(e)};(function(e){e.SCRIPT_NOT_AVAILABLE="Recaptcha script is not available"})(_e||(_e={}));var Be=u.createContext({executeRecaptcha:function(){throw Error("GoogleReCaptcha Context has not yet been implemented, if you are using useGoogleReCaptcha hook, make sure the hook is called inside component wrapped by GoogleRecaptchaProvider")}});Be.Consumer;function To(e){var o=e.reCaptchaKey,n=e.useEnterprise,s=n!==void 0&&n,a=e.useRecaptchaNet,i=a!==void 0&&a,l=e.scriptProps,c=e.language,r=e.container,g=e.children,m=u.useState(null),d=m[0],p=m[1],M=u.useRef(o),w=JSON.stringify(l),f=JSON.stringify(r==null?void 0:r.parameters);u.useEffect(function(){if(o){var x=(l==null?void 0:l.id)||"google-recaptcha-v3",j=(l==null?void 0:l.onLoadCallbackName)||"onRecaptchaLoadCallback";return window[j]=function(){var y=s?window.grecaptcha.enterprise:window.grecaptcha,R=Ce({badge:"inline",size:"invisible",sitekey:o},(r==null?void 0:r.parameters)||{});M.current=y.render(r==null?void 0:r.element,R)},No({render:r!=null&&r.element?"explicit":o,onLoadCallbackName:j,useEnterprise:s,useRecaptchaNet:i,scriptProps:l,language:c,onLoad:function(){if(window&&window.grecaptcha){var y=s?window.grecaptcha.enterprise:window.grecaptcha;y.ready(function(){p(y)})}else we("<GoogleRecaptchaProvider /> "+_e.SCRIPT_NOT_AVAILABLE)},onError:function(){we("Error loading google recaptcha script")}}),function(){Po(x,r==null?void 0:r.element)}}we("<GoogleReCaptchaProvider /> recaptcha key not provided")},[s,i,w,f,c,o,r==null?void 0:r.element]);var C=u.useCallback(function(x){if(!d||!d.execute)throw new Error("<GoogleReCaptchaProvider /> Google Recaptcha has not been loaded");return d.execute(M.current,{action:x})},[d,M]),A=u.useMemo(function(){return{executeRecaptcha:d?C:void 0,container:r==null?void 0:r.element}},[C,d,r==null?void 0:r.element]);return it.createElement(Be.Provider,{value:A},g)}var Et=function(){return u.useContext(Be)};function Ct(e,o){return e(o={exports:{}},o.exports),o.exports;/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */}var k=typeof Symbol=="function"&&Symbol.for,Re=k?Symbol.for("react.element"):60103,Le=k?Symbol.for("react.portal"):60106,ue=k?Symbol.for("react.fragment"):60107,de=k?Symbol.for("react.strict_mode"):60108,me=k?Symbol.for("react.profiler"):60114,ge=k?Symbol.for("react.provider"):60109,fe=k?Symbol.for("react.context"):60110,Se=k?Symbol.for("react.async_mode"):60111,Me=k?Symbol.for("react.concurrent_mode"):60111,pe=k?Symbol.for("react.forward_ref"):60112,he=k?Symbol.for("react.suspense"):60113,Io=k?Symbol.for("react.suspense_list"):60120,xe=k?Symbol.for("react.memo"):60115,ye=k?Symbol.for("react.lazy"):60116,Fo=k?Symbol.for("react.block"):60121,zo=k?Symbol.for("react.fundamental"):60117,Uo=k?Symbol.for("react.responder"):60118,$o=k?Symbol.for("react.scope"):60119;function L(e){if(typeof e=="object"&&e!==null){var o=e.$$typeof;switch(o){case Re:switch(e=e.type){case Se:case Me:case ue:case me:case de:case he:return e;default:switch(e=e&&e.$$typeof){case fe:case pe:case ye:case xe:case ge:return e;default:return o}}case Le:return o}}}function Je(e){return L(e)===Me}var Wo={AsyncMode:Se,ConcurrentMode:Me,ContextConsumer:fe,ContextProvider:ge,Element:Re,ForwardRef:pe,Fragment:ue,Lazy:ye,Memo:xe,Portal:Le,Profiler:me,StrictMode:de,Suspense:he,isAsyncMode:function(e){return Je(e)||L(e)===Se},isConcurrentMode:Je,isContextConsumer:function(e){return L(e)===fe},isContextProvider:function(e){return L(e)===ge},isElement:function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Re},isForwardRef:function(e){return L(e)===pe},isFragment:function(e){return L(e)===ue},isLazy:function(e){return L(e)===ye},isMemo:function(e){return L(e)===xe},isPortal:function(e){return L(e)===Le},isProfiler:function(e){return L(e)===me},isStrictMode:function(e){return L(e)===de},isSuspense:function(e){return L(e)===he},isValidElementType:function(e){return typeof e=="string"||typeof e=="function"||e===ue||e===Me||e===me||e===de||e===he||e===Io||typeof e=="object"&&e!==null&&(e.$$typeof===ye||e.$$typeof===xe||e.$$typeof===ge||e.$$typeof===fe||e.$$typeof===pe||e.$$typeof===zo||e.$$typeof===Uo||e.$$typeof===$o||e.$$typeof===Fo)},typeOf:L},h=Ct(function(e,o){}),Qe=(h.AsyncMode,h.ConcurrentMode,h.ContextConsumer,h.ContextProvider,h.Element,h.ForwardRef,h.Fragment,h.Lazy,h.Memo,h.Portal,h.Profiler,h.StrictMode,h.Suspense,h.isAsyncMode,h.isConcurrentMode,h.isContextConsumer,h.isContextProvider,h.isElement,h.isForwardRef,h.isFragment,h.isLazy,h.isMemo,h.isPortal,h.isProfiler,h.isStrictMode,h.isSuspense,h.isValidElementType,h.typeOf,Ct(function(e){e.exports=Wo})),Do={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Ze={};Ze[Qe.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Ze[Qe.Memo]=Do;const Oo="xero_contact_us_page",Go=G()(e=>({nameContainer:{display:"flex",width:"100%",gap:e.spacing(2)},topMargin:{marginTop:e.spacing(1)}})),Bo=Fe({email:[Ge,P],firstName:[P],lastName:[P],companyName:[P],phoneNumber:[P],country:[P]}),qo=({initialValues:e,onSubmit:o})=>{const n=E(),{classes:s}=Go(),a=Bo(),i=ct(jt),{executeRecaptcha:l}=Et(),c=async r=>{const g=await(l==null?void 0:l(Oo));await o({...r,token:g??""})};return t.jsx(Te,{initialValues:e,validate:a,onSubmit:c,render:({handleSubmit:r})=>t.jsxs(t.Fragment,{children:[t.jsx(I,{disabled:!0,name:"email",label:n.formatMessage(H.email),fullWidth:!0,required:!0}),t.jsxs("div",{className:s.nameContainer,children:[t.jsx(I,{disabled:!0,name:"firstName",label:n.formatMessage(H.firstName),fullWidth:!0,required:!0}),t.jsx(I,{disabled:!0,name:"lastName",label:n.formatMessage(H.lastName),fullWidth:!0,required:!0})]}),t.jsx(I,{name:"companyName",label:n.formatMessage(H.companyName),fullWidth:!0,required:!0}),t.jsx(I,{name:"phoneNumber",label:n.formatMessage(H.phoneNumber),fullWidth:!0,required:!0}),t.jsx(wt,{name:"country",label:n.formatMessage(H.country),options:kt,renderOption:i,fullWidth:!0,required:!0}),t.jsx(Ie,{className:s.topMargin,onClick:r,fullWidth:!0,"data-external-id":"submit-button",children:n.formatMessage(H.letsConnect)})]})})},H=S({email:{id:"common.form.email-address",defaultMessage:"Email address"},firstName:{id:"auth.contact-us-for-xero.first-name",defaultMessage:"First Name"},lastName:{id:"common.last-name",defaultMessage:"Last Name"},companyName:{id:"auth.contact-us-for-xero.company-name",defaultMessage:"Company name"},phoneNumber:{id:"auth.contact-us-for-xero.phone-number",defaultMessage:"Phone number"},country:{id:"auth.contact-us-for-xero.country",defaultMessage:"Country"},letsConnect:{id:"auth.contact-us-for-xero.lets-connect",defaultMessage:"Let`s Connect"}}),Ho=e=>{const o={};return o.email=e.email,o.firstName=e.given_name,o.lastName=e.family_name,o},_t=G()(e=>({logosContainer:{display:"flex",gap:e.spacing(2),alignItems:"center"},mainContainer:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},nameContainer:{display:"flex",width:"100%",gap:e.spacing(2)},topMargin:{marginTop:e.spacing(1)},alertContainer:{marginTop:e.spacing(5),width:"100%"}})),Vo=()=>{const e=E(),{classes:o}=_t(),n=ze(),{handleRequestExceptionAlert:s}=te(),[a,i]=u.useState(),[l,c]=u.useState(!0),[r,g]=u.useState(!1),[m]=ce(),d=m.get("code"),{mutateAsync:p}=Ro();u.useEffect(()=>{d&&(async()=>{c(!0),Z(d,"code can not be null");try{const f=await Ot.post(`${Dt}/accounting/xero/access-token`,{code:d,grant_type:"authorization_code",redirect_uri:bt()});Z(f.data.payload.data&&typeof f.data.payload.data=="string","response.data.payload.data can not be null and should be type of string");const C=mt(f.data.payload.data),A=Ho(C);i(A)}catch{n.error({message:e.formatMessage(se.errorFetchingIdToken)})}finally{c(!1)}})()},[m,d,e,n]);const M=async w=>{try{const f=await p({urlParams:void 0,data:w});g(f.success)}catch(f){s(f)}};return t.jsx(lt,{children:t.jsxs(ut,{direction:"column",spacing:4,alignContent:"stretch",children:[t.jsxs("div",{className:o.logosContainer,children:[t.jsx(ve,{}),t.jsx(Ae,{orientation:"vertical",flexItem:!0}),t.jsx("img",{src:fo,width:32,alt:"Xero"})]}),t.jsxs("div",{className:o.mainContainer,children:[t.jsx(_,{variant:"h3",mt:5,children:e.formatMessage(se.getInTouch)}),t.jsx(Yo,{code:d,successfullySaved:r,isLoading:l,idToken:a,onSubmit:M})]})]})})},Yo=({code:e,successfullySaved:o,isLoading:n,idToken:s,onSubmit:a})=>{const i=E(),{classes:l}=_t();return dt.isNull(e)?t.jsx("div",{className:l.alertContainer,children:t.jsx(z,{variant:U.Error,message:i.formatMessage(se.xeroCodeNeeded),withIcon:!0})}):o?t.jsx("div",{className:l.alertContainer,children:t.jsx(z,{variant:U.Success,message:i.formatMessage(se.thanksForYourRequest),withIcon:!0})}):t.jsxs(t.Fragment,{children:[t.jsx(_,{variant:"body1",mb:5,color:"textSecondary",children:i.formatMessage(se.fillTheForm)}),t.jsx(Wt,{loading:n,children:t.jsx(qo,{initialValues:s,onSubmit:a})})]})},se=S({errorFetchingIdToken:{id:"auth.contact-us-for-xero.error-fetching-id-token",defaultMessage:"An error happened fetching the id token from Xero."},thanksForYourRequest:{id:"auth.contact-us-for-xero.thanks-for-your-request",defaultMessage:"Thanks for your request, a member of our team will be reaching out to you shortly."},getInTouch:{id:"auth.contact-us-for-xero.get-in-touch",defaultMessage:"Get in touch with Bayzat team!"},fillTheForm:{id:"auth.contact-us-for-xero.fill-the-form",defaultMessage:"Please fill the form below"},xeroCodeNeeded:{id:"auth.contact-us-for-xero.xero-code-needed",defaultMessage:"An error happened, no xero code found to move forward."}}),Ko=G()(()=>({spinnerContainer:{display:"flex",height:"100vh",justifyContent:"center",alignItems:"center"}})),Xo=`https://login.xero.com/identity/connect/authorize?response_type=code&client_id=${Gt}&redirect_uri=${bt()}&scope=openid profile email`,Jo=()=>{const{classes:e}=Ko();return window.location.replace(Xo),t.jsxs("div",{className:e.spinnerContainer,children:[t.jsx(Ne,{color:"primary"}),";"]})};function Qo(e){const o={};return o.extended_expiration=e.extendedExpiration,o.token=e.token,o}function Zo(e){const o={};return o.refreshToken=e.refresh_token,o.accessToken=e.access_token,o}const en=()=>"/auth/login/google",tn=()=>ae({toURLFunction:en,mapRequestFunction:re(Qo),mapResponseFunction:ie(Zo),options:{withCredentials:!0,showGlobalProgress:!0}});function on(e){const o={};return o.username=e.username,e.expirationDurationType&&(o.expiration_duration_type=Bt(e.expirationDurationType)),o}const nn=()=>"/employees/signin/passwordless",sn=()=>ae({toURLFunction:nn,mapRequestFunction:re(on),mapResponseFunction:ie(Oe)}),an={login:"app-auth.login.sendMagicLink",register:"app-auth.employee-registration.sendMagicLink"},rn={login:"app-auth.login.resendMagicLink",register:"app-auth.employee-registration.resendMagicLink"},qe=()=>{const e=E(),o=ze(),{handleRequestExceptionAlert:n}=te(),{mutateAsync:s}=sn();return async({username:a,expirationDurationType:i,variant:l,isResend:c})=>{try{return await s({urlParams:void 0,data:{username:a,expirationDurationType:i}}),c?(o.success({message:e.formatMessage(cn.resendMagicLinkSuccess)}),D({event:rn[l]})):D({event:an[l]}),!0}catch(r){return n(r),!1}}},cn=S({resendMagicLinkSuccess:{id:"auth.login.form.resend-link-success",defaultMessage:"Successfully resend a magic link, please check your email."}}),Rt=({children:e})=>{const o=E(),s=new URLSearchParams(window.location.search).has(at);return t.jsxs(gt,{children:[t.jsx(ve,{}),t.jsxs("div",{children:[t.jsx(_,{variant:"h3","data-external-id":"title",children:o.formatMessage(s?je.addAccounts:je.welcomeBack)}),t.jsx(_,{variant:"body1","data-external-id":"subtitle",children:o.formatMessage(je.logInToBayzat)})]}),e]})},je=S({welcomeBack:{id:"auth.login.form.welcome-back",defaultMessage:"Welcome back"},logInToBayzat:{id:"auth.login.form.log-in-to-bayzat",defaultMessage:"Log in to Bayzat"},addAccounts:{id:"auth.login.form.add-accounts",defaultMessage:"Add accounts"}}),ln=({onReEnterEmail:e,submittedEmail:o,onResendLink:n})=>{const s=E();return t.jsxs(Rt,{children:[t.jsx(z,{withIcon:!0,variant:U.Success,message:s.formatMessage(ke.magicLinkSent,{email:o}),primaryAction:{onClick:n,text:s.formatMessage(ke.resendLink)}}),t.jsx(_,{variant:"body1",children:s.formatMessage(ke.wrongEmailReEnter,{a:a=>t.jsx(ee,{onClick:e,children:a})})})]})},ke=S({magicLinkSent:{id:"auth.login.form.magic-link-sent",defaultMessage:"A magic link has been sent to {email}. Use the link to sign in without a password."},wrongEmailReEnter:{id:"auth.login.form.wrong-email-re-enter",defaultMessage:"Wrong email? <a>Re-enter email</a>"},resendLink:{id:"auth.login.form.resend-link",defaultMessage:"Resend link"}});function et(e){const o=document.querySelector(e);o&&"focus"in o&&typeof o.focus=="function"&&o.focus()}function un(){return!!document.querySelector('[data-external-id="error-notification"]')}const dn=()=>{const{autologins:e}=ft(),o=e.find(({isDefault:a})=>a),n=K(),s=qt();return u.useEffect(()=>{if(un())return;const i=new URLSearchParams(n.location.search).get("autologin"),l=i??(o==null?void 0:o.username),c=e.find(({username:g})=>g===l),r=!!i&&i!==Ht&&(c==null?void 0:c.password);c?(Ue.set(!0),setTimeout(()=>s.change("extendedExpiration",!0),0),setTimeout(()=>s.change("username",c.username),0),setTimeout(()=>s.change("password",c.password??""),0),r?setTimeout(s.submit,100):setTimeout(()=>et(c.password?'button[type="submit"]':'input[name="password"]'),0)):(setTimeout(()=>s.change("username",""),0),setTimeout(()=>et('input[name="username"]'),0))},[o,s,n.location.search,e]),null},mn=u.memo(()=>{Z(pt,"DevelopmentAutologin is only available in development mode");const{hasFavorites:e}=ft();return e&&t.jsx(dn,{})});var O=(e=>(e.NO_WARNING="no-warning",e.NO_MATCH_USERNAME_PASSWORD="no-match-username-password",e.LINK_ALREADY_USED="link-already-used",e.SESSION_EXPIRED="session-expired",e))(O||{});const gn=Fe({username:[Ge,Ve({errorMessageGetter:e=>e.formatMessage(b.pleaseEnterYourEmailAddress)})],password:[Ve({isEnabled:e=>!e.loginWithoutPassword,errorMessageGetter:e=>e.formatMessage(b.pleaseEnterYourPassword)})]}),fn=G()(e=>({dividerWrapper:{display:"flex",gap:e.spacing(1),alignItems:"center"},divider:{flexGrow:1},linkContainer:{display:"flex",justifyContent:"space-between"},zeroMargin:{marginTop:0,marginBottom:0}})),pn=({warningState:e,onSubmit:o,onForgotPasswordClicked:n,googleLoginButton:s,microsoftAzureLoginButton:a,onSignUpClicked:i,onToggleLoginWithoutPassword:l,hasSentMagicLink:c,onReEnterEmail:r})=>{const g=E(),{classes:m}=fn(),d=gn(),p=Vt(Yt),w=new URLSearchParams(window.location.search).get("username")??"",f=A=>p(A.shiftKey),C=qe();return t.jsx(Te,{onSubmit:o,initialValues:{extendedExpiration:Ue.get(!1),password:"",username:w},validate:d,render:({handleSubmit:A,values:x})=>c?t.jsx(ln,{onReEnterEmail:r,submittedEmail:x.username,onResendLink:async()=>{await C({username:x.username,expirationDurationType:ht(x.extendedExpiration),variant:"login",isResend:!0})}}):t.jsxs("form",{onSubmit:A,children:[t.jsxs(Rt,{children:[e===O.LINK_ALREADY_USED?t.jsx(xn,{}):e===O.NO_MATCH_USERNAME_PASSWORD?t.jsx(hn,{}):e===O.SESSION_EXPIRED?t.jsx(yn,{}):null,t.jsxs("div",{children:[t.jsx(I,{label:g.formatMessage(b.emailAddress),name:"username",fullWidth:!0}),!x.loginWithoutPassword&&t.jsx(po,{label:g.formatMessage(b.password),name:"password",fullWidth:!0,autoComplete:"password",hideStrengthMeter:!0}),t.jsx(Kt,{onChange:l,fieldMargin:"normal",className:m.zeroMargin,name:"loginWithoutPassword",label:t.jsx(Xt,{heading:g.formatMessage(b.logInWithoutPassword),subtext:g.formatMessage(b.sendMagicLinkToLogIn)})})]}),t.jsx("div",{children:t.jsx(yo,{className:m.zeroMargin,fieldMargin:"normal",label:g.formatMessage(b.rememberMe),name:"extendedExpiration"})}),t.jsx(Ie,{type:"submit",onClick:j=>{f(j),A(j)},"data-external-id":"submit-button",children:g.formatMessage(x.loginWithoutPassword?b.sendMeALink:b.logIn)}),t.jsxs("div",{className:m.dividerWrapper,children:[t.jsx(Ae,{className:m.divider}),t.jsx(_,{variant:"body2",color:"textSecondary",children:g.formatMessage(b.or)}),t.jsx(Ae,{className:m.divider})]}),s,a,t.jsxs("div",{className:m.linkContainer,children:[t.jsx(ee,{to:"/forgot-password",onClick:n,"data-external-id":"forgot-password-link",children:g.formatMessage(b.forgotPassword)}),t.jsx(_,{variant:"body2",color:"textSecondary","data-external-id":"sign-up-text",children:g.formatMessage(b.signUp,{a:j=>t.jsx(ee,{onClick:i,to:"/employee/register",children:j})})})]})]}),pt&&t.jsx(mn,{})]})})},hn=()=>{const e=E();return t.jsx(z,{variant:U.Error,title:e.formatMessage(b.usernamePasswordMismatchError),withIcon:!0,message:e.formatMessage(b.noMatchMessage,{a:o=>t.jsx(ee,{external:!0,to:"mailto:support@bayzat.com",target:"_blank",children:o})})})},xn=()=>{const e=E();return t.jsx(z,{variant:U.Info,title:e.formatMessage(b.linkAlreadyUsedError),withIcon:!0,message:e.formatMessage(b.logInWithYourEmailAndPassword)})},yn=()=>{const e=E();return t.jsx(z,{variant:U.Info,title:e.formatMessage(b.sessionExpiredLogin),withIcon:!0})},b=S({noMatchMessage:{id:"auth.login.form.no-match-message",defaultMessage:"Check your username or password for any errors or check your inbox for a registration link if you have not registered yet. You may contact <a>support@bayzat.com</a> for further assistance."},emailAddress:{id:"common.form.email-address",defaultMessage:"Email address"},password:{id:"common.form.password",defaultMessage:"Password"},rememberMe:{id:"common.form.remember-me",defaultMessage:"Keep me logged in"},logIn:{id:"common.action.log-in",defaultMessage:"Log in"},forgotPassword:{id:"common.form.forgot-password",defaultMessage:"Forgot password?"},usernamePasswordMismatchError:{id:"auth.login.form.username-password-mismatch-error",defaultMessage:"There is no user account that matches this username and password."},linkAlreadyUsedError:{id:"auth.login.form.link-already-used-error",defaultMessage:"Your invitation link has been used to create an account"},logInWithYourEmailAndPassword:{id:"auth.login.form.log-in-with-your-email-and-password",defaultMessage:"Kindly log in with the email and password you used to create your account."},sessionExpiredLogin:{id:"auth.login.form.session-expired-login",defaultMessage:"Your session has expired, please login again."},or:{id:"common.or",defaultMessage:"Or"},signUp:{id:"auth.login.form.sign-up",defaultMessage:"Don't have an account? <a>Sign up</a>"},logInWithoutPassword:{id:"auth.login.form.log-in-without-password",defaultMessage:"Log in without password"},sendMagicLinkToLogIn:{id:"auth.login.form.send-magic-link-to-log-in",defaultMessage:"Send me a magic link to log in"},sendMeALink:{id:"auth.login.form.send-me-a-link",defaultMessage:"Send me a link"},pleaseEnterYourEmailAddress:{id:"validation.error.please-enter-your-email-address",defaultMessage:"Please enter your email address"},pleaseEnterYourPassword:{id:"validation.error.please-enter-your-password",defaultMessage:"Please enter your password"}});function Mn(e={}){const{onScriptLoadSuccess:o,onScriptLoadError:n}=e,[s,a]=u.useState(!1),i=u.useRef(o);i.current=o;const l=u.useRef(n);return l.current=n,u.useEffect(()=>{const c=document.createElement("script");return c.src="https://accounts.google.com/gsi/client",c.async=!0,c.defer=!0,c.onload=()=>{var r;a(!0),(r=i.current)===null||r===void 0||r.call(i)},c.onerror=()=>{var r;a(!1),(r=l.current)===null||r===void 0||r.call(l)},document.body.appendChild(c),()=>{document.body.removeChild(c)}},[]),s}const Lt=u.createContext(null);function vn({clientId:e,onScriptLoadSuccess:o,onScriptLoadError:n,children:s}){const a=Mn({onScriptLoadSuccess:o,onScriptLoadError:n}),i=u.useMemo(()=>({clientId:e,scriptLoadedSuccessfully:a}),[e,a]);return it.createElement(Lt.Provider,{value:i},s)}function wn(){const e=u.useContext(Lt);if(!e)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return e}function jn({flow:e="implicit",scope:o="",onSuccess:n,onError:s,onNonOAuthError:a,overrideScope:i,...l}){const{clientId:c,scriptLoadedSuccessfully:r}=wn(),g=u.useRef(),m=u.useRef(n);m.current=n;const d=u.useRef(s);d.current=s;const p=u.useRef(a);p.current=a,u.useEffect(()=>{var f;if(!r)return;const C=e==="implicit"?"initTokenClient":"initCodeClient",A=(f=window.google)===null||f===void 0?void 0:f.accounts.oauth2[C]({client_id:c,scope:i?o:`openid profile email ${o}`,callback:x=>{var j,y;if(x.error)return(j=d.current)===null||j===void 0?void 0:j.call(d,x);(y=m.current)===null||y===void 0||y.call(m,x)},error_callback:x=>{var j;(j=p.current)===null||j===void 0||j.call(p,x)},...l});g.current=A},[c,r,e,o]);const M=u.useCallback(f=>g.current.requestAccessToken(f),[]),w=u.useCallback(()=>g.current.requestCode(),[]);return e==="implicit"?M:w}const kn=xt(t.jsx(t.Fragment,{children:t.jsxs("g",{fill:"#000",fillRule:"evenodd",children:[t.jsx("path",{d:"M9 3.48c1.69 0 2.83.73 3.48 1.34l2.54-2.48C13.46.89 11.43 0 9 0 5.48 0 2.44 2.02.96 4.96l2.91 2.26C4.6 5.05 6.62 3.48 9 3.48z",fill:"#EA4335"}),t.jsx("path",{d:"M17.64 9.2c0-.74-.06-1.28-.19-1.84H9v3.34h4.96c-.1.83-.64 2.08-1.84 2.92l2.84 2.2c1.7-1.57 2.68-3.88 2.68-6.62z",fill:"#4285F4"}),t.jsx("path",{d:"M3.88 10.78A5.54 5.54 0 0 1 3.58 9c0-.62.11-1.22.29-1.78L.96 4.96A9.008 9.008 0 0 0 0 9c0 1.45.35 2.82.96 4.04l2.92-2.26z",fill:"#FBBC05"}),t.jsx("path",{d:"M9 18c2.43 0 4.47-.8 5.96-2.18l-2.84-2.2c-.76.53-1.78.9-3.12.9-2.38 0-4.4-1.57-5.12-3.74L.97 13.04C2.45 15.98 5.48 18 9 18z",fill:"#34A853"}),t.jsx("path",{fill:"none",d:"M0 0h18v18H0z"})]})}),"GoogleLogo"),An=e=>t.jsx(kn,{...e,viewBox:"0 0 18 18"});let tt=!1;const ot=S({logInWithGoogle:{id:"auth.login.log-in-with-google",defaultMessage:"Log in with Google"},signup:{id:"auth.login.sign-up-with-google",defaultMessage:"Sign up with Google"}}),bn=({type:e,onSuccess:o,onError:n})=>{const s=E(),a=jn({flow:"auth-code",onSuccess:o,onError:n,onNonOAuthError:n}),i=()=>a();return t.jsx(yt,{startIcon:t.jsx(An,{}),onClick:i,variant:"outlined",children:e==="signin"?s.formatMessage(ot.logInWithGoogle):s.formatMessage(ot.signup)})},En=({type:e,onGoogleLoginSuccess:o,onGoogleLoginFailed:n})=>{const s=Jt();if(!s)return tt||(console.error("No google login key set for environment"),tt=!0),null;const a=async c=>{"code"in c?o({code:c.code}):n({error:"An error happened, there is no code in response."})},i=async()=>{n({error:"An error happened, please try again later."})},l=async()=>{n({error:"Google Login is not available in your browser."})};return t.jsx(vn,{clientId:s,onScriptLoadError:l,children:t.jsx(bn,{type:e,onSuccess:a,onError:i})})},Cn=xt(t.jsxs(t.Fragment,{children:[t.jsx("path",{fill:"#f3f3f3",d:"M0 0h23v23H0z"}),t.jsx("path",{fill:"#f35325",d:"M1 1h10v10H1z"}),t.jsx("path",{fill:"#81bc06",d:"M12 1h10v10H12z"}),t.jsx("path",{fill:"#05a6f0",d:"M1 12h10v10H1z"}),t.jsx("path",{fill:"#ffba08",d:"M12 12h10v10H12z"})]}),"MicrosoftLogo"),_n=`${window.location.origin}/auth/azure`,Rn=`https://login.microsoftonline.com/common/oauth2/v2.0/authorize?client_id=${Mt()}&response_type=code&redirect_uri=${_n}&response_mode=query&scope=offline_access%20user.read`,Ln=e=>`${Rn}&state=${e}`,Sn=({type:e})=>{try{const o=Mt();return Z(o,"No Microsoft Azure login key set for environment"),t.jsx(Pn,{type:e})}catch{return null}},Pn=({type:e})=>{const o=E(),n=()=>{window.location.href=Ln(e)};return t.jsx(yt,{variant:"outlined",startIcon:t.jsx(Cn,{}),onClick:n,children:e==="signin"?o.formatMessage(nt.logInWithMicrosoft):o.formatMessage(nt.signUpWithMicrosoft)})},nt=S({logInWithMicrosoft:{id:"auth.login.log-in-with-microsoft",defaultMessage:"Log in with Microsoft"},signUpWithMicrosoft:{id:"auth.login.sign-up-with-microsoft-azure",defaultMessage:"Sign up with Microsoft"}}),Nn=()=>{const e=E(),o=K(),{logAccessTokenInfo:n}=vt(),{loginAction:s}=Y(),a=new URLSearchParams(window.location.search).has("expired"),i=o.location.state,[l,c]=u.useState((i==null?void 0:i.reason)??(a?O.SESSION_EXPIRED:O.NO_WARNING)),{mutateAsync:r}=ho(),{mutateAsync:g}=tn(),m=qe(),d=ze(),[p,M]=u.useState(!1),w=async y=>{const{username:R,password:B,extendedExpiration:X,loginWithoutPassword:Tt}=y;Ue.set(X);try{if(Tt)c(O.NO_WARNING),await m({username:R,expirationDurationType:ht(X),variant:"login"})&&M(!0);else{D({event:"app-auth.login.click_login"});const q=await r({urlParams:void 0,data:{username:R,password:B,extendedExpiration:X}});n({accessToken:q.accessToken,refreshToken:q.refreshToken}),await be(0),s(q.accessToken,X)}}catch(q){const oe=Ee(q);if(oe)if(Q(oe.errors,{code:"BE-AB-AE",status:401}))c(O.NO_MATCH_USERNAME_PASSWORD);else if(Q(oe.errors,{code:"BE-API-MFA"}))o.push("/mfa-verification",{loginFormValues:y,mfaType:"totp"});else if(Q(oe.errors,{code:"BE-API-MFA-SMS"}))o.push("/mfa-verification",{loginFormValues:y,mfaType:"sms"});else{const It=Ye({reason:oe});d.error({message:It})}else d.error({message:e.formatMessage(st.tryAgainLater)});throw q}},f=()=>{D({event:"app-auth.login.click_forgotPassword"})},C=()=>{D({event:"app-auth.login.click_signUp"})},A=()=>{D({event:"app-auth.login.click_togglePasswordlessLogin"})},x=u.useCallback(async({code:y})=>{D({event:"app-auth.login.click_loginViaGoogle"});try{const B=await g({urlParams:void 0,data:{extendedExpiration:!0,token:y}});await be(0),s(B.accessToken)}catch(R){const B=Ee(R);if(B)if(Q(B.errors,{code:"BE-API-MFA"}))d.error({message:e.formatMessage({id:"auth.login.mfa-enabled-explanation",defaultMessage:"You have enabled Multi Factor Authentication, please use your password to login",description:"Explanation for MFA after google login"})});else{const X=Ye({reason:B});d.error({message:X})}else d.error({message:e.formatMessage(st.tryAgainLater)});throw R}},[g,e,s,d]),j=u.useCallback(({error:y})=>{d.error({message:y})},[d]);return t.jsx(pn,{warningState:l,onSubmit:w,onForgotPasswordClicked:f,onSignUpClicked:C,onToggleLoginWithoutPassword:A,onReEnterEmail:()=>M(!1),hasSentMagicLink:p,googleLoginButton:t.jsx(En,{type:"signin",onGoogleLoginSuccess:x,onGoogleLoginFailed:j}),microsoftAzureLoginButton:t.jsx(Sn,{type:"signin"})})},st=S({tryAgainLater:{id:"common.error.try-again-later",defaultMessage:"An error happened, please try again later."}}),Tn=$e("/login/oauth","post",{apiUrlPrefix:We,isGlobalProgressEnabled:!0});function St(e={}){const o=Tn(St);return De({mutationFn:o,...e})}const In=$e("/register/oauth","post",{apiUrlPrefix:We,isGlobalProgressEnabled:!0});function Pt(e={}){const o=In(Pt);return De({mutationFn:o,...e})}const Fn=G()(e=>({container:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:e.spacing(2)}})),zn=()=>{const e=E(),{classes:o}=Fn(),n=K(),{loginAction:s,state:a}=Y(),{handleRequestExceptionAlert:i}=te(),l=new URLSearchParams(window.location.search),c=l.get("code"),r=l.get("state"),{mutateAsync:g,isPending:m,isError:d}=St(),{mutateAsync:p,isPending:M,isError:w}=Pt(),f=m||M,C=d||w;return u.useEffect(()=>{(async()=>{try{if(c){let x;r==="signup"?x=await p({authorizationCode:c,serviceType:"azure",expirationDurationType:"month"}):x=await g({authorizationCode:c,serviceType:"azure",expirationDurationType:"month"}),s(x.payload.data.accessToken),n.pushToApp(F.APP_AUTH,"/login")}}catch(x){i(x)}})()},[c,r,i,n,s,g,p,a.isLoggedIn]),t.jsxs("div",{className:o.container,children:[f&&t.jsxs(t.Fragment,{children:[t.jsx(Ne,{}),t.jsx(_,{variant:"h5",children:r==="signup"?e.formatMessage(ne.registerWithMicrosoftInProgress):e.formatMessage(ne.logInWithMicrosoftInProgress)})]}),C&&t.jsxs(t.Fragment,{children:[t.jsx(Qt,{color:"error",fontSize:"x-large"}),t.jsx(_,{variant:"h5",children:r==="signup"?e.formatMessage(ne.registerWithMicrosoftError):e.formatMessage(ne.logInWithMicrosoftError)}),t.jsx(ee,{app:F.APP_AUTH,to:"/login",children:t.jsx(_,{variant:"h6",children:e.formatMessage(ne.goBack)})})]})]})},ne=S({logInWithMicrosoftInProgress:{id:"auth.login.log-in-with-microsoft-in-progress",defaultMessage:"Microsoft Azure login is in progress..."},registerWithMicrosoftInProgress:{id:"auth.login.register-with-microsoft-in-progress",defaultMessage:"Microsoft Azure registration is in progress..."},logInWithMicrosoftError:{id:"auth.login.log-in-with-microsoft-error",defaultMessage:"There is an error happened while logging in. Please try again later"},registerWithMicrosoftError:{id:"auth.login.register-with-microsoft-error",defaultMessage:"There is an error happened in registration. Please try again later"},goBack:{id:"common.action.go-back",defaultMessage:"Go back"}}),Un=()=>"/auth/login/passwordless",$n=()=>ae({toURLFunction:Un,mapRequestFunction:re(Wn),mapResponseFunction:ie(xo)});function Wn(e){const o={};return o.token=e.token,e.code&&(o.code=e.code),o}function Dn(e){return e===Zt.ThreeDays}const On={login:"app-auth.login.viaMagicLink",register:"app-auth.employee-registration.viaMagicLink"},Gn=({passwordlessLoginToken:e,authVariant:o})=>{const n=E(),s=K(),a=mt(e),{logAccessTokenInfo:i}=vt(),{loginAction:l}=Y(),{handleRequestExceptionAlert:c}=te(),r=qe(),{mutateAsync:g}=$n(),[m,d]=u.useState("no-warning"),p=async()=>{try{const w=await g({urlParams:void 0,data:{token:e}});D({event:On[o]});const{accessToken:f,refreshToken:C}=w;i({accessToken:f,refreshToken:C}),await be(0);const A=Dn(a.expiration_duration_type);l(f,A),s.pushToApp(F.APP_AUTH,"/")}catch(w){const f=Ee(w);f?Q(f.errors,{code:"BE-BB-JEE"})?d("magic-link-expired"):Q(f.errors,{code:"BE-API-MFA"})?s.push("/mfa-verification",{passwordlessLoginToken:e}):d("magic-link-invalid"):c(w)}};Mo(()=>{p()});const M=()=>{const w=a==null?void 0:a.username,f=new URLSearchParams;f.set("addAccounts","true"),w&&f.set("username",w),s.pushToApp(F.APP_AUTH,`/login?${f.toString()}`)};return t.jsxs(gt,{children:[t.jsx(ve,{}),t.jsxs("div",{children:[t.jsx(_,{variant:"h3",children:n.formatMessage(W.welcomeBack)}),t.jsx(_,{variant:"body1",children:n.formatMessage(W.loginToBayzat)})]}),m==="magic-link-expired"?t.jsx(z,{withIcon:!0,variant:U.Error,title:n.formatMessage(W.linkExpired),message:n.formatMessage(W.linkExpiredAlertMessage,{email:a.username}),primaryAction:{onClick:async()=>await r({username:a.username,expirationDurationType:eo.get(a.expiration_duration_type),variant:"login",isResend:!0}),text:n.formatMessage(W.resendLink)}}):m==="magic-link-invalid"?t.jsx(z,{withIcon:!0,variant:U.Error,title:n.formatMessage(W.linkInvalid),message:n.formatMessage(W.linkInvalidAlertMessage)}):t.jsxs(t.Fragment,{children:[t.jsx(_,{variant:"h5",children:n.formatMessage(W.loggingInProgress)}),t.jsx(to,{variant:"indeterminate"})]}),t.jsx("div",{children:t.jsx(ee,{onClick:M,children:n.formatMessage(W.backToLogInPage)})})]})},Bn=()=>{const[e]=ce(),o=e.get("_t"),n=e.get("is_sign_up")==="true"?"register":"login";return o?t.jsx(Gn,{passwordlessLoginToken:o,authVariant:n}):t.jsx(Pe,{to:"/login"})},W=S({welcomeBack:{id:"auth.login.form.welcome-back",defaultMessage:"Welcome back"},loginToBayzat:{id:"auth.login.form.login-to-bayzat",defaultMessage:"Login to Bayzat"},linkExpiredAlertMessage:{id:"auth.login.form.link-expired-alert-message",defaultMessage:"The magic link you have for {email} is expired. You can resend a magic link."},linkInvalidAlertMessage:{id:"auth.login.form.link-invalid-alert-message",defaultMessage:"The magic link you have used is invalid. You can try to login again from the login page"},linkExpired:{id:"auth.login.form.link-expired",defaultMessage:"Link expired"},linkInvalid:{id:"auth.login.form.link-invalid",defaultMessage:"Link invalid"},resendLink:{id:"auth.login.form.resend-link",defaultMessage:"Resend link"},backToLogInPage:{id:"auth.login.form.back-to-log-in-page",defaultMessage:"Back to log in page"},loggingInProgress:{id:"auth.login.form.logging-in-progress",defaultMessage:"We are logging you in, please wait..."}}),qn=$e("/login/read-only-demo","post",{apiUrlPrefix:We});function Nt(e={}){const o=qn(Nt);return De({mutationFn:o,...e})}const Hn=({username:e})=>{const{loginAction:o}=Y(),n=K(),s=oo(),{handleRequestExceptionAlert:a}=te(),[i]=ce(),{mutateAsync:l}=Nt();return u.useEffect(()=>{(async()=>{try{const{payload:r}=await l({username:e,expirationDurationType:"three-days"});o(r.data.accessToken,!0)}catch(r){a(r)}finally{const r=new URLSearchParams;i.forEach((p,M)=>{M.startsWith("utm")&&r.append(M,p)});const g=r.toString(),m=i.get("redir"),d=g?`/?${g}`:"/";if(m){const p=`${m}?${g??""}`;s(p)}else n.pushToApp(F.APP_HRADMIN,d)}})()},[a,e,o,l,n,i,s]),null},Vn=()=>{const[e]=ce(),o=e.get("username");if(o){const n=decodeURIComponent(o);return t.jsx(Hn,{username:n})}return t.jsx(Pe,{to:"/login"})},Yn=()=>{const{state:e,logoutAction:o,reloginAction:n}=Y(),s=K(),{mutateAsync:a}=no(),i=u.useRef(!1);return u.useEffect(()=>{async function l(){var r;if(i.current)return;i.current=!0;try{await a({urlParams:void 0})}catch{}so.flushSync(()=>{o()});const c=ao();if(c){const m=(r=ro().get(c))==null?void 0:r.token;m&&n(m)}s.pushToApp(F.APP_AUTH,"/login")}e.isLoggedIn?l():s.pushToApp(F.APP_AUTH,"/login")},[s,a,o,n,e.isLoggedIn]),null};function Kn(e){const o={};return o.company_name=e.companyName,o.country=rt(e.country),o.email=e.email,o.first_name=e.firstName,o.last_name=e.lastName,o.phone_number=e.phoneNumber,o.recaptcha_token=e.recaptchaToken,o.ucc=e.ucc,o}const Xn=()=>"/cello/lead",Jn=()=>ae({toURLFunction:Xn,mapRequestFunction:re(Kn),mapResponseFunction:ie(Oe),options:{showGlobalProgress:!0}}),Qn=G()(e=>({nameContainer:{display:"flex",width:"100%",gap:e.spacing(2)},topMargin:{marginTop:e.spacing(1)}})),Zn=Fe({email:[Ge,P],firstName:[P],lastName:[P],companyName:[P],phoneNumber:[P],country:[P]}),es=({initialValues:e,onSubmit:o})=>{const n=E(),{classes:s}=Qn(),a=Zn(),i=ct(jt);return t.jsx(Te,{initialValues:e,validate:a,onSubmit:o,render:({handleSubmit:l})=>t.jsxs(t.Fragment,{children:[t.jsx(I,{name:"email",label:n.formatMessage(V.email),fullWidth:!0,required:!0}),t.jsxs("div",{className:s.nameContainer,children:[t.jsx(I,{name:"firstName",label:n.formatMessage(V.firstName),fullWidth:!0,required:!0}),t.jsx(I,{name:"lastName",label:n.formatMessage(V.lastName),fullWidth:!0,required:!0})]}),t.jsx(I,{name:"companyName",label:n.formatMessage(V.companyName),fullWidth:!0,required:!0}),t.jsx(I,{name:"phoneNumber",label:n.formatMessage(V.phoneNumber),fullWidth:!0,required:!0}),t.jsx(wt,{name:"country",label:n.formatMessage(V.country),options:kt,renderOption:i,fullWidth:!0,required:!0}),t.jsx(Ie,{className:s.topMargin,onClick:l,fullWidth:!0,"data-external-id":"submit-button",children:n.formatMessage(V.redeemMyGift)})]})})},V=S({email:{id:"common.form.email-address",defaultMessage:"Email address"},firstName:{id:"auth.contact-us-for-cello.first-name",defaultMessage:"First Name"},lastName:{id:"common.last-name",defaultMessage:"Last Name"},companyName:{id:"auth.contact-us-for-cello.company-name",defaultMessage:"Company name"},phoneNumber:{id:"auth.contact-us-for-cello.phone-number",defaultMessage:"Phone number"},country:{id:"auth.contact-us-for-cello.country",defaultMessage:"Country"},redeemMyGift:{id:"auth.contact-us-for-cello.redeem-my-gift",defaultMessage:"Redeem My Gift"}}),ts="cello_contact_us_page",os=G()(e=>({mainContainer:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},nameContainer:{display:"flex",width:"100%",gap:e.spacing(2)},topMargin:{marginTop:e.spacing(1)},alertContainer:{marginTop:e.spacing(5)}})),ns=()=>{const e=E(),{classes:o}=os(),{handleRequestExceptionAlert:n}=te(),{executeRecaptcha:s}=Et(),[a]=ce(),i=a.get("ucc"),l=a.get("celloN"),c=l?atob(l):void 0,{mutateAsync:r,isSuccess:g}=Jn(),m=async d=>{const p=await(s==null?void 0:s(ts));try{Z(i,"uniqueCompanyCode can not be null"),Z(p,"recaptchaToken can not be null"),await r({urlParams:void 0,data:{...d,ucc:i,recaptchaToken:p}})}catch(M){n(M)}};return t.jsx(lt,{children:t.jsxs(ut,{direction:"column",spacing:4,alignContent:"stretch",children:[t.jsx(ve,{onClick:()=>window.open(window.location.origin,"_blank")}),t.jsx("div",{className:o.mainContainer,children:dt.isNil(i)?t.jsx(z,{variant:U.Error,title:e.formatMessage(J.uccCodeNeededTitle),message:e.formatMessage(J.uccCodeNeeded),withIcon:!0,className:o.alertContainer}):t.jsxs(t.Fragment,{children:[t.jsx(_,{variant:"h3",mt:5,textAlign:"center",children:c?e.formatMessage(J.nameHasGiftedYou,{name:c}):e.formatMessage(J.someoneHasGiftedYou)}),t.jsx(_,{variant:"body1",mb:5,mt:1,color:"textSecondary",textAlign:"center",children:e.formatMessage(J.automateYourHr)}),g?t.jsx(z,{variant:U.Success,message:e.formatMessage(J.thanksForYourRequest),withIcon:!0,className:o.alertContainer}):t.jsx(es,{onSubmit:m})]})})]})})},J=S({thanksForYourRequest:{id:"auth.contact-us-for-cello.thanks-for-your-request",defaultMessage:"Thanks for your request, a member of our team will be reaching out to you shortly."},nameHasGiftedYou:{id:"auth.contact-us-for-cello.name-has-gifted-you",defaultMessage:"{name} has gifted you 3 free months of Bayzat"},someoneHasGiftedYou:{id:"auth.contact-us-for-cello.someone-has-gifted-you",defaultMessage:"Someone has gifted you 3 free months of Bayzat"},automateYourHr:{id:"auth.contact-us-for-cello.automate-your-hr",defaultMessage:"Automate your HR, Payroll and Employee Benefits with our all-in-one work life platform. Say goodbye to admin and hello to a world-class experience."},uccCodeNeededTitle:{id:"auth.contact-us-for-cello.ucc-code-needed-title",defaultMessage:"Referral Code Needed"},uccCodeNeeded:{id:"auth.contact-us-for-cello.ucc-code-needed",defaultMessage:"We couldn't find a valid referral code to move forward."}}),T=wo(),ss=()=>t.jsxs(io,{children:[t.jsx(v,{index:!0,element:t.jsx(At,{children:t.jsx(Eo,{})})}),t.jsx(v,{path:"employee/register",element:t.jsx($,{withRedirection:!1,children:t.jsx(T,{withoutSession:!0,component:u.lazy(()=>N(()=>import("./EmployeeRegistration.route-jngMi4Jo__cache.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25])))})})}),t.jsx(v,{path:"employee/ha-register",element:t.jsx(go,{children:t.jsx(T,{withoutSession:!0,component:u.lazy(()=>N(()=>import("./HealthInsuranceOnlyEmployeeRegistration.route-IhNIPQY8__cache.js"),__vite__mapDeps([26,1,2,3,4,5,6,7,27,8,12,13,14,15,16,17,18,9,10,19,11,20,21,22,23,24,25])))})})}),t.jsx(v,{path:"login",element:t.jsx($,{children:t.jsx(Nn,{})})}),t.jsx(v,{path:"passwordless-login",element:t.jsx($,{withRedirection:!1,children:t.jsx(Bn,{})})}),t.jsx(v,{path:"azure",element:t.jsx($,{withRedirection:!1,children:t.jsx(zn,{})})}),t.jsx(v,{path:"logout",element:t.jsx(Yn,{})}),t.jsx(v,{path:"forgot-password",element:t.jsx($,{withRedirection:!1,children:t.jsx(T,{withoutSession:!0,component:u.lazy(()=>N(()=>import("./ForgotPassword.route-6mVUA8Yd__cache.js"),__vite__mapDeps([28,1,9,10,7,11])))})})}),t.jsx(v,{path:"mfa-verification",element:t.jsx($,{children:t.jsx(T,{withoutSession:!0,component:u.lazy(()=>N(()=>import("./MfaVerification.route-nct_kbWN__cache.js"),__vite__mapDeps([29,1,2,4,5,6,7,12,13,14,15,16,17,18,9,10,19,11,20,21,22,23,24,25])))})})}),t.jsxs(v,{path:"security",element:t.jsx(co,{}),children:[t.jsx(v,{index:!0,element:t.jsx(T,{component:u.lazy(()=>N(()=>import("./Security.route-8E-H_amr__cache.js"),__vite__mapDeps([30,1,31,32,33,34,35,36]))),can:le})}),t.jsx(v,{path:"change-password",element:t.jsx(T,{component:u.lazy(()=>N(()=>import("./ChangePassword.route-Zc9pHr8C__cache.js"),__vite__mapDeps([37,1,31,32,33,34,35,38,39,4,5,6,7,40,8]))),can:le})}),t.jsx(v,{path:"multi-factor-authentication",element:t.jsx(T,{component:u.lazy(()=>N(()=>import("./MFAEnable.route-8XW17A_p__cache.js"),__vite__mapDeps([41,1,31,32,33,34,35]))),can:le})}),t.jsx(v,{path:"disable-mfa",element:t.jsx(T,{component:u.lazy(()=>N(()=>import("./MFADisable.route-yHzrtjpO__cache.js"),__vite__mapDeps([42,1,31,32,33,34,35]))),can:le})})]}),t.jsx(v,{path:"reset-password",element:t.jsx($,{withRedirection:!1,children:t.jsx(T,{withoutSession:!0,component:u.lazy(()=>N(()=>import("./ResetPassword.route-QqbTQ5r-__cache.js"),__vite__mapDeps([43,1,4,5,6,7,8])))})})}),t.jsx(v,{path:"success",element:t.jsx(bo,{children:t.jsx(T,{withoutSession:!0,component:u.lazy(()=>N(()=>import("./RegistrationSuccess.route-qO1YU75o__cache.js"),__vite__mapDeps([44,1])))})})}),t.jsxs(v,{path:"xero-contact-us",children:[t.jsx(v,{index:!0,element:t.jsx($,{withRedirection:!1,children:t.jsx(Vo,{})})}),t.jsx(v,{path:"connect",element:t.jsx(Jo,{})})]}),t.jsx(v,{path:"cello-contact-us",element:t.jsx($,{withRedirection:!1,children:t.jsx(ns,{})})}),t.jsx(v,{path:"impersonate",element:t.jsx(lo,{children:t.jsx(T,{component:u.lazy(()=>N(()=>import("./Impersonation.route-HS0ccTL1__cache.js"),__vite__mapDeps([45,1,9,10,7,11]))),can:vo})})}),t.jsx(v,{path:"read-only-demo-login",element:t.jsx(Vn,{})}),t.jsx(v,{path:"*",element:t.jsx(uo,{fallbackLabel:"Go back to log in",fallbackUrl:"/auth"})})]});function as(){return t.jsx(To,{reCaptchaKey:mo(),children:t.jsx(ss,{})})}const vs=Object.freeze(Object.defineProperty({__proto__:null,default:as},Symbol.toStringTag,{value:"Module"}));export{vs as A,En as L,Sn as a,O as b,$n as c,Zo as d,Et as g,Dn as h,Qo as s,qe as u};
