import{H as N,r as o,j as a,fw as y,f$ as B,fx as R,gk as $,a3 as q,bp as G,bb as J,B as K,a0 as Q,gn as U,go as X}from"./assets/index-rhBbSAok.js";import{S as Y}from"./Select-2iMMU_Ha__cache.js";function O(e){return e.disabled!==void 0}const Z=N()(e=>({alertIcon:{marginLeft:e.spacing(1),width:14,height:14},disabledTooltipFix:{pointerEvents:"initial"},noHoverOnDisabledItem:{"&:hover":{backgroundColor:"transparent"}},disabledLabel:{color:e.palette.text.disabled}}));function ne(e){var v;const{classes:d,cx:C}=Z(),{dataPrivacyOption:j="mask",errorMessage:k,helperText:I,renderOption:_,value:i,options:l,size:S,className:V,hiddenLabel:E,addNew:s,menuItemMaxWidth:M,MenuProps:W,required:w,open:c,...r}=e,x=k||I||"",b=Array.isArray(i)?i.length>0:i,m=l&&b&&l.indexOf(i),f=l&&b?m===-1?"":m:i,[z,u]=o.useState(!1),A=o.useMemo(()=>{if(e.renderValue){const n=e.renderValue;return e.multiple?e.renderValue:t=>n(l==null?void 0:l[t])}else return},[e.renderValue,e.multiple,l]),F=o.useCallback(n=>{const t=n.target.value;if(e.onChange)if(l){const h=l[Number(t)];e.onChange(h)}else(e.children||e.multiple)&&e.onChange(t)},[l,e]),L=()=>{s==null||s.onClick(),u(!1)},P=o.useCallback(n=>{var t;c===void 0&&u(!0),(t=r.onOpen)==null||t.call(r,n)},[c,r]),T=o.useCallback(()=>{u(!1)},[]);return a.jsxs(y,{...B(j),error:!!e.error,fullWidth:e.fullWidth,size:S,variant:"outlined",sx:{minWidth:180},classes:{root:V},hiddenLabel:E,required:w,children:[e.label&&a.jsx(R,{htmlFor:e.name,shrink:!0,variant:"filled",className:e.disabled?d.disabledLabel:void 0,children:e.label}),a.jsxs(Y,{...r,displayEmpty:!0,value:e.multiple?f:String(f),onChange:F,onOpen:P,onClose:T,input:e.input??a.jsx($,{notched:!1}),renderValue:A,open:c??z,MenuProps:{anchorOrigin:{horizontal:"left",vertical:"bottom"},transformOrigin:{horizontal:"left",vertical:"top"},...W},children:[!e.children&&((v=e.options)==null?void 0:v.map((n,t)=>{const h=O(n)&&n.disabled,g=O(n)&&n.disabled&&n.disabledReason,D=e.renderOption?e.renderOption(n):n;return a.jsxs(q,{value:t,disabled:h,classes:{disabled:d.noHoverOnDisabledItem},sx:{maxWidth:M,whiteSpace:"initial"},children:[D,g?a.jsx(G,{title:g,arrow:!0,children:a.jsx(J,{className:C(d.alertIcon,d.disabledTooltipFix),fontSize:"xx-small",onClick:H=>H.stopPropagation()})}):null]},t)})),e.children,s&&a.jsx(K,{pt:1,px:1,children:a.jsx(Q,{"data-external-id":"add-new-button",variant:"outlined",onClick:L,startIcon:a.jsx(U,{fontSize:"x-small"}),fullWidth:!0,children:s.label})})]}),x&&a.jsx(X,{"data-external-id":e.name+"-helper-text",children:x})]})}export{ne as S};
