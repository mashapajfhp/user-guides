import{g4 as O,hb as q,h_ as j,hd as z,h2 as G,j as r,gs as n,gr as K,r as J,H as Q,h$ as U,hW as b}from"./assets/index-rhBbSAok.js";import{D as X,A as Y,u as Z,q as ee,ad as ae,P as te,e as oe}from"./PickersLayout-LyIBs7iN__cache.js";import{P as se}from"./useDesktopPicker-ru3jT7CX__cache.js";import{T as ne}from"./TextField-TqOYmhqJ__cache.js";const re=O(q)({[`& .${j.container}`]:{outline:0},[`& .${j.paper}`]:{outline:0,minWidth:X}}),ie=O(z)({"&:first-of-type":{padding:0}});function le(a){const{children:o,onDismiss:s,open:i,slots:t,slotProps:e}=a,l=(t==null?void 0:t.dialog)??re,c=(t==null?void 0:t.mobileTransition)??G;return r.jsx(l,n({open:i,onClose:s},e==null?void 0:e.dialog,{TransitionComponent:c,TransitionProps:e==null?void 0:e.mobileTransition,PaperComponent:t==null?void 0:t.mobilePaper,PaperProps:e==null?void 0:e.mobilePaper,children:r.jsx(ie,{children:o})}))}const ce=["props","getOpenDialogAriaText"],ye=a=>{var $;let{props:o,getOpenDialogAriaText:s}=a,i=K(a,ce);const{slots:t,slotProps:e,className:l,sx:c,format:d,formatDensity:x,enableAccessibleFieldDOMStructure:R,selectedSections:V,onSelectedSectionsChange:M,timezone:W,name:v,label:g,inputRef:h,readOnly:T,disabled:y,localeText:I}=o,D=J.useRef(null),m=Y(),F=(($=e==null?void 0:e.toolbar)==null?void 0:$.hidden)??!1,{open:L,actions:f,layoutProps:N,renderCurrentView:_,fieldProps:A,contextValue:E}=Z(n({},i,{props:o,fieldRef:D,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"mobile"})),k=t.field,u=ee({elementType:k,externalSlotProps:e==null?void 0:e.field,additionalProps:n({},A,F&&{id:m},!(y||T)&&{onClick:f.onOpen,onKeyDown:ae(f.onOpen)},{readOnly:T??!0,disabled:y,className:l,sx:c,format:d,formatDensity:x,enableAccessibleFieldDOMStructure:R,selectedSections:V,onSelectedSectionsChange:M,timezone:W,label:g,name:v},h?{inputRef:h}:{}),ownerState:o});u.inputProps=n({},u.inputProps,{"aria-label":s(A.value)});const H=n({textField:t.textField},u.slots),S=t.layout??te;let P=m;F&&(g?P=`${m}-label`:P=void 0);const p=n({},e,{toolbar:n({},e==null?void 0:e.toolbar,{titleId:m}),mobilePaper:n({"aria-labelledby":P},e==null?void 0:e.mobilePaper)}),B=oe(D,u.unstableFieldRef);return{renderPicker:()=>r.jsxs(se,{contextValue:E,localeText:I,children:[r.jsx(k,n({},u,{slots:H,slotProps:p,unstableFieldRef:B})),r.jsx(le,n({},f,{open:L,slots:t,slotProps:p,children:r.jsx(S,n({},N,p==null?void 0:p.layout,{slots:t,slotProps:p,children:_()}))}))]})}},de=Q()({wrapper:{display:"flex",flexDirection:"column",width:"100%"}}),pe={"٠":"0","١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9"},ue={ش:"ص",ح:"م",a:"ص",p:"م",A:"ص",P:"م"},me={ش:"a",ح:"p",ص:"a",م:"p"},C=a=>a.replace(/[\u0660-\u0669]/g,o=>pe[o]),xe=(a,o)=>o===b.Ar?a.replace(/^[شحapAP]$/,s=>ue[s]):a.replace(/^[مصشح]$/,s=>me[s]),fe=(a,o,s)=>{if(!s.endsWith(" aa"))return C(a);const i=a.match(o===b.Ar?/^(.*) \u2066\u2068(.*)\u2069\u2069$/:/^(.*) (.*)$/);if(i){const[t,e]=i.slice(1),l=C(t),c=xe(e,o);return o===b.Ar?`${l} ⁦⁨${c}⁩⁩`:`${l} ${c}`}return a},w=a=>{const{locale:o}=U(),{fieldType:s,onChange:i,...t}=a,e=`${s}-input-${a.name}`,{classes:l}=de(),c=d=>{const x=fe(d.target.value,o,d.target.placeholder);i&&i({...d,target:{...d.target,value:x}})};return r.jsx("div",{"data-external-id":e,className:l.wrapper,children:r.jsx(ne,{...t,onChange:c})})},De=a=>r.jsx(w,{...a,fieldType:"date"}),Fe=a=>r.jsx(w,{...a,fieldType:"time"});export{De as D,Fe as T,ye as u};
