import{ad as $,j as n,ae as D,r as a,H as E,af as h,a as w,hu as F,hv as G,fT as K,fO as Y,bp as H,P as O,T,ai as B,a0 as U,fM as S,fP as N,d as V}from"./assets/index-rhBbSAok.js";import{A as _}from"./ArrowButtonRight1Icon-mIZi9wNh__cache.js";import{v as q}from"./index.m-hKwAibfH__cache.js";const A="arrows-diagrams/arrow-button-left-1",J=`${D}#${A}`,R=$(n.jsx("use",{href:J}),"ArrowButtonLeft1");R.id=A;const v=V({moveAll:{id:"common.transfer-lists.move-all",defaultMessage:"Move all"},removeAll:{id:"common.transfer-lists.remove-all",defaultMessage:"Remove all"},moveToIncludedList:{id:"common.transfer-lists.move-to-include-list",defaultMessage:"Move to included list"},notIncludedList:{id:"common.transfer-lists.not-included-list",defaultMessage:"Not included list"},excludeFromList:{id:"common.transfer-lists.exclude-from-list",defaultMessage:"Exclude from list"},includedList:{id:"common.transfer-lists.included-list",defaultMessage:"Included list"}});function Q(t){return typeof t.key=="string"||typeof t.key=="number"}const W=a.createContext(!1),k=E()((t,{themeVariant:l="default"},r)=>({container:{display:"flex",gap:1},paper:{overflow:"hidden"},headingWrapper:{display:"flex",flexDirection:"row",alignItems:"baseline",gap:t.spacing(1),paddingLeft:t.spacing(2),paddingRight:t.spacing(1),paddingTop:t.spacing(1),paddingBottom:t.spacing(1)},heading:{flexGrow:1},transferList:{display:"flex",flexDirection:"column",[`& .${r.headingWrapper}`]:{backgroundColor:l==="default"?h.grey[200]:h.grey[100]}},leftTransferList:{backgroundColor:l==="default"?h.grey[200]:h.grey[100],minWidth:"40%",[`& .${r.listItem}::after`]:{backgroundColor:l==="default"?h.grey[300]:h.grey[200]},[t.breakpoints.down("sm")]:{minWidth:"50%"}},rightTransferList:{minWidth:"60%",[t.breakpoints.down("sm")]:{minWidth:"50%"}},list:{padding:0,flexGrow:1},overflowY:{overflowY:"auto"},listItem:{position:"relative",width:"100%",marginBottom:1,"&::after":{position:"absolute",content:'""',backgroundColor:h.grey[200],left:t.spacing(2),right:t.spacing(2),bottom:-1,height:1},"&:last-child":{marginBottom:0},"&:last-child::after":{display:"none"}},listItemIcon:{minWidth:"initial","& svg":{fontSize:"1rem"}},actionIconWrapper:{display:"inline-flex"},hiddenVisibility:{visibility:"hidden"},emptyTextWrapper:{display:"flex",alignItems:"center",justifyContent:"center",flexGrow:1}})),it=({isPending:t=!1,className:l,children:r})=>{const{classes:f,cx:c}=k({});return n.jsx(W.Provider,{value:t,children:n.jsx("div",{className:c(f.container,l),"data-external-id":"transferlist",children:r})})},X=[0,1,2,3,4];function at({className:t,themeVariant:l,bulkActionButtonText:r,actionTooltip:f,heading:c,...e}){const{classes:i,cx:s}=k({themeVariant:l}),d=w(),x=F();return n.jsx(P,{...e,className:s(i.transferList,i.leftTransferList,t),bulkActionButtonText:r??d.formatMessage(v.moveAll),actionTooltip:f??d.formatMessage(v.moveToIncludedList),actionIcon:x===G.LeftToRight?n.jsx(_,{fontSize:"x-small"}):n.jsx(R,{fontSize:"x-small"}),heading:c??d.formatMessage(v.notIncludedList),pendingList:X,"data-external-id":"left-transferlist"})}const Z=[0,1,2];function ot({className:t,themeVariant:l,bulkActionButtonText:r,actionTooltip:f,heading:c,...e}){const{classes:i,cx:s}=k({themeVariant:l}),d=w();return n.jsx(P,{...e,className:s(i.transferList,i.rightTransferList,t),bulkActionButtonText:r??d.formatMessage(v.removeAll),actionTooltip:f??d.formatMessage(v.excludeFromList),actionIcon:n.jsx(K,{fontSize:"x-small"}),heading:c??d.formatMessage(v.includedList),pendingList:Z,"data-external-id":"right-transferlist"})}function P({className:t,heading:l,bulkActionButtonText:r,emptyText:f,actionTooltip:c,actionIcon:e,list:i,pendingList:s,render:d,renderPending:x=()=>n.jsx(B,{width:"75%","data-external-id":"transfer-list-skeleton"}),onItemClick:p=()=>{},onBulkActionButtonClick:I=()=>{},"data-external-id":C}){const{classes:m,cx:L}=k({}),y=w(),g=a.useContext(W),o=a.useMemo(()=>tt(),[]),u=a.useMemo(()=>i?{onItemClick:p,list:i}:void 0,[p,i]),b=a.useCallback((j,M)=>Q(M)?M.key:j,[]),z=a.useCallback((j,M)=>n.jsxs(n.Fragment,{children:[d({intl:y,item:M}),n.jsx(Y,{className:m.listItemIcon,children:n.jsx(H,{title:c,placement:"top",children:n.jsx("span",{className:m.actionIconWrapper,children:e})})})]}),[d,y,m.listItemIcon,c,e,m.actionIconWrapper]);return n.jsxs(O,{elevation:0,className:L(m.paper,t),"data-external-id":C,children:[n.jsxs("div",{className:m.headingWrapper,children:[n.jsxs(T,{variant:"subtitle1",className:m.heading,"data-external-id":"transfer-list-header-text",children:[g?n.jsx(B,{width:"25%","data-external-id":"transfer-list-skeleton"}):l,!g&&i!==void 0&&` (${i.length})`]}),n.jsx(U,{onClick:I,endIcon:e,className:L(g&&m.hiddenVisibility),"data-external-id":"transfer-list-move-all-button",children:r})]}),g&&n.jsx(S,{className:L(m.list,m.overflowY),"data-external-id":"transfer-list",children:s.map(j=>n.jsx(N,{className:m.listItem,disabled:!0,children:x()},j))}),!g&&i&&i.length>0?n.jsx(q,{context:u,components:o,data:i,computeItemKey:b,itemContent:z}):f&&n.jsx("div",{className:m.emptyTextWrapper,children:n.jsx(T,{variant:"body2",color:"textSecondary",children:f})})]})}function tt(){return{List:a.forwardRef(({style:t,children:l},r)=>{const{classes:f}=k({});return n.jsx(S,{className:f.list,style:t,"data-external-id":"transfer-list",component:"div",ref:r,children:l})}),Item:a.forwardRef(({children:t,context:l,...r},f)=>{const{classes:c}=k({}),{onItemClick:e,list:i}=l,s=i[r["data-item-index"]];return n.jsx(N,{...r,className:c.listItem,sx:{margin:0,minWidth:"200px"},ref:f,component:"div",onClick:()=>e(s),disabled:s.disabled,"aria-disabled":s.disabled,"data-external-id":"transfer-list-list-item",children:t})})}}function lt({render:t,initialLeftItems:l,initialRightItems:r,leftItemsComparator:f,filter:c}){const[e,i]=a.useState(l),[s,d]=a.useState(r),x=a.useMemo(()=>f?e.sort(f):e,[e,f]),p=a.useMemo(()=>c?x.filter(c):x,[x,c]),I=a.useMemo(()=>c?s.filter(c):s,[s,c]),C=a.useCallback(()=>{const o=new Set(p.filter(({disabled:u})=>!u));i(e.filter(u=>!o.has(u))),d([...o,...s])},[e,p,s]),m=a.useCallback(()=>{const o=new Set(I.filter(({disabled:u})=>!u));i([...o,...e]),d(s.filter(u=>!o.has(u)))},[e,s,I]),L=a.useCallback(o=>{i(e.filter(u=>u!==o)),d([o,...s])},[e,s]),y=a.useCallback(o=>{i([o,...e]),d(s.filter(u=>u!==o))},[e,s]),g=a.useCallback((o,u)=>{u?(d(s.filter(b=>!o.includes(b))),i([...o,...e])):(i(e.filter(b=>!o.includes(b))),d([...o,...s]))},[e,s]);return a.useMemo(()=>({leftListProps:{render:t,filteredList:p,completeList:e,onBulkActionButtonClick:C,onItemClick:L},rightListProps:{render:t,filteredList:I,completeList:s,onBulkActionButtonClick:m,onItemClick:y},manuallyMoveItems:g}),[t,e,p,C,L,s,I,m,y,g])}export{at as L,ot as R,it as T,lt as u};
