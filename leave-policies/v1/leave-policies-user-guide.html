<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Leave Policies - User Guide | Bayzat</title>
  <style>
/* ===============================
   GLOBAL RESET
================================ */
*, *::before, *::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

/* ===============================
   BASE TYPOGRAPHY
================================ */
body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
  line-height: 1.6;
  color: #000000;
  background-color: #ffffff;
  max-width: 1060px;
  margin: 0 auto;
  padding: 20px;
}

h1, h2, h3, h4, h5, h6 {
  color: #000000;
  font-weight: 600;
}

p, span, li, td, th, dt, dd {
  color: #000000;
}

a {
  color: #6B46C1;
  text-decoration: none;
}
a:hover {
  text-decoration: underline;
}

hr {
  border: none;
  border-top: 2px solid #E2E8F0;
  margin: 2rem 0;
}

/* ===============================
   HERO SECTION
================================ */
.hero-banner {
  background: linear-gradient(135deg, #6B46C1 0%, #805AD5 100%);
  color: #ffffff;
  padding: 60px 40px;
  border-radius: 12px;
  margin-bottom: 40px;
  text-align: center;
}

.hero-banner h1 {
  font-size: 2.5rem;
  font-weight: 700;
  margin-bottom: 16px;
  color: #ffffff;
}

.hero-subtitle {
  font-size: 1.2rem;
  opacity: 0.95;
  margin-bottom: 20px;
  color: #ffffff;
}

.hero-image {
  margin-top: 24px;
}

.hero-image img {
  max-width: 100%;
  border-radius: 8px;
  box-shadow: 0 8px 24px rgba(0,0,0,0.2);
}

/* ===============================
   MODERN GUIDE NAVIGATION
================================ */
.guide-nav {
  background: linear-gradient(135deg, #f8f9ff 0%, #f0f4ff 100%);
  border-radius: 16px;
  padding: 24px;
  margin-bottom: 40px;
  border: 1px solid #e2e8f0;
}

.nav-header {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 20px;
  padding-bottom: 16px;
  border-bottom: 2px solid #e2e8f0;
}

.nav-icon {
  font-size: 1.5rem;
}

.nav-title {
  font-size: 1.1rem;
  font-weight: 600;
  color: #1a1a2e;
  letter-spacing: -0.02em;
}

.nav-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
  gap: 12px;
}

.nav-card {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 14px 16px;
  background: #ffffff;
  border-radius: 12px;
  text-decoration: none;
  color: #000000;
  font-size: 0.9rem;
  font-weight: 500;
  border: 1px solid #e2e8f0;
  transition: all 0.2s ease;
  box-shadow: 0 1px 3px rgba(0,0,0,0.04);
}

.nav-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(107, 70, 193, 0.15);
  border-color: #6B46C1;
  background: linear-gradient(135deg, #faf5ff 0%, #f3e8ff 100%);
  color: #6B46C1;
  text-decoration: none;
}

.nav-card:active {
  transform: translateY(0);
}

.card-icon {
  font-size: 1.2rem;
  flex-shrink: 0;
}

.card-label {
  line-height: 1.3;
}

/* ===============================
   SECTIONS
================================ */
.section {
  margin-bottom: 3rem;
  padding: 24px;
  background: #ffffff;
  border-radius: 8px;
  border: 1px solid #E2E8F0;
}

.section h2 {
  font-size: 1.75rem;
  font-weight: 600;
  padding-bottom: 0.5rem;
  border-bottom: 2px solid #E2E8F0;
  margin-bottom: 1rem;
}

.subsection {
  margin: 1.5rem 0;
  padding-left: 1rem;
  border-left: 3px solid #E2E8F0;
}

.subsection h3 {
  font-size: 1.1rem;
  font-weight: 600;
  color: #000000;
  margin-bottom: 1rem;
}

/* ===============================
   STRATEGIC CONTEXT
================================ */
.strategic-context {
  margin: 1.5rem 0;
  padding-left: 1rem;
  border-left: 3px solid #E2E8F0;
}

.strategic-header {
  margin-bottom: 1rem;
}

.strategic-header h3 {
  font-size: 1.1rem;
  font-weight: 600;
  color: #000000;
  margin: 0;
}

.strategic-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 16px;
  margin-top: 16px;
}

.strategic-card {
  background: #ffffff;
  border: 1px solid #E2E8F0;
  border-radius: 8px;
  padding: 20px;
}

.strategic-card h4 {
  font-size: 1rem;
  font-weight: 600;
  color: #000000;
  margin: 0 0 12px 0;
}

.strategic-card p {
  font-size: 0.95rem;
  color: #000000;
  margin: 0 0 12px 0;
  line-height: 1.5;
}

.strategic-card ul {
  margin: 0;
  padding-left: 1.25rem;
}

.strategic-card li {
  font-size: 0.9rem;
  color: #000000;
  margin-bottom: 6px;
}

.strategic-card li:last-child {
  margin-bottom: 0;
}

/* ===============================
   JOURNEY ROADMAP
================================ */
.journey-roadmap {
  margin: 1rem 0;
}

.journey-roadmap > .subsection {
  border-left: none;
  padding-left: 0;
  margin-bottom: 1.5rem;
}

.journey-roadmap > .subsection h3 {
  font-size: 1.1rem;
  margin-bottom: 0.5rem;
}

.journey-roadmap > .subsection > p {
  color: #000000;
  font-size: 0.95rem;
  margin: 0;
}

.journey-phases {
  position: relative;
  padding-left: 24px;
}

/* Vertical timeline line */
.journey-phases::before {
  content: '';
  position: absolute;
  left: 15px;
  top: 20px;
  bottom: 20px;
  width: 2px;
  background: linear-gradient(to bottom, #6B46C1 0%, #805AD5 100%);
  border-radius: 2px;
}

.journey-phase {
  display: flex;
  align-items: flex-start;
  gap: 20px;
  padding: 16px 0;
  position: relative;
}

.journey-phase:first-child {
  padding-top: 0;
}

.journey-phase:last-child {
  padding-bottom: 0;
}

.phase-marker {
  width: 32px;
  height: 32px;
  min-width: 32px;
  background: linear-gradient(135deg, #6B46C1 0%, #805AD5 100%);
  color: #ffffff;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.9rem;
  position: relative;
  z-index: 1;
  box-shadow: 0 2px 8px rgba(107, 70, 193, 0.3);
}

.phase-content {
  flex: 1;
  background: #ffffff;
  border: 1px solid #E2E8F0;
  border-radius: 12px;
  padding: 16px 20px;
  transition: all 0.2s ease;
}

.phase-content:hover {
  border-color: #6B46C1;
  box-shadow: 0 4px 12px rgba(107, 70, 193, 0.1);
}

.phase-content h4 {
  font-size: 1rem;
  font-weight: 600;
  color: #000000;
  margin: 0 0 8px 0;
}

.phase-content p {
  font-size: 0.9rem;
  color: #000000;
  margin: 0 0 12px 0;
  line-height: 1.5;
}

.phase-link {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  font-size: 0.85rem;
  font-weight: 600;
  color: #6B46C1;
  text-decoration: none;
  transition: all 0.2s ease;
}

.phase-link:hover {
  color: #805AD5;
  text-decoration: none;
}

.phase-link::after {
  content: '\2192';
  transition: transform 0.2s ease;
}

.phase-link:hover::after {
  transform: translateX(4px);
}

/* ===============================
   WHO USES TABLE
================================ */
.who-uses-table {
  width: 100%;
  border-collapse: collapse;
  margin: 20px 0;
}

.who-uses-table th,
.who-uses-table td {
  padding: 12px 16px;
  text-align: left;
  border: 1px solid #E2E8F0;
}

.who-uses-table th {
  background: #F7FAFC;
  font-weight: 600;
}

/* ===============================
   FAQ ACCORDION
================================ */
.faq-accordion {
  display: flex;
  flex-direction: column;
  gap: 12px;
  margin-top: 16px;
}

.faq-item {
  border: 1px solid #E2E8F0;
  border-radius: 12px;
  overflow: hidden;
  background: #ffffff;
  transition: all 0.2s ease;
}

.faq-item:hover {
  border-color: #6B46C1;
  box-shadow: 0 2px 8px rgba(107, 70, 193, 0.1);
}

.faq-item[open] {
  border-color: #6B46C1;
  box-shadow: 0 4px 12px rgba(107, 70, 193, 0.15);
}

.faq-question,
.faq-item > summary {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 18px 20px;
  font-weight: 600;
  font-size: 1rem;
  color: #1a1a2e;
  cursor: pointer;
  background: #f8f9ff;
  list-style: none;
  transition: all 0.2s ease;
}

.faq-question::-webkit-details-marker,
.faq-item > summary::-webkit-details-marker {
  display: none;
}

.faq-question::after,
.faq-item > summary::after {
  content: '';
  width: 10px;
  height: 10px;
  border-right: 2px solid #6B46C1;
  border-bottom: 2px solid #6B46C1;
  transform: rotate(-45deg);
  transition: transform 0.3s ease;
  flex-shrink: 0;
  margin-left: 16px;
}

.faq-item[open] .faq-question::after,
.faq-item[open] > summary::after {
  transform: rotate(45deg);
}

.faq-question:hover,
.faq-item > summary:hover {
  background: linear-gradient(135deg, #faf5ff 0%, #f3e8ff 100%);
  color: #6B46C1;
}

.faq-item[open] .faq-question,
.faq-item[open] > summary {
  background: linear-gradient(135deg, #6B46C1 0%, #805AD5 100%);
  color: #ffffff;
}

.faq-item[open] .faq-question::after,
.faq-item[open] > summary::after {
  border-color: #ffffff;
}

.faq-answer {
  padding: 20px;
  background: #ffffff;
  color: #000000;
  line-height: 1.7;
  border-top: 1px solid #E2E8F0;
  animation: fadeIn 0.3s ease;
}

.faq-answer p {
  margin: 0;
  color: #000000;
}

.faq-answer ul, .faq-answer ol {
  margin: 12px 0;
  padding-left: 24px;
}

.faq-answer li {
  margin-bottom: 8px;
  color: #000000;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(-8px); }
  to { opacity: 1; transform: translateY(0); }
}

/* ===============================
   INFO & WARNING BOXES
================================ */
.info-box {
  padding: 16px 20px;
  border-radius: 8px;
  margin: 20px 0;
  background: #FAF5FF;
  border-left: 4px solid #6B46C1;
  color: #000000;
}

.warning-box {
  padding: 16px 20px;
  border-radius: 8px;
  margin: 20px 0;
  background: #FFFBEB;
  border-left: 4px solid #D97706;
  color: #000000;
}

.warning-box p,
.info-box p {
  margin: 0 0 8px 0;
}

.warning-box p:last-child,
.info-box p:last-child {
  margin-bottom: 0;
}

/* ===============================
   LISTS
================================ */
ul, ol {
  margin: 1rem 0;
  padding-left: 2rem;
}

li {
  margin-bottom: 0.5rem;
}

/* ===============================
   TABLES
================================ */
table {
  width: 100%;
  border-collapse: collapse;
  margin: 20px 0;
}

th, td {
  padding: 12px 16px;
  text-align: left;
  border: 1px solid #E2E8F0;
  color: #000000;
}

th {
  background: #F7FAFC;
  font-weight: 600;
}

tr:hover {
  background: #F7FAFC;
}

/* ===============================
   SCREENSHOTS
================================ */
figure {
  margin: 24px auto;
  text-align: center;
}

figure img,
.screenshot {
  max-width: 100%;
  height: auto;
  border-radius: 8px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  border: 1px solid #E2E8F0;
  display: block;
  margin: 0 auto;
}

figcaption {
  margin-top: 12px;
  font-size: 0.9rem;
  font-style: italic;
  color: #000000;
  opacity: 0.8;
}

/* Screenshot container with consistent spacing */
.screenshot-container {
  margin: 24px auto;
  text-align: center;
}

.screenshot-container img {
  max-width: 100%;
  height: auto;
  border-radius: 8px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  border: 1px solid #E2E8F0;
  display: block;
  margin: 0 auto;
}

.screenshot-container figcaption {
  margin-top: 12px;
  font-size: 0.9rem;
  font-style: italic;
  color: #000000;
  opacity: 0.8;
}

/* ===============================
   FEATURE CARDS & GRIDS
================================ */
.feature-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 16px;
  margin: 20px 0;
}

.feature-card {
  background: #ffffff;
  border: 1px solid #E2E8F0;
  border-radius: 8px;
  padding: 20px;
  color: #000000;
}

.feature-card h4 {
  margin-top: 0;
  color: #000000;
}

/* ===============================
   REQUIREMENTS TABLE
================================ */
.requirements-table {
  width: 100%;
  border-collapse: collapse;
  margin: 20px 0;
}

.requirements-table th,
.requirements-table td {
  padding: 12px 16px;
  text-align: left;
  border: 1px solid #E2E8F0;
}

.requirements-table th {
  background: #F7FAFC;
  font-weight: 600;
}

/* ===============================
   LIMITATIONS TABLE
================================ */
.limitations-table {
  width: 100%;
  border-collapse: collapse;
  margin: 20px 0;
}

.limitations-table th,
.limitations-table td {
  padding: 12px 16px;
  text-align: left;
  border: 1px solid #E2E8F0;
}

.limitations-table th {
  background: #F7FAFC;
  font-weight: 600;
}

/* ===============================
   GLOSSARY TABLE
================================ */
.glossary-table {
  width: 100%;
  border-collapse: collapse;
  margin: 20px 0;
}

.glossary-table th,
.glossary-table td {
  padding: 12px 16px;
  text-align: left;
  border: 1px solid #E2E8F0;
}

.glossary-table th {
  background: #F7FAFC;
  font-weight: 600;
}

.glossary-table td:first-child {
  width: 25%;
  white-space: nowrap;
}

/* ===============================
   LEGACY JOURNEY & STEPS (backwards compatibility)
================================ */
.journey-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 16px;
  margin: 20px 0;
}

.journey-step {
  background: #F7FAFC;
  border-radius: 8px;
  padding: 20px;
  color: #000000;
}

.journey-step .step-number,
.step-number {
  background: #6B46C1;
  color: #ffffff;
  width: 32px;
  height: 32px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 600;
  margin-bottom: 12px;
}

.step {
  display: flex;
  gap: 16px;
  margin: 20px 0;
  padding: 16px;
  background: #F7FAFC;
  border-radius: 8px;
}

/* ===============================
   NAVIGATION PATH
================================ */
.nav-path {
  background: #F7FAFC;
  padding: 12px 16px;
  border-radius: 6px;
  font-family: 'SF Mono', Monaco, monospace;
  margin: 16px 0;
  color: #000000;
}

/* ===============================
   CODE & BLOCKQUOTES
================================ */
code {
  background: #F7FAFC;
  padding: 2px 6px;
  border-radius: 4px;
  font-family: 'SF Mono', Monaco, monospace;
  font-size: 0.9em;
  color: #000000;
}

pre {
  background: #F7FAFC;
  padding: 16px;
  border-radius: 8px;
  overflow-x: auto;
  color: #000000;
}

blockquote {
  border-left: 4px solid #E2E8F0;
  padding-left: 16px;
  margin: 16px 0;
  font-style: italic;
  color: #000000;
}

blockquote p {
  margin: 0 0 8px 0;
}

blockquote p:last-child {
  margin-bottom: 0;
}

/* ===============================
   FOOTER
================================ */
footer {
  margin-top: 40px;
  padding-top: 20px;
  border-top: 1px solid #E2E8F0;
  text-align: center;
  color: #000000;
  font-size: 0.9rem;
}

/* ===============================
   RESPONSIVE
================================ */
@media (max-width: 768px) {
  body { padding: 16px; }
  .hero-banner { padding: 40px 24px; }
  .hero-banner h1 { font-size: 1.75rem; }
  .section { padding: 16px; }
  th, td { padding: 8px 12px; }
  .nav-grid {
    grid-template-columns: repeat(2, 1fr);
    gap: 8px;
  }
  .nav-card {
    padding: 12px;
    font-size: 0.85rem;
  }
  .card-icon {
    font-size: 1rem;
  }
  .faq-question,
  .faq-item > summary {
    padding: 14px 16px;
    font-size: 0.95rem;
  }
  .faq-answer {
    padding: 16px;
  }
  .strategic-grid {
    grid-template-columns: 1fr;
  }
  .journey-phases {
    padding-left: 20px;
  }
  .journey-phases::before {
    left: 11px;
  }
  .phase-marker {
    width: 28px;
    height: 28px;
    min-width: 28px;
    font-size: 0.8rem;
  }
  .phase-content {
    padding: 14px 16px;
  }
  .glossary-table td:first-child {
    white-space: normal;
  }
}

@media (max-width: 480px) {
  .hero-banner h1 { font-size: 1.5rem; }
  .hero-subtitle { font-size: 1rem; }
  .step { flex-direction: column; gap: 12px; }
  .nav-grid {
    grid-template-columns: 1fr;
  }
  .guide-nav {
    padding: 16px;
  }
  .journey-phase {
    gap: 12px;
  }
}

/* ===============================
   PRINT
================================ */
@media print {
  body { max-width: 100%; padding: 0; }
  .hero-banner {
    background: #6B46C1 !important;
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
  }
  .section { break-inside: avoid; }
  .guide-nav { display: none; }
  .faq-item { break-inside: avoid; }
  .faq-item[open] .faq-answer { display: block; }
  .journey-phases::before {
    background: #6B46C1 !important;
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
  }
}
  </style>
</head>
<body>
  <div class="page">
    <div class="hero-banner">
      <h1>Leave Policies</h1>
      <p class="hero-subtitle">Replace manual leave tracking spreadsheets with automated policy templates that calculate accruals, enforce rules, and integrate with payroll</p>
      
    </div>

    
    <nav class="guide-nav" aria-label="Guide navigation">
      <div class="nav-header">
        <span class="nav-icon">&#128214;</span>
        <span class="nav-title">Quick Navigation</span>
      </div>
      <div class="nav-grid">
        <a class="nav-card" href="#feature-overview">
          <span class="card-icon">&#10024;</span>
          <span class="card-label">What is Leave Policies?</span>
        </a>
        <a class="nav-card" href="#product-foundation">
          <span class="card-icon">&#127959;&#65039;</span>
          <span class="card-label">Product Foundation Overview</span>
        </a>
        <a class="nav-card" href="#user-journey">
          <span class="card-icon">&#128506;&#65039;</span>
          <span class="card-label">Complete User Journey Guide</span>
        </a>
        <a class="nav-card" href="#feature-entry-points">
          <span class="card-icon">&#128640;</span>
          <span class="card-label">Feature Discovery</span>
        </a>
        <a class="nav-card" href="#initial-setup">
          <span class="card-icon">&#9881;&#65039;</span>
          <span class="card-label">Initial Setup</span>
        </a>
        <a class="nav-card" href="#core-tasks">
          <span class="card-icon">&#128203;</span>
          <span class="card-label">Key Tasks</span>
        </a>
        <a class="nav-card" href="#workflow-integration">
          <span class="card-icon">&#128260;</span>
          <span class="card-label">Workflow Integration</span>
        </a>
        <a class="nav-card" href="#business-rules-limitations">
          <span class="card-icon">&#128207;</span>
          <span class="card-label">Business Rules &amp; Limitations</span>
        </a>
        <a class="nav-card" href="#troubleshooting-edge-cases">
          <span class="card-icon">&#128295;</span>
          <span class="card-label">Troubleshooting &amp; Edge Cases</span>
        </a>
        <a class="nav-card" href="#support-resources">
          <span class="card-icon">&#128172;</span>
          <span class="card-label">FAQs &amp; Support</span>
        </a>
        <a class="nav-card" href="#glossary">
          <span class="card-icon">&#128218;</span>
          <span class="card-label">Glossary</span>
        </a>
      </div>
    </nav>
  

    <main class="content-area" aria-label="User guide content">
      
    <section class="section section-feature-overview" id="feature-overview">
      <header class="section-header">
        <h2 class="section-title">What is Leave Policies?</h2>
      </header>
      <div class="section-body">
        <div class="subsection">
  <h3>Overview</h3>
  <p>Leave Policies define how employees earn, use, and get paid for time off. Access them at Settings ‚Üí Leaves ‚Üí Leave Policies to create templates for annual leave, sick leave, unpaid leave, and custom leave types.</p>

  <figure class="screenshot-container">
    <img src="https://raw.githubusercontent.com/mashapajfhp/user-guides/main/leave-policies/v1/validation/screenshots/missing.png" alt="missing.png" class="screenshot" loading="lazy">
    <figcaption>Leave Policies configuration screen showing policy templates and assignment options</figcaption>
  </figure>

  <p>Create policies from scratch or templates, configure accrual rules and pay rates, then assign to employees individually or in bulk.</p>
</div>

<div class="subsection">
  <h3>Key Benefits</h3>
  <ul>
    <li>Automate monthly leave accruals based on tenure, probation status, or custom conditions</li>
    <li>Configure conditional pay rates (fully paid, partially paid, unpaid) within a single policy</li>
    <li>Integrate with payroll for automatic salary deductions on unpaid leave</li>
    <li>Track leave balances, carryover allowances, and encashment eligibility in one system</li>
    <li>Support calendar-day and working-day calculations with public holiday exclusions</li>
    <li>Enforce probation restrictions and minimum tenure requirements automatically</li>
  </ul>
</div>

<div class="strategic-context">
  <div class="strategic-header">
    <h3>Strategic Context</h3>
  </div>
  <div class="strategic-grid">
    <div class="strategic-card">
      <h4>üéØ What Leave Policies Solves</h4>
      <p>Eliminates manual tracking of leave balances across spreadsheets, emails, and physical certificates.</p>
      <ul>
        <li>Replaces error-prone manual accrual calculations</li>
        <li>Standardizes leave rules across the organization</li>
        <li>Enables self-service leave requests with automated approvals</li>
      </ul>
    </div>
    <div class="strategic-card">
      <h4>üí∞ Why It Matters</h4>
      <p>Leave policies are configuration templates that control payroll deductions, end-of-service calculations, and compliance reporting.</p>
      <ul>
        <li>Foundation for time-off management and attendance tracking</li>
        <li>Drives unpaid leave salary deductions in payroll runs</li>
        <li>Controls leave encashment amounts at end-of-service</li>
      </ul>
    </div>
    <div class="strategic-card">
      <h4>üèóÔ∏è How It Connects</h4>
      <p>Leave policies are configuration templates assigned to employees that govern all leave transactions.</p>
      <ul>
        <li>Assigned via employee profiles or bulk upload</li>
        <li>Referenced by leave requests, payroll adjustments, and EOS calculations</li>
        <li>One policy affects all assigned employees‚Äîchanges apply to future requests only</li>
      </ul>
    </div>
  </div>
</div>

<div class="subsection">
  <h3>Who Uses This Feature?</h3>
  <table class="who-uses-table">
    <thead>
      <tr>
        <th>User Role</th>
        <th>What They Do</th>
        <th>Value Proposition</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><strong>HR Admins</strong></td>
        <td>Create, configure, and assign leave policies to employees</td>
        <td>Automate leave accrual calculations and eliminate manual spreadsheet updates</td>
      </tr>
      <tr>
        <td><strong>Payroll Managers</strong></td>
        <td>Configure unpaid leave deduction rules and salary calculation methods</td>
        <td>Automatic payroll adjustments for unpaid leave replace manual deduction entries</td>
      </tr>
      <tr>
        <td><strong>Line Managers</strong></td>
        <td>View employee leave balances and policy details during approval workflows</td>
        <td>Real-time visibility into leave eligibility and remaining balances during request reviews</td>
      </tr>
      <tr>
        <td><strong>Employees</strong></td>
        <td>View assigned policies, balances, and accrual schedules in self-service portal</td>
        <td>Transparent leave entitlements and automated balance tracking replace HR inquiries</td>
      </tr>
    </tbody>
  </table>
</div>
      </div>
    </section>
  

    <section class="section section-product-foundation" id="product-foundation">
      <header class="section-header">
        <h2 class="section-title">Product Foundation Overview</h2>
      </header>
      <div class="section-body">
        <div class="subsection">
  <h3>How Leave Policies Fits</h3>
  <p>Leave policies are configuration templates that define how employees accrue, request, and consume time off. They sit in Settings ‚Üí Leaves and control all leave-related calculations across the platform.</p>
  <div class="info-box">
    <p><strong>Mental model:</strong> Leave Policy (template) ‚Üí Assigned to Employees ‚Üí Controls accrual, balances, and deductions ‚Üí Drives payroll and compliance calculations</p>
  </div>
  <p>One leave policy can affect hundreds of employees. Changes to accrual rules or pay rates apply to all future leave requests.</p>
</div>

<div class="subsection">
  <h3>Key Decisions Before Setup</h3>
  <p>Answer these questions before creating leave policies:</p>
  <ul>
    <li><strong>What leave types do you need?</strong> ‚Äî Annual leave, sick leave, unpaid leave, maternity, or custom types like work-from-home</li>
    <li><strong>How will leave accrue?</strong> ‚Äî Monthly accrual, one-time allocation, or conditional based on probation/tenure</li>
    <li><strong>How will unpaid leave affect payroll?</strong> ‚Äî Deduct from basic salary only or include allowances; use calendar days or working days</li>
    <li><strong>What happens to unused leave?</strong> ‚Äî Carry forward to next cycle, encash at end of service, or expire</li>
  </ul>
</div>

<div class="subsection">
  <h3>Related Features</h3>
  <ul>
    <li><strong>Payroll</strong> ‚Äî Unpaid leave policies automatically create salary deductions in the payroll table</li>
    <li><strong>End of Service</strong> ‚Äî Leave encashment policies determine how unused leave is paid out when employees exit</li>
    <li><strong>Time Off Requests</strong> ‚Äî Employees submit leave requests against assigned policies; balances are deducted upon approval</li>
    <li><strong>Holiday Calendars</strong> ‚Äî Public holidays can be excluded from leave calculations based on policy settings</li>
    <li><strong>Approval Flows</strong> ‚Äî Leave requests route through configured approval hierarchies before affecting balances</li>
  </ul>
</div>

<div class="subsection">
  <h3>Prerequisites & Requirements</h3>
  <table class="requirements-table">
    <thead>
      <tr>
        <th>Requirement</th>
        <th>Description</th>
        <th>Status</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>Payroll Module Enabled</td>
        <td>Required to configure unpaid leave deductions and leave salary policies</td>
        <td>Required</td>
      </tr>
      <tr>
        <td>Employee Salary Configuration</td>
        <td>Salaries must be set up for automatic unpaid leave deduction calculations</td>
        <td>Required</td>
      </tr>
      <tr>
        <td>Holiday Calendar</td>
        <td>Define public holidays to exclude from working-day leave calculations</td>
        <td>Recommended</td>
      </tr>
      <tr>
        <td>Approval Flow Configuration</td>
        <td>Set up line managers and approval hierarchies for leave request routing</td>
        <td>Recommended</td>
      </tr>
      <tr>
        <td>Work Week Definition</td>
        <td>Configure company work week to calculate working days vs calendar days</td>
        <td>Required</td>
      </tr>
    </tbody>
  </table>
</div>
      </div>
    </section>
  

    <section class="section section-user-journey" id="user-journey">
      <header class="section-header">
        <h2 class="section-title">Complete User Journey Guide</h2>
      </header>
      <div class="section-body">
        <div class="journey-roadmap">
  <div class="subsection">
    <h3>End-to-End Journey: Leave Policy Management</h3>
    <p>Configure leave policies, assign to employees, and manage ongoing leave requests and balances.</p>
  </div>

  <div class="journey-phases">
    <div class="journey-phase">
      <div class="phase-marker">1</div>
      <div class="phase-content">
        <h4>Plan</h4>
        <p>Identify leave types needed (annual, sick, unpaid) and decide calculation methods (calendar vs working days).</p>
        <a href="#product-foundation" class="phase-link">See details ‚Üí</a>
      </div>
    </div>

    <div class="journey-phase">
      <div class="phase-marker">2</div>
      <div class="phase-content">
        <h4>Navigate</h4>
        <p>Access Settings ‚Üí Leaves ‚Üí Leave Policies to create or edit policies.</p>
        <a href="#feature-entry-points" class="phase-link">See details ‚Üí</a>
      </div>
    </div>

    <div class="journey-phase">
      <div class="phase-marker">3</div>
      <div class="phase-content">
        <h4>Configure</h4>
        <p>Create leave policies with accrual rules, pay rates, and eligibility criteria.</p>
        <a href="#core-tasks" class="phase-link">See details ‚Üí</a>
      </div>
    </div>

    <div class="journey-phase">
      <div class="phase-marker">4</div>
      <div class="phase-content">
        <h4>Assign</h4>
        <p>Link leave policies to employees and set initial balances.</p>
        <a href="#core-tasks" class="phase-link">See details ‚Üí</a>
      </div>
    </div>

    <div class="journey-phase">
      <div class="phase-marker">5</div>
      <div class="phase-content">
        <h4>Manage</h4>
        <p>Process leave requests, track balances, and handle encashment or salary adjustments.</p>
        <a href="#core-tasks" class="phase-link">See details ‚Üí</a>
      </div>
    </div>

    <div class="journey-phase">
      <div class="phase-marker">6</div>
      <div class="phase-content">
        <h4>Monitor</h4>
        <p>Review leave reports, audit policy changes, and troubleshoot calculation issues.</p>
        <a href="#troubleshooting-edge-cases" class="phase-link">See details ‚Üí</a>
      </div>
    </div>
  </div>
</div>
      </div>
    </section>
  

    <section class="section section-feature-entry-points" id="feature-entry-points">
      <header class="section-header">
        <h2 class="section-title">Feature Discovery</h2>
      </header>
      <div class="section-body">
        <div class="subsection">
  <h3>How to Access Leave Policies</h3>
  <p>Leave Policies configuration is accessed through the Settings module.</p>
  
  <h4>Primary Navigation Path</h4>
  <div class="nav-path">Settings ‚Üí Leaves ‚Üí Leave Policies</div>
  
  <p>From this screen, you can create new policies, edit existing ones, and assign policies to employees.</p>

  <h4>Related Access Points</h4>
  <ul>
    <li><strong>Employee Profile:</strong> View assigned leave policies and balances via employee profile ‚Üí Leaves tab</li>
    <li><strong>Time Module:</strong> Access leave requests and calendar views via Time ‚Üí Employee Leaves</li>
    <li><strong>Payroll Settings:</strong> Configure leave encashment via Settings ‚Üí Payroll ‚Üí End of Service eligibility</li>
    <li><strong>Approval Flows:</strong> Set up leave approval workflows via Settings ‚Üí Approval flows ‚Üí Leaves</li>
  </ul>

  <h4>Quick Actions Available</h4>
  <ul>
    <li>Add New Policy (create from scratch or template)</li>
    <li>Edit Policy (pencil icon on existing policy)</li>
    <li>View Employee Details (see who is assigned to each policy)</li>
    <li>Bulk Update Balances (via Bayzat sheets integration)</li>
  </ul>
</div>
      </div>
    </section>
  

    <section class="section section-initial-setup" id="initial-setup">
      <header class="section-header">
        <h2 class="section-title">Initial Setup</h2>
      </header>
      <div class="section-body">
        <div class="subsection">
    <h3>First-Time Configuration</h3>
    <p>Before creating leave policies, configure these foundational settings:</p>

    <h4>1. Enable Leave Salary Settings (if using payroll integration)</h4>
    <div class="nav-path">Settings ‚Üí Leaves ‚Üí Leave Policies ‚Üí [Select Policy] ‚Üí Toggle "Leave Salary Settings"</div>
    <p>Required for unpaid leave deductions and leave encashment calculations.</p>

    <h4>2. Configure Daily Wage Calculation Method</h4>
    <p>Choose how unpaid leave deductions are calculated:</p>
    <ul>
      <li><strong>Basic Only</strong> ‚Äî Deductions based on basic salary divided by days</li>
      <li><strong>Basic + Allowances</strong> ‚Äî Includes allowances in daily rate calculation</li>
    </ul>
    <div class="info-box">
      <p><strong>Note:</strong> Daily wage uses 30.42 days as divisor (not calendar days). This can result in deduction amounts that don't precisely match monthly salary.</p>
    </div>

    <h4>3. Select Day Calculation Type</h4>
    <p>Determine how leave days are counted:</p>
    <table class="requirements-table">
      <thead>
        <tr>
          <th>Calculation Type</th>
          <th>Description</th>
          <th>Use Case</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>Calendar Days</strong></td>
          <td>Counts all days including weekends and holidays</td>
          <td>UAE standard (30 calendar days annual leave)</td>
        </tr>
        <tr>
          <td><strong>Working Days</strong></td>
          <td>Counts only business days</td>
          <td>UAE alternative (22 working days annual leave)</td>
        </tr>
        <tr>
          <td><strong>Custom Days</strong></td>
          <td>Define specific day count logic</td>
          <td>Non-standard schedules or shift work</td>
        </tr>
      </tbody>
    </table>

    <h4>4. Configure Holiday Calendar</h4>
    <div class="nav-path">Settings ‚Üí Company ‚Üí Holiday Calendars</div>
    <p>Add public holidays that affect leave calculations. System automatically adjusts leave requests when holidays are added or modified.</p>
    <div class="warning-box">
      <p><strong>‚ö†Ô∏è Limitation:</strong> System will not recalculate days from previous leave cycles. Changes only affect current and future cycles.</p>
    </div>

    <h4>5. Set Up Approval Hierarchy</h4>
    <div class="nav-path">Settings ‚Üí Approval Flows ‚Üí Leaves</div>
    <p>Define who approves leave requests:</p>
    <ul>
      <li>Assign Line Manager permissions to managers</li>
      <li>Configure sequential or parallel approval steps</li>
      <li>Set final decision-maker for each approval level</li>
    </ul>
    <p>If approval flow is not visible, contact customer success to enable it.</p>

    <h4>6. Configure Leave Encashment (if applicable)</h4>
    <div class="nav-path">Settings ‚Üí Payroll ‚Üí End of Service Eligibility ‚Üí Configure</div>
    <p>Select which leave types are eligible for encashment at end of service:</p>
    <ul>
      <li>Choose salary basis (Basic Only or Basic + Allowances)</li>
      <li>Select calculation method (Calendar days, Working days, or Custom days)</li>
      <li>Configure individual leave types for encashment</li>
    </ul>

    <h4>7. Set Employee Reporting Lines</h4>
    <p>For each employee, define the reporting structure:</p>
    <ul>
      <li>Go to employee's Work tab</li>
      <li>Set "Reports to" field</li>
      <li>Choose whether Line Manager is final decision-maker</li>
    </ul>
    <p>For bulk updates, download Excel template, update "Reports to" column, and re-upload.</p>
  </div>

  <div class="subsection">
    <h3>Required Data Before Creating Policies</h3>
    <p>Gather this information before configuring leave policies:</p>
    <table class="requirements-table">
      <thead>
        <tr>
          <th>Data Required</th>
          <th>Description</th>
          <th>Source</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>Leave Allowances</strong></td>
          <td>Annual leave days per policy (e.g., 30 calendar days, 22 working days)</td>
          <td>Employment contracts, labor law</td>
        </tr>
        <tr>
          <td><strong>Accrual Method</strong></td>
          <td>How leave accumulates (monthly, annually, one-time)</td>
          <td>Company policy</td>
        </tr>
        <tr>
          <td><strong>Probation Rules</strong></td>
          <td>Whether employees on probation can request leave</td>
          <td>HR policy</td>
        </tr>
        <tr>
          <td><strong>Carry-Over Rules</strong></td>
          <td>Maximum days that can roll over to next cycle</td>
          <td>Company policy, labor law</td>
        </tr>
        <tr>
          <td><strong>Conditional Pay Rates</strong></td>
          <td>For sick leave: fully paid days, half-pay days, unpaid days</td>
          <td>Labor law (e.g., UAE: 15 days full pay, 30 days half pay)</td>
        </tr>
        <tr>
          <td><strong>Employee Salaries</strong></td>
          <td>Basic salary and allowances for unpaid leave calculations</td>
          <td>Payroll module</td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="subsection">
    <h3>Pre-Configuration Checklist</h3>
    <p>Verify these settings before creating your first leave policy:</p>
    <ul>
      <li><strong>Payroll module enabled?</strong> ‚Äî Required for unpaid leave deductions</li>
      <li><strong>Employee salaries configured?</strong> ‚Äî Required for automatic deduction calculations</li>
      <li><strong>Work week defined?</strong> ‚Äî Affects working days calculations</li>
      <li><strong>Public holidays added?</strong> ‚Äî Affects leave day counts</li>
      <li><strong>Line Managers assigned?</strong> ‚Äî Required for leave approval routing</li>
      <li><strong>Leave cycles defined?</strong> ‚Äî Calendar year vs. individual anniversary dates</li>
    </ul>
  </div>

  <div class="subsection">
    <h3>Common Setup Scenarios</h3>

    <h4>Scenario 1: Standard Annual Leave (UAE Compliant)</h4>
    <ul>
      <li>30 calendar days per year</li>
      <li>Monthly accrual (2.5 days/month)</li>
      <li>Exclude public holidays from leave calculation</li>
      <li>Carry forward up to 30 days</li>
      <li>Restrict during probation</li>
    </ul>

    <h4>Scenario 2: Sick Leave with Conditional Pay</h4>
    <ul>
      <li>90 days per year (UAE standard)</li>
      <li>First 15 days: fully paid</li>
      <li>Next 30 days: half pay</li>
      <li>Remaining 45 days: unpaid</li>
      <li>Requires medical certificate attachment</li>
    </ul>

    <h4>Scenario 3: Unpaid Leave</h4>
    <ul>
      <li>No annual allowance (unlimited)</li>
      <li>Automatic payroll deduction upon approval</li>
      <li>Deduction = (Basic + Allowances) / 30.42 √ó days taken</li>
      <li>Does not affect EOS service duration</li>
    </ul>

    <h4>Scenario 4: Work From Home Policy</h4>
    <ul>
      <li>Set number of WFH days per year</li>
      <li>No salary deduction</li>
      <li>Track usage for reporting</li>
      <li>Auto-approve or require manager approval</li>
    </ul>
  </div>

  <div class="subsection">
    <h3>Known Configuration Limitations</h3>

    <div class="warning-box">
      <p><strong>‚ö†Ô∏è Critical Limitations:</strong></p>
      <ul>
        <li><strong>Cannot change leave type after assignment</strong> ‚Äî Cannot switch between paid/unpaid once employees are assigned to policy</li>
        <li><strong>Cannot modify accrual frequency</strong> ‚Äî Must create new policy instead of editing existing one</li>
        <li><strong>Cannot change leave cycle type</strong> ‚Äî Changing from calendar to individual cycle requires configuration team intervention and loses historical data</li>
        <li><strong>Cannot enable conditional pay rate on existing policies</strong> ‚Äî Employees must be removed from policy before toggling this feature</li>
      </ul>
    </div>

    <div class="info-box">
      <p><strong>Medium Impact:</strong></p>
      <ul>
        <li><strong>No hourly leave support</strong> ‚Äî System only supports full-day or half-day leave requests</li>
        <li><strong>Shift days-off not auto-excluded</strong> ‚Äî Working days policy cannot automatically account for scheduled shift days-off</li>
        <li><strong>No retroactive leave requests</strong> ‚Äî Cannot create leave requests for periods before policy was assigned to employee</li>
        <li><strong>Carry-over not configurable for individual cycles</strong> ‚Äî Cannot modify carry-over allowance for companies using individual leave cycles</li>
      </ul>
    </div>
  </div>

  <div class="subsection">
    <h3>Next Steps After Initial Setup</h3>
    <ol>
      <li>Create your first leave policy (see Core Tasks section)</li>
      <li>Assign policy to test employee group</li>
      <li>Submit test leave request to verify approval flow</li>
      <li>Check payroll deductions appear correctly (for unpaid leave)</li>
      <li>Roll out to remaining employees</li>
      <li>Train managers on leave approval process</li>
    </ol>
  </div>
      </div>
    </section>
  

    <section class="section section-core-tasks" id="core-tasks">
      <header class="section-header">
        <h2 class="section-title">Key Tasks</h2>
      </header>
      <div class="section-body">
        <div class="subsection">
    <h3>Task: Create Leave Policy</h3>
    <p>Set up a new leave policy to define how employees accrue, request, and consume time off.</p>

    <h4>Subtask: Navigate to Leave Policies</h4>
    <figure class="screenshot-container">
      <img src="https://raw.githubusercontent.com/mashapajfhp/user-guides/main/leave-policies/v1/validation/screenshots/missing.png" alt="missing.png" class="screenshot" loading="lazy">
      <figcaption>Screenshot not available - Settings ‚Üí Leaves ‚Üí Leave Policies screen</figcaption>
    </figure>
    <ul>
      <li>Go to Settings ‚Üí Leaves ‚Üí Leave Policies</li>
      <li>Click "Add New" to start policy creation</li>
    </ul>

    <h4>Subtask: Configure Policy Details</h4>
    <figure class="screenshot-container">
      <img src="https://raw.githubusercontent.com/mashapajfhp/user-guides/main/leave-policies/v1/validation/screenshots/missing.png" alt="missing.png" class="screenshot" loading="lazy">
      <figcaption>Screenshot not available - Leave policy configuration form</figcaption>
    </figure>
    <ul>
      <li>Enter policy name and description</li>
      <li>Select leave type (Annual Leave, Sick Leave, Unpaid Leave, Work from Home, etc.)</li>
      <li>Choose paid, partially paid, or unpaid status</li>
      <li>Set calculation method: Calendar days or Working days</li>
    </ul>

    <h4>Subtask: Define Leave Allowance</h4>
    <figure class="screenshot-container">
      <img src="https://raw.githubusercontent.com/mashapajfhp/user-guides/main/leave-policies/v1/validation/screenshots/missing.png" alt="missing.png" class="screenshot" loading="lazy">
      <figcaption>Screenshot not available - Leave allowance configuration</figcaption>
    </figure>
    <ul>
      <li>Set annual leave days (e.g., 30 calendar days or 22 working days)</li>
      <li>Configure conditional allowances based on probation or tenure</li>
      <li>Enable accrual (monthly recurring) or one-time allocation</li>
      <li>Set carry-over rules for unused days</li>
    </ul>

    <h4>Subtask: Configure Conditional Pay Rates (Optional)</h4>
    <figure class="screenshot-container">
      <img src="https://raw.githubusercontent.com/mashapajfhp/user-guides/main/leave-policies/v1/validation/screenshots/missing.png" alt="missing.png" class="screenshot" loading="lazy">
      <figcaption>Screenshot not available - Conditional pay rate settings</figcaption>
    </figure>
    <ul>
      <li>Enable conditional pay rate feature</li>
      <li>Add up to 5 pay rate conditions (e.g., first 15 days fully paid, next 30 days half pay, remaining unpaid)</li>
      <li>Define pay percentage for each condition</li>
    </ul>

    <h4>Subtask: Set Unpaid Leave Deduction Rules (If Applicable)</h4>
    <figure class="screenshot-container">
      <img src="https://raw.githubusercontent.com/mashapajfhp/user-guides/main/leave-policies/v1/validation/screenshots/missing.png" alt="missing.png" class="screenshot" loading="lazy">
      <figcaption>Screenshot not available - Unpaid leave deduction configuration</figcaption>
    </figure>
    <ul>
      <li>Select daily wage calculation method: Basic Only or Basic + Allowances</li>
      <li>Choose day calculation type: Calendar days, Working days, or Custom days (30.42)</li>
      <li>Configure whether unpaid leave affects End of Service tenure</li>
    </ul>

    <h4>Subtask: Assign Policy to Employees</h4>
    <figure class="screenshot-container">
      <img src="https://raw.githubusercontent.com/mashapajfhp/user-guides/main/leave-policies/v1/validation/screenshots/missing.png" alt="missing.png" class="screenshot" loading="lazy">
      <figcaption>Screenshot not available - Employee assignment screen</figcaption>
    </figure>
    <ul>
      <li>Select individual employees or "Move All" to assign to everyone</li>
      <li>Review employee details and existing leave balances</li>
      <li>Update "Days used before setup" if employees already took leave</li>
      <li>Confirm and save policy</li>
    </ul>
  </div>

  <div class="subsection">
    <h3>Task: Edit Existing Leave Policy</h3>
    <p>Modify policy rules, allowances, or employee assignments after initial setup.</p>

    <h4>Subtask: Access Policy Editor</h4>
    <figure class="screenshot-container">
      <img src="https://raw.githubusercontent.com/mashapajfhp/user-guides/main/leave-policies/v1/validation/screenshots/missing.png" alt="missing.png" class="screenshot" loading="lazy">
      <figcaption>Screenshot not available - Leave policies list with edit icons</figcaption>
    </figure>
    <ul>
      <li>Navigate to Settings ‚Üí Leaves ‚Üí Leave Policies</li>
      <li>Click pencil icon next to policy name</li>
    </ul>

    <h4>Subtask: Update Policy Settings</h4>
    <figure class="screenshot-container">
      <img src="https://raw.githubusercontent.com/mashapajfhp/user-guides/main/leave-policies/v1/validation/screenshots/missing.png" alt="missing.png" class="screenshot" loading="lazy">
      <figcaption>Screenshot not available - Policy edit form</figcaption>
    </figure>
    <ul>
      <li>Modify policy name, description, or leave allowance</li>
      <li>Update carry-over allowance or accrual settings</li>
      <li>Change calculation method (note: some changes require unassigning employees first)</li>
    </ul>

    <div class="warning-box">
      <p><strong>‚ö†Ô∏è Critical Limitation:</strong> Cannot change paid/unpaid status or accrual frequency after employees are assigned. Must create new policy instead.</p>
    </div>

    <h4>Subtask: Modify Employee Assignments</h4>
    <figure class="screenshot-container">
      <img src="https://raw.githubusercontent.com/mashapajfhp/user-guides/main/leave-policies/v1/validation/screenshots/missing.png" alt="missing.png" class="screenshot" loading="lazy">
      <figcaption>Screenshot not available - Employee assignment management</figcaption>
    </figure>
    <ul>
      <li>Add or remove employees from policy</li>
      <li>Use Bayzat Sheets for bulk updates to leave balances</li>
      <li>Update allowance, pro-rated days, or used days columns</li>
    </ul>

    <div class="warning-box">
      <p><strong>‚ö†Ô∏è Data Loss Risk:</strong> Unassigning and reassigning employees resets historical leave balances. Download backup before making changes.</p>
    </div>
  </div>

  <div class="subsection">
    <h3>Task: Configure Leave Accrual Pausing</h3>
    <p>Automatically pause monthly accrual when employees take extended unpaid leave.</p>

    <h4>Subtask: Enable Accrual Pausing</h4>
    <figure class="screenshot-container">
      <img src="https://raw.githubusercontent.com/mashapajfhp/user-guides/main/leave-policies/v1/validation/screenshots/missing.png" alt="missing.png" class="screenshot" loading="lazy">
      <figcaption>Screenshot not available - Accrual pausing configuration</figcaption>
    </figure>
    <ul>
      <li>Edit leave policy and enable "Pause monthly accrual" option</li>
      <li>Select leave types that trigger pausing (e.g., Unpaid Leave)</li>
      <li>Set minimum days required to trigger pause (e.g., 21 days for KSA compliance)</li>
      <li>System automatically prorates accrual based on days taken</li>
    </ul>

    <div class="info-box">
      <p><strong>Note:</strong> Configuration cannot be edited once set. Only applies to new leave requests, not retroactively.</p>
    </div>
  </div>

  <div class="subsection">
    <h3>Task: Set Up Leave Encashment Policy</h3>
    <p>Allow employees to convert unused leave days to cash payment.</p>

    <h4>Subtask: Create Encashment Policy</h4>
    <figure class="screenshot-container">
      <img src="https://raw.githubusercontent.com/mashapajfhp/user-guides/main/leave-policies/v1/validation/screenshots/missing.png" alt="missing.png" class="screenshot" loading="lazy">
      <figcaption>Screenshot not available - Leave encashment policy setup</figcaption>
    </figure>
    <ul>
      <li>Navigate to Settings ‚Üí Payroll ‚Üí Leave Encashment Policy</li>
      <li>Click "Add New" and enter policy name and description</li>
      <li>Select applicable leave type (must be paid leave)</li>
    </ul>

    <h4>Subtask: Configure Calculation Rules</h4>
    <figure class="screenshot-container">
      <img src="https://raw.githubusercontent.com/mashapajfhp/user-guides/main/leave-policies/v1/validation/screenshots/missing.png" alt="missing.png" class="screenshot" loading="lazy">
      <figcaption>Screenshot not available - Encashment calculation settings</figcaption>
    </figure>
    <ul>
      <li>Choose salary component: Basic Only or Basic + Allowances</li>
      <li>Select working day type: Calendar days or Working days</li>
      <li>Daily rate formula: Salary Amount √∑ Total days</li>
    </ul>

    <h4>Subtask: Define Eligibility Criteria</h4>
    <figure class="screenshot-container">
      <img src="https://raw.githubusercontent.com/mashapajfhp/user-guides/main/leave-policies/v1/validation/screenshots/missing.png" alt="missing.png" class="screenshot" loading="lazy">
      <figcaption>Screenshot not available - Eligibility criteria form</figcaption>
    </figure>
    <ul>
      <li>Set minimum accrued leave days required</li>
      <li>Specify minimum job tenure (e.g., 6 months)</li>
      <li>Define maximum encashment limit per request</li>
      <li>Configure probation period restrictions</li>
      <li>Assign eligible employees to policy</li>
    </ul>
  </div>

  <div class="subsection">
    <h3>Task: Configure Leave Salary Policy</h3>
    <p>Define how employees receive salary when taking extended paid leave.</p>

    <h4>Subtask: Enable Leave Salary Settings</h4>
    <figure class="screenshot-container">
      <img src="https://raw.githubusercontent.com/mashapajfhp/user-guides/main/leave-policies/v1/validation/screenshots/missing.png" alt="missing.png" class="screenshot" loading="lazy">
      <figcaption>Screenshot not available - Leave salary toggle</figcaption>
    </figure>
    <ul>
      <li>Edit leave policy and toggle "Leave Salary Settings" ON</li>
      <li>Navigate to Settings ‚Üí Payroll ‚Üí Leave Salary Policy</li>
    </ul>

    <h4>Subtask: Create Leave Salary Policy</h4>
    <figure class="screenshot-container">
      <img src="https://raw.githubusercontent.com/mashapajfhp/user-guides/main/leave-policies/v1/validation/screenshots/missing.png" alt="missing.png" class="screenshot" loading="lazy">
      <figcaption>Screenshot not available - Leave salary policy form</figcaption>
    </figure>
    <ul>
      <li>Enter policy name and description</li>
      <li>Select applicable leave types</li>
      <li>Choose salary calculation method and allowance components</li>
      <li>Add eligible employees (cannot be in multiple leave salary policies)</li>
      <li>Set probation restrictions if needed</li>
    </ul>
  </div>

  <div class="subsection">
    <h3>Task: Assign/Unassign Employees to Leave Policy</h3>
    <p>Manage which employees are covered by specific leave policies.</p>

    <h4>Subtask: Assign via Policy Settings</h4>
    <figure class="screenshot-container">
      <img src="https://raw.githubusercontent.com/mashapajfhp/user-guides/main/leave-policies/v1/validation/screenshots/missing.png" alt="missing.png" class="screenshot" loading="lazy">
      <figcaption>Screenshot not available - Employee assignment interface</figcaption>
    </figure>
    <ul>
      <li>Edit leave policy and go to Employee Details section</li>
      <li>Search and select employees individually</li>
      <li>Or click "Move All" to assign all employees at once</li>
      <li>Review and confirm assignments</li>
    </ul>

    <h4>Subtask: Assign via Employee Profile</h4>
    <figure class="screenshot-container">
      <img src="https://raw.githubusercontent.com/mashapajfhp/user-guides/main/leave-policies/v1/validation/screenshots/missing.png" alt="missing.png" class="screenshot" loading="lazy">
      <figcaption>Screenshot not available - Employee profile leaves tab</figcaption>
    </figure>
    <ul>
      <li>Go to employee profile ‚Üí Leaves tab</li>
      <li>Click "Set Up" next to desired leave type</li>
      <li>Confirm days allocation</li>
    </ul>

    <h4>Subtask: Bulk Update via Excel</h4>
    <figure class="screenshot-container">
      <img src="https://raw.githubusercontent.com/mashapajfhp/user-guides/main/leave-policies/v1/validation/screenshots/missing.png" alt="missing.png" class="screenshot" loading="lazy">
      <figcaption>Screenshot not available - Bayzat Sheets interface</figcaption>
    </figure>
    <ul>
      <li>Open Bayzat Sheets from policy editor</li>
      <li>Update allowance, pro-rated days, or used days columns</li>
      <li>Save changes to apply in bulk</li>
    </ul>
  </div>

  <div class="subsection">
    <h3>Task: Delete Leave Policy</h3>
    <p>Remove a leave policy that is no longer needed.</p>

    <h4>Subtask: Verify Policy Can Be Deleted</h4>
    <figure class="screenshot-container">
      <img src="https://raw.githubusercontent.com/mashapajfhp/user-guides/main/leave-policies/v1/validation/screenshots/missing.png" alt="missing.png" class="screenshot" loading="lazy">
      <figcaption>Screenshot not available - Leave policies list</figcaception>
    </figure>
    <ul>
      <li>Navigate to Settings ‚Üí Leaves ‚Üí Leave Policies</li>
      <li>Locate policy to delete</li>
      <li>Ensure no employees are currently assigned (unassign first if needed)</li>
    </ul>

    <h4>Subtask: Delete Policy</h4>
    <figure class="screenshot-container">
      <img src="https://raw.githubusercontent.com/mashapajfhp/user-guides/main/leave-policies/v1/validation/screenshots/missing.png" alt="missing.png" class="screenshot" loading="lazy">
      <figcaption>Screenshot not available - Delete confirmation dialog</figcaption>
    </figure>
    <ul>
      <li>Click delete icon next to policy name</li>
      <li>Confirm deletion</li>
    </ul>

    <div class="warning-box">
      <p><strong>‚ö†Ô∏è No Recovery Mechanism:</strong> Deleted policies cannot be restored through self-service. Contact support if policy was deleted accidentally.</p>
    </div>
  </div>

  <div class="subsection">
    <h3>Task: View Leave Policy Details</h3>
    <p>Review policy configuration, assigned employees, and leave balances.</p>

    <h4>Subtask: Access Policy Overview</h4>
    <figure class="screenshot-container">
      <img src="https://raw.githubusercontent.com/mashapajfhp/user-guides/main/leave-policies/v1/validation/screenshots/missing.png" alt="missing.png" class="screenshot" loading="lazy">
      <figcaption>Screenshot not available - Leave policy detail view</figcaption>
    </figure>
    <ul>
      <li>Go to Settings ‚Üí Leaves ‚Üí Leave Policies</li>
      <li>Click on policy name to view details</li>
      <li>Review policy rules, allowances, and calculation settings</li>
    </ul>

    <h4>Subtask: View Assigned Employees</h4>
    <figure class="screenshot-container">
      <img src="https://raw.githubusercontent.com/mashapajfhp/user-guides/main/leave-policies/v1/validation/screenshots/missing.png" alt="missing.png" class="screenshot" loading="lazy">
      <figcaption>Screenshot not available - Employee assignment list</figcaption>
    </figure>
    <ul>
      <li>Click "Employee Details" tab within policy</li>
      <li>View list of assigned employees with current balances</li>
      <li>See allocated, used, and remaining leave days per employee</li>
    </ul>

    <h4>Subtask: Check Audit Logs</h4>
    <figure class="screenshot-container">
      <img src="https://raw.githubusercontent.com/mashapajfhp/user-guides/main/leave-policies/v1/validation/screenshots/missing.png" alt="missing.png" class="screenshot" loading="lazy">
      <figcaption>Screenshot not available - Action logs screen</figcaption>
    </figure>
    <ul>
      <li>Navigate to Settings ‚Üí Action Logs</li>
      <li>Search for policy entity ID</li>
      <li>Review historical changes made to policy configuration</li>
    </ul>

    <div class="info-box">
      <p><strong>Note:</strong> Audit logs require manual navigation and entity ID lookup. Not directly accessible from employee profile.</p>
    </div>
  </div>

  <div class="subsection">
    <h3>Task: Configure Public Holiday Exclusion</h3>
    <p>Automatically exclude public holidays from leave day calculations.</p>

    <h4>Subtask: Enable Holiday Exclusion</h4>
    <figure class="screenshot-container">
      <img src="https://raw.githubusercontent.com/mashapajfhp/user-guides/main/leave-policies/v1/validation/screenshots/missing.png" alt="missing.png" class="screenshot" loading="lazy">
      <figcaption>Screenshot not available - Holiday exclusion toggle</figcaption>
    </figure>
    <ul>
      <li>Edit leave policy settings</li>
      <li>Enable "Exclude public holidays from leave calculations" option</li>
      <li>System automatically recalculates existing leave requests</li>
    </ul>

    <h4>Subtask: Manage Holiday Calendar</h4>
    <figure class="screenshot-container">
      <img src="https://raw.githubusercontent.com/mashapajfhp/user-guides/main/leave-policies/v1/validation/screenshots/missing.png" alt="missing.png" class="screenshot" loading="lazy">
      <figcaption>Screenshot not available - Holiday calendar management</figcaption>
    </figure>
    <ul>
      <li>Go to Settings ‚Üí Company ‚Üí Holiday Calendars</li>
      <li>Edit specific public holiday dates</li>
      <li>System recalculates affected leave requests automatically</li>
      <li>Optionally send email notification to affected employees</li>
    </ul>

    <div class="warning-box">
      <p><strong>‚ö†Ô∏è Limitation:</strong> System does not recalculate days from previous leave cycles. Only current and future cycles are affected.</p>
    </div>
  </div>

  <div class="subsection">
    <h3>Task: Restrict Leave During Probation</h3>
    <p>Prevent employees from requesting leave while on probation.</p>

    <h4>Subtask: Enable Probation Restriction</h4>
    <figure class="screenshot-container">
      <img src="https://raw.githubusercontent.com/mashapajfhp/user-guides/main/leave-policies/v1/validation/screenshots/missing.png" alt="missing.png" class="screenshot" loading="lazy">
      <figcaption>Screenshot not available - Probation restriction toggle</figcaption>
    </figure>
    <ul>
      <li>Edit leave policy</li>
      <li>Toggle "Restrict during probation" option ON</li>
      <li>Restriction applies only if probation date is set in employee work profile</li>
    </ul>

    <h4>Subtask: Verify Employee Probation Dates</h4>
    <figure class="screenshot-container">
      <img src="https://raw.githubusercontent.com/mashapajfhp/user-guides/main/leave-policies/v1/validation/screenshots/missing.png" alt="missing.png" class="screenshot" loading="lazy">
      <figcaption>Screenshot not available - Employee work profile</figcaption>
    </figure>
    <ul>
      <li>Go to employee profile ‚Üí Work tab</li>
      <li>Verify probation end date is filled in</li>
      <li>Update probation dates as needed</li>
    </ul>
  </div>
      </div>
    </section>
  

    <section class="section section-workflow-integration" id="workflow-integration">
      <header class="section-header">
        <h2 class="section-title">Workflow Integration</h2>
      </header>
      <div class="section-body">
        <div class="subsection">
    <h3>Navigation</h3>
    <div class="nav-path">Automations ‚Üí Workflows ‚Üí + Create workflow</div>
  </div>

  <div class="info-box">
    <p><strong>Not Available:</strong> Leave Policies does not currently support workflow automation.</p>
    <p>Leave policy configurations are static templates that define rules and allowances. Once created and assigned to employees, they operate as reference data for leave requests and payroll calculations.</p>
  </div>

  <div class="subsection">
    <h3>Related Automation</h3>
    <p>While leave policies themselves don't trigger workflows, related processes do support automation:</p>
    <ul>
      <li><strong>Leave Requests</strong> ‚Äî Trigger approval workflows when employees submit time-off requests under configured policies</li>
      <li><strong>Unpaid Leave Deductions</strong> ‚Äî Automatically create payroll deductions when unpaid leave requests are fully approved</li>
      <li><strong>Leave Encashment</strong> ‚Äî Support approval flows for employees requesting to cash out unused leave balances</li>
      <li><strong>Accrual Calculations</strong> ‚Äî System automatically calculates monthly leave accruals based on policy configuration</li>
    </ul>
  </div>

  <div class="subsection">
    <h3>Integration Points</h3>
    <p>Leave policies integrate with other modules through data references:</p>
    <ul>
      <li><strong>Time-Off Module</strong> ‚Äî Policies control leave request validation, balance tracking, and approval routing</li>
      <li><strong>Payroll Module</strong> ‚Äî Unpaid leave policies trigger automatic salary deductions when leave is approved</li>
      <li><strong>End of Service</strong> ‚Äî Leave encashment policies determine how unused leave is calculated and paid at termination</li>
      <li><strong>Employee Profiles</strong> ‚Äî Policy assignments appear in employee records and control available leave types</li>
    </ul>
  </div>

  <div class="warning-box">
    <p><strong>Configuration Changes:</strong> Modifying an active leave policy can affect existing leave requests and employee balances. The system may move affected requests to Pending status for re-approval.</p>
  </div>
      </div>
    </section>
  

    <section class="section section-business-rules-limitations" id="business-rules-limitations">
      <header class="section-header">
        <h2 class="section-title">Business Rules &amp; Limitations</h2>
      </header>
      <div class="section-body">
        <div class="subsection">
    <h3>Core Business Rules</h3>
    
    <h4>Leave Accrual Calculation</h4>
    <ul>
      <li><strong>Daily Rate Formula:</strong> Salary Amount √∑ Total days (calendar or working based on policy)</li>
      <li><strong>Salary Components:</strong> Basic Only OR Basic + Allowances (configured per policy)</li>
      <li><strong>Monthly Accrual:</strong> Annual leave days √∑ 12 months</li>
      <li><strong>Proration:</strong> Calculated based on complete months worked only</li>
    </ul>

    <h4>Unpaid Leave Deductions</h4>
    <ul>
      <li><strong>Deduction Timing:</strong> Created automatically when unpaid leave is fully approved</li>
      <li><strong>Multi-Month Leave:</strong> System creates separate deductions for each calendar month</li>
      <li><strong>Closed Payroll Months:</strong> Deductions for closed months trigger email notification to Payroll Manager instead of automatic creation</li>
      <li><strong>Daily Wage Divisor:</strong> System uses 30.42 days (not calendar days) for deduction calculations</li>
    </ul>

    <h4>Leave Encashment</h4>
    <ul>
      <li><strong>End of Service:</strong> Calculated based on configured salary components (Basic OR Basic + Allowances)</li>
      <li><strong>Calculation Method:</strong> Uses Calendar days, Working days, or Custom days per policy configuration</li>
      <li><strong>Mid-Month Departures:</strong> System does not automatically calculate pro-rated leave encashment for employees leaving before month-end</li>
    </ul>

    <h4>Leave Policy Configuration</h4>
    <ul>
      <li><strong>Conditional Pay Rates:</strong> Up to 5 pay rate conditions per policy (e.g., fully paid for first 15 days, half pay for next 30 days, unpaid thereafter)</li>
      <li><strong>Carry Over:</strong> Cannot modify carry over allowance for companies with individual leave cycles</li>
      <li><strong>Accrual Pausing:</strong> Configuration cannot be edited once set; only applies to new leave requests</li>
    </ul>
  </div>

  <div class="subsection">
    <h3>Known Limitations</h3>

    <div class="warning-box">
      <p><strong>‚ö†Ô∏è Critical Limitations</strong></p>
      <ul>
        <li><strong>Payment Type Changes:</strong> Cannot change leave policy payment type (paid/unpaid) after employees are assigned</li>
        <li><strong>Conditional Pay Rate Activation:</strong> Cannot enable conditional pay rate on existing policies with active employee assignments; employees must be removed first</li>
        <li><strong>Leave Balance Data Loss:</strong> Unassigning and reassigning employees to policies can erase historical leave balances</li>
        <li><strong>Retroactive Leave Requests:</strong> Cannot create leave requests for periods before leave policy was assigned to employee</li>
        <li><strong>Policy Deletion Recovery:</strong> No self-service mechanism to restore accidentally deleted policies; requires backend intervention</li>
      </ul>
    </div>

    <table class="limitations-table">
      <thead>
        <tr>
          <th>Limitation</th>
          <th>Impact</th>
          <th>Severity</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>KSA-Specific Sick Leave Regulations</td>
          <td>Platform lacks native support for KSA anniversary-based sick leave accrual cycles</td>
          <td>High</td>
        </tr>
        <tr>
          <td>Public Holiday Recalculation</td>
          <td>Adding public holidays after leave approval does not trigger automatic recalculation of daily wage deductions</td>
          <td>High</td>
        </tr>
        <tr>
          <td>Salary Deduction Calculation</td>
          <td>System uses static salary reference point instead of dynamic calculation based on actual leave duration</td>
          <td>High</td>
        </tr>
        <tr>
          <td>Shift Days-Off Integration</td>
          <td>Working days leave policy cannot automatically account for scheduled shift days-off</td>
          <td>High</td>
        </tr>
        <tr>
          <td>Accrual Frequency Changes</td>
          <td>Cannot modify accrual frequency of existing policy; must create new policy instead</td>
          <td>Medium</td>
        </tr>
        <tr>
          <td>Hourly Leave Requests</td>
          <td>Platform does not support hourly leave; only full-day or half-day requests allowed</td>
          <td>Medium</td>
        </tr>
        <tr>
          <td>Carry-Over Bulk Updates</td>
          <td>No user-friendly bulk update mechanism for carry-over allowances; requires manual SQL updates</td>
          <td>Medium</td>
        </tr>
        <tr>
          <td>Leave Cycle Transitions</td>
          <td>Changing leave cycle types requires configuration team intervention and results in historical data loss</td>
          <td>High</td>
        </tr>
        <tr>
          <td>February 29th Hire Dates</td>
          <td>System starts leave cycle from February 28th for leap year hires, causing 1-day discrepancy</td>
          <td>High</td>
        </tr>
        <tr>
          <td>Audit Trail Access</td>
          <td>No user-accessible interface for viewing detailed audit logs of leave balance modifications</td>
          <td>Medium</td>
        </tr>
        <tr>
          <td>Payroll Report Visibility</td>
          <td>Current payroll template lacks unpaid leave count and leave salary total as data points</td>
          <td>Medium</td>
        </tr>
        <tr>
          <td>Conditional Policy Disclaimer</td>
          <td>Generic disclaimer message does not adapt to nuanced pay structures of conditional leave policies</td>
          <td>Medium</td>
        </tr>
        <tr>
          <td>Leave Expiry Notifications</td>
          <td>Fixed, non-configurable notification period for leave expiry; cannot customize advance notice</td>
          <td>Medium</td>
        </tr>
      </tbody>
    </table>

    <div class="info-box">
      <p><strong>Retroactive Modifications:</strong> Platform does not allow retroactive modifications to leave requests already processed in payroll.</p>
    </div>

    <div class="info-box">
      <p><strong>Offboarded Employees:</strong> System cannot dynamically handle employee exit scenarios involving unpaid leave requests; may cause persistent payroll table entries.</p>
    </div>

    <div class="info-box">
      <p><strong>Leave Salary Notifications:</strong> Role-based permissions automatically include notifications that may not be relevant to specific role responsibilities.</p>
    </div>
  </div>

  <div class="subsection">
    <h3>Calculation Constraints</h3>
    
    <table class="limitations-table">
      <thead>
        <tr>
          <th>Constraint Type</th>
          <th>Rule</th>
          <th>Example</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Daily Wage Calculation</td>
          <td>Uses 30.42 days divisor (not calendar days)</td>
          <td>AED 6,000 salary √∑ 30.42 = AED 197.24 daily rate</td>
        </tr>
        <tr>
          <td>Leave Accrual Proration</td>
          <td>Only complete months worked count toward accrual</td>
          <td>Employee leaving mid-month receives no accrual for that month</td>
        </tr>
        <tr>
          <td>Multi-Month Leave Deductions</td>
          <td>Separate deduction created per calendar month</td>
          <td>15-day leave spanning two months creates two deductions</td>
        </tr>
        <tr>
          <td>Conditional Leave Allowance</td>
          <td>Daily pro-rata calculation method used</td>
          <td>Complex calculation not intuitively understood by users expecting monthly accruals</td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="subsection">
    <h3>Configuration Restrictions</h3>
    
    <div class="warning-box">
      <p><strong>‚ö†Ô∏è Policy Modification Restrictions</strong></p>
      <p>The following policy attributes cannot be changed after employee assignment:</p>
      <ul>
        <li>Payment type (paid ‚Üî unpaid)</li>
        <li>Accrual frequency</li>
        <li>Conditional pay rate enablement</li>
        <li>Carry over allowance (for individual leave cycles)</li>
        <li>Accrual pausing configuration</li>
      </ul>
      <p>To modify these attributes, create a new policy and migrate employees.</p>
    </div>
  </div>

  <div class="subsection">
    <h3>Compliance & Regional Limitations</h3>
    
    <ul>
      <li><strong>KSA Sick Leave:</strong> Platform defaults to calendar year or hire date-based accrual; does not natively support KSA anniversary-based cycles</li>
      <li><strong>UAE Labor Law:</strong> Annual leave can be 30 Calendar Days OR 22 Working Days per policy configuration</li>
      <li><strong>Unpaid Leave & EOS:</strong> Unpaid leave deducted from service duration per labor law requirements (implemented over a year ago)</li>
    </ul>
  </div>

  <div class="subsection">
    <h3>Data Integrity Warnings</h3>
    
    <div class="warning-box">
      <p><strong>‚ö†Ô∏è Data Loss Scenarios</strong></p>
      <ul>
        <li><strong>Policy Unassignment:</strong> Removing employees from policy and reassigning can erase historical balances</li>
        <li><strong>Leave Cycle Changes:</strong> Transitioning between leave cycle types results in loss of existing leave-related data</li>
        <li><strong>Policy Deletion:</strong> Deleted policies cannot be recovered through self-service; requires support intervention</li>
        <li><strong>Attachment Deletion:</strong> Deleted leave request attachments cannot be recovered if never uploaded or permanently removed</li>
      </ul>
      <p><strong>Best Practice:</strong> Download backup before making bulk changes to leave policies.</p>
    </div>
  </div>
      </div>
    </section>
  

    <section class="section section-troubleshooting-edge-cases" id="troubleshooting-edge-cases">
      <header class="section-header">
        <h2 class="section-title">Troubleshooting &amp; Edge Cases</h2>
      </header>
      <div class="section-body">
        <div class="subsection">
    <h3>Common Issues</h3>
    
    <table class="limitations-table">
      <thead>
        <tr>
          <th>Issue</th>
          <th>Cause</th>
          <th>Resolution</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Unpaid leave deduction not appearing in payroll</td>
          <td>Payroll month was closed before leave approval OR public holidays added after leave request</td>
          <td>Check email notifications to Payroll Manager for closed months; manually add deduction if needed</td>
        </tr>
        <tr>
          <td>Leave balance shows incorrect days after approval</td>
          <td>Public holidays added/modified after leave request submitted; system does not recalculate previous cycles</td>
          <td>Manually adjust leave balance or resubmit leave request if in current cycle</td>
        </tr>
        <tr>
          <td>Cannot enable conditional pay rate on existing policy</td>
          <td>Employees currently assigned to policy; system prevents modification</td>
          <td>Unassign all employees, enable feature, then reassign employees (note: may lose historical data)</td>
        </tr>
        <tr>
          <td>Leave encashment shows unexpected amount</td>
          <td>Employee left mid-month; system does not auto-calculate pro-rated encashment</td>
          <td>Manually calculate pro-rated amount based on actual days worked in final month</td>
        </tr>
        <tr>
          <td>Deduction amount doesn't match expected salary calculation</td>
          <td>System uses 30.42 days divisor instead of calendar days</td>
          <td>Expected behavior; use formula: Salary √∑ 30.42 √ó leave days for verification</td>
        </tr>
        <tr>
          <td>Working days leave policy counts shift days-off</td>
          <td>System cannot automatically account for scheduled shift days-off in leave calculations</td>
          <td>Use calendar days policy OR manually adjust leave requests to exclude shift days-off</td>
        </tr>
        <tr>
          <td>Cannot change leave policy from paid to unpaid</td>
          <td>Payment type locked after employee assignment to prevent payroll/EOS calculation errors</td>
          <td>Create new unpaid leave policy and migrate employees</td>
        </tr>
        <tr>
          <td>Leave balance disappeared after policy edit</td>
          <td>Employees were unassigned and reassigned during policy modification</td>
          <td>Contact support for backend data recovery; download backups before policy changes</td>
        </tr>
        <tr>
          <td>February 29 hire date shows wrong leave cycle start</td>
          <td>System starts cycle from February 28 for leap year hires</td>
          <td>Known limitation; manually adjust allowance by 1 day if needed for conditional policies</td>
        </tr>
        <tr>
          <td>Retroactive leave request blocked</td>
          <td>Cannot create leave for periods before policy was assigned to employee</td>
          <td>Adjust policy assignment date OR create manual adjustment in payroll if needed</td>
        </tr>
        <tr>
          <td>Multi-month leave creates multiple deductions</td>
          <td>System design creates separate deduction per calendar month</td>
          <td>Expected behavior; review each month's payroll adjustments separately</td>
        </tr>
        <tr>
          <td>Deleted policy needs to be restored</td>
          <td>No self-service recovery mechanism available</td>
          <td>Contact support immediately for backend restoration</td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="subsection">
    <h3>Edge Cases</h3>
    
    <h4>Accrual & Calculation Edge Cases</h4>
    <ul>
      <li><strong>Leap Year Hires (Feb 29):</strong> Leave cycle starts Feb 28, causing 1-day discrepancy in conditional allowance calculations</li>
      <li><strong>Mid-Month Departures:</strong> No accrual for incomplete final month; manual calculation required for encashment</li>
      <li><strong>Multi-Month Unpaid Leave:</strong> Each calendar month generates separate deduction; future month deductions scheduled but email delayed until month opens</li>
      <li><strong>Overlapping Deductions:</strong> System shows remarks similar to recurring deductions when multiple deductions exist</li>
      <li><strong>Past Cycle Approvals:</strong> Approving leave from previous cycle triggers automatic recalculation without transparent user notification</li>
    </ul>

    <h4>Configuration Edge Cases</h4>
    <ul>
      <li><strong>Zero Maximum Encashable Days:</strong> UI fails to correctly interpret and display when policy configured with zero max days</li>
      <li><strong>Concurrent Payroll Changes:</strong> Modifying daily wage calculations blocks policy creation instead of allowing flexible workflow</li>
      <li><strong>Leave Cycle Transitions:</strong> Changing from individual to calendar cycle (or vice versa) requires configuration team and loses historical data</li>
      <li><strong>Carry-Over with Individual Cycles:</strong> Cannot modify carry-over allowance once individual leave cycles are in use</li>
    </ul>

    <h4>Approval & Processing Edge Cases</h4>
    <ul>
      <li><strong>Closed Payroll Months:</strong> Approved unpaid leave for closed months sends email notification instead of creating automatic deduction</li>
      <li><strong>Leave Spanning Cycle Boundaries:</strong> Leave salary requests split across different cycles must be tracked and approved separately</li>
      <li><strong>Offboarded Employees with Pending Leave:</strong> Unpaid leave requests can block employee removal from payroll table</li>
      <li><strong>Retroactive Public Holiday Addition:</strong> No automatic recalculation of existing leave requests; only affects future requests</li>
    </ul>

    <h4>Regional Compliance Edge Cases</h4>
    <ul>
      <li><strong>KSA Sick Leave Accrual:</strong> Platform defaults to calendar/hire date cycles; workaround required for anniversary-based accrual</li>
      <li><strong>KSA Unpaid Leave Pausing:</strong> Must configure 21-day minimum for unpaid leave to comply with local regulations</li>
      <li><strong>UAE Annual Leave Options:</strong> Must choose either 30 calendar days OR 22 working days per labor law</li>
    </ul>
  </div>

  <div class="subsection">
    <h3>Workarounds for Known Limitations</h3>
    
    <div class="info-box">
      <p><strong>Changing Payment Type (Paid ‚Üî Unpaid):</strong></p>
      <ol>
        <li>Create new policy with desired payment type</li>
        <li>Download current employee leave balances</li>
        <li>Assign employees to new policy</li>
        <li>Manually restore used days and balances from download</li>
        <li>Archive old policy (do not delete)</li>
      </ol>
    </div>

    <div class="info-box">
      <p><strong>Enabling Conditional Pay Rate on Existing Policy:</strong></p>
      <ol>
        <li>Download employee leave data</li>
        <li>Unassign all employees from policy</li>
        <li>Enable conditional pay rate feature</li>
        <li>Reassign employees</li>
        <li>Restore historical used days from download</li>
      </ol>
    </div>

    <div class="info-box">
      <p><strong>Pro-Rated Leave Encashment for Mid-Month Departures:</strong></p>
      <ol>
        <li>Calculate days worked in final month manually</li>
        <li>Determine daily accrual rate (annual days √∑ 365 or 260)</li>
        <li>Multiply days worked √ó daily accrual rate</li>
        <li>Add to EOS calculation as manual adjustment</li>
      </ol>
    </div>

    <div class="info-box">
      <p><strong>Shift Days-Off in Working Days Policy:</strong></p>
      <ol>
        <li>Use calendar days policy instead OR</li>
        <li>Train employees to manually exclude shift days-off when requesting leave OR</li>
        <li>Configure custom days calculation to match shift schedule</li>
      </ol>
    </div>

    <div class="info-box">
      <p><strong>KSA Anniversary-Based Sick Leave:</strong></p>
      <ol>
        <li>Use individual leave cycle based on hire date</li>
        <li>Configure sick leave policy with 90-day allowance</li>
        <li>Set accrual to match anniversary cycle</li>
        <li>Document workaround for audit purposes</li>
      </ol>
    </div>
  </div>

  <div class="subsection">
    <h3>Diagnostic Steps</h3>
    
    <h4>When Leave Balance Appears Incorrect:</h4>
    <ol>
      <li>Check employee hire date and leave cycle start date</li>
      <li>Verify policy type (calendar days vs working days)</li>
      <li>Review public holiday calendar for recent changes</li>
      <li>Check if conditional allowance applies based on tenure/probation</li>
      <li>Review leave history for approved requests in current cycle</li>
      <li>Verify if accrual pausing is configured and triggered</li>
    </ol>

    <h4>When Unpaid Leave Deduction Missing:</h4>
    <ol>
      <li>Confirm leave request is fully approved by all approvers</li>
      <li>Check if payroll month is still open</li>
      <li>Review email notifications for closed month alerts</li>
      <li>Verify employee has salary configuration</li>
      <li>Check if public holidays were added after leave approval</li>
      <li>Review Finance ‚Üí Adjustments tab for deduction status</li>
    </ol>

    <h4>When Policy Modification Blocked:</h4>
    <ol>
      <li>Check if employees are currently assigned to policy</li>
      <li>Verify which specific attribute is being modified</li>
      <li>Review list of locked attributes (payment type, accrual frequency, conditional pay rate)</li>
      <li>Download employee data backup before attempting workaround</li>
      <li>Consider creating new policy instead of modifying existing</li>
    </ol>
  </div>
      </div>
    </section>
  

    <section class="section section-support-resources" id="support-resources">
      <header class="section-header">
        <h2 class="section-title">FAQs &amp; Support</h2>
      </header>
      <div class="section-body">
        <div class="subsection">
  <h3>Frequently Asked Questions</h3>

  <div class="faq-accordion"><details class="faq-item">
    <summary>Can I change a leave policy from paid to unpaid after employees are assigned?</summary>
    <p>No. The platform prevents changing payment type (paid/unpaid) once employees are assigned to the policy due to impacts on payroll calculations and End of Service duration tracking.</p>
  </details>

  <details class="faq-item">
    <summary>How is unpaid leave deducted from payroll?</summary>
    <p>The system uses a daily wage divisor (30.42 days) to calculate deductions. Daily rate = (Basic + Allowances) / 30.42. Deduction = Daily rate √ó Number of unpaid leave days.</p>
  </details>

  <details class="faq-item">
    <summary>Can I modify the accrual frequency of an existing leave policy?</summary>
    <p>No. You must create a new policy with the desired accrual frequency. The platform does not support editing accrual frequency after policy creation.</p>
  </details>

  <details class="faq-item">
    <summary>Why doesn't my leave policy automatically account for shift days-off?</summary>
    <p>The platform cannot automatically track scheduled shift days-off in leave calculations. Employees with complex shift schedules may need manual adjustments to accurately track leave usage.</p>
  </details>

  <details class="faq-item">
    <summary>Can I recover a deleted leave policy?</summary>
    <p>No self-service recovery exists. Contact Bayzat support for backend intervention to restore accidentally deleted policies.</p>
  </details>

  <details class="faq-item">
    <summary>How do I change from individual leave cycles to calendar year cycles?</summary>
    <p>Contact the Bayzat configuration team. This change requires specialized intervention and will result in losing existing leave-related historical data.</p>
  </details>

  <details class="faq-item">
    <summary>Can employees request leave for periods before their policy was assigned?</summary>
    <p>No. The platform does not allow creating leave requests for periods before a leave policy is assigned, even when the payroll cycle remains open.</p>
  </details>

  <details class="faq-item">
    <summary>How do I enable conditional pay rates on an existing sick leave policy?</summary>
    <p>You must remove all employees from the policy before enabling conditional pay rate features. This creates a complex migration process.</p>
  </details>

  <details class="faq-item">
    <summary>Can I modify carry-over allowance for companies with individual leave cycles?</summary>
    <p>No. The platform currently cannot modify carry-over allowance for individual leave cycle configurations. This is a system constraint.</p>
  </details>

  <details class="faq-item">
    <summary>Why are public holidays not automatically deducted from my leave calculation?</summary>
    <p>Enable the "Exclude public holidays" setting when creating or editing the leave policy. Changes only apply to new leave requests, not retroactively.</p>
  </details>

  <details class="faq-item">
    <summary>How do I track leave encashment at end of service?</summary>
    <p>Configure leave encashment in Settings ‚Üí Payroll ‚Üí End of Service eligibility. Select which leave types are encashable and choose calculation basis (Basic Only or Basic + Allowances).</p>
  </details>

  <details class="faq-item">
    <summary>Can I set up hourly leave requests?</summary>
    <p>No. The platform only supports full-day or half-day leave applications. Hourly leave tracking is not currently available.</p>
  </details>

</div></div>

<div class="subsection">
  <h3>Getting Help</h3>
  <ul>
    <li><strong>Bayzat Support:</strong> Contact your Customer Success Manager or submit a ticket through the platform for policy configuration assistance</li>
    <li><strong>Technical Issues:</strong> Report bugs or data inconsistencies to support@bayzat.com with screenshots and employee details</li>
    <li><strong>Configuration Team:</strong> Request specialized help for complex policy migrations or bulk updates through your account manager</li>
  </ul>
</div>
      </div>
    </section>
  

    <section class="section section-glossary" id="glossary">
      <header class="section-header">
        <h2 class="section-title">Glossary</h2>
      </header>
      <div class="section-body">
        <table class="glossary-table">
  <thead>
    <tr>
      <th>Term</th>
      <th>Definition</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Accrual</strong></td>
      <td>The automatic accumulation of leave days over time, typically calculated monthly (annual allowance √∑ 12).</td>
    </tr>
    <tr>
      <td><strong>Calendar Days</strong></td>
      <td>Leave calculation method that counts all days including weekends and public holidays.</td>
    </tr>
    <tr>
      <td><strong>Carry-Over Allowance</strong></td>
      <td>The number of unused leave days that can be transferred from one leave cycle to the next.</td>
    </tr>
    <tr>
      <td><strong>Conditional Pay Rate</strong></td>
      <td>Variable payment structure where leave is fully paid, partially paid, or unpaid based on number of days taken (e.g., first 15 days fully paid, next 30 days half pay).</td>
    </tr>
    <tr>
      <td><strong>Daily Wage Divisor</strong></td>
      <td>The number used to calculate daily pay rate for unpaid leave deductions (typically 30.42 days).</td>
    </tr>
    <tr>
      <td><strong>End of Service (EOS)</strong></td>
      <td>Final settlement calculations when an employee leaves, including leave encashment and gratuity.</td>
    </tr>
    <tr>
      <td><strong>Leave Cycle</strong></td>
      <td>The period over which leave accrues and resets, either calendar year-based or individual hire date-based.</td>
    </tr>
    <tr>
      <td><strong>Leave Encashment</strong></td>
      <td>Converting unused leave days to cash payment, typically at end of service or during employment per policy.</td>
    </tr>
    <tr>
      <td><strong>Leave Policy</strong></td>
      <td>Configuration template defining leave type, allowance, accrual method, payment structure, and eligibility rules.</td>
    </tr>
    <tr>
      <td><strong>Leave Salary</strong></td>
      <td>Advance payment of salary to employees going on extended leave, processed before the leave period begins.</td>
    </tr>
    <tr>
      <td><strong>Probation Period</strong></td>
      <td>Initial employment period during which leave restrictions or different accrual rules may apply.</td>
    </tr>
    <tr>
      <td><strong>Prorated Accrual</strong></td>
      <td>Leave days calculated proportionally based on partial months worked or mid-cycle policy changes.</td>
    </tr>
    <tr>
      <td><strong>Unpaid Leave</strong></td>
      <td>Time off without salary payment, automatically creating payroll deductions when approved.</td>
    </tr>
    <tr>
      <td><strong>Working Days</strong></td>
      <td>Leave calculation method that counts only business days, excluding weekends and public holidays.</td>
    </tr>
  </tbody>
</table>
      </div>
    </section>
  
    </main>

    <footer>
      <div>Generated by Bayzat Documentation System</div>
      <div>Last updated: 2026-02-24</div>
    </footer>
  </div>
</body>
</html>