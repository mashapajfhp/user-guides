<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>leave-policies - User Guide | Bayzat</title>
  <style>
/* ===============================
   GLOBAL RESET
================================ */
*, *::before, *::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

/* ===============================
   BASE TYPOGRAPHY
================================ */
body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
  line-height: 1.6;
  color: #000000;
  background-color: #ffffff;
  max-width: 1060px;
  margin: 0 auto;
  padding: 20px;
}

h1, h2, h3, h4, h5, h6 {
  color: #000000;
  font-weight: 600;
}

p, span, li, td, th, dt, dd {
  color: #000000;
}

a {
  color: #6B46C1;
  text-decoration: none;
}
a:hover {
  text-decoration: underline;
}

hr {
  border: none;
  border-top: 2px solid #E2E8F0;
  margin: 2rem 0;
}

/* ===============================
   HERO SECTION
================================ */
.hero-banner {
  background: linear-gradient(135deg, #6B46C1 0%, #805AD5 100%);
  color: #ffffff;
  padding: 60px 40px;
  border-radius: 12px;
  margin-bottom: 40px;
  text-align: center;
}

.hero-banner h1 {
  font-size: 2.5rem;
  font-weight: 700;
  margin-bottom: 16px;
  color: #ffffff;
}

.hero-subtitle {
  font-size: 1.2rem;
  opacity: 0.95;
  margin-bottom: 20px;
  color: #ffffff;
}

.hero-image {
  margin-top: 24px;
}

.hero-image img {
  max-width: 100%;
  border-radius: 8px;
  box-shadow: 0 8px 24px rgba(0,0,0,0.2);
}

/* ===============================
   MODERN GUIDE NAVIGATION
================================ */
.guide-nav {
  background: linear-gradient(135deg, #f8f9ff 0%, #f0f4ff 100%);
  border-radius: 16px;
  padding: 24px;
  margin-bottom: 40px;
  border: 1px solid #e2e8f0;
}

.nav-header {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 20px;
  padding-bottom: 16px;
  border-bottom: 2px solid #e2e8f0;
}

.nav-icon {
  font-size: 1.5rem;
}

.nav-title {
  font-size: 1.1rem;
  font-weight: 600;
  color: #1a1a2e;
  letter-spacing: -0.02em;
}

.nav-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
  gap: 12px;
}

.nav-card {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 14px 16px;
  background: #ffffff;
  border-radius: 12px;
  text-decoration: none;
  color: #334155;
  font-size: 0.9rem;
  font-weight: 500;
  border: 1px solid #e2e8f0;
  transition: all 0.2s ease;
  box-shadow: 0 1px 3px rgba(0,0,0,0.04);
}

.nav-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(107, 70, 193, 0.15);
  border-color: #6B46C1;
  background: linear-gradient(135deg, #faf5ff 0%, #f3e8ff 100%);
  color: #6B46C1;
  text-decoration: none;
}

.nav-card:active {
  transform: translateY(0);
}

.card-icon {
  font-size: 1.2rem;
  flex-shrink: 0;
}

.card-label {
  line-height: 1.3;
}

/* ===============================
   SECTIONS
================================ */
.section {
  margin-bottom: 3rem;
  padding: 24px;
  background: #ffffff;
  border-radius: 8px;
  border: 1px solid #E2E8F0;
}

.section h2 {
  font-size: 1.75rem;
  font-weight: 600;
  padding-bottom: 0.5rem;
  border-bottom: 2px solid #E2E8F0;
  margin-bottom: 1rem;
}

.subsection {
  margin: 1.5rem 0;
  padding-left: 1rem;
  border-left: 3px solid #E2E8F0;
}

.subsection h3 {
  font-size: 1.1rem;
  font-weight: 600;
  color: #000000;
  margin-bottom: 1rem;
}

/* ===============================
   STRATEGIC CONTEXT
================================ */
.strategic-context {
  margin: 1.5rem 0;
  padding-left: 1rem;
  border-left: 3px solid #E2E8F0;
}

.strategic-header {
  margin-bottom: 1rem;
}

.strategic-header h3 {
  font-size: 1.1rem;
  font-weight: 600;
  color: #000000;
  margin: 0;
}

.strategic-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 16px;
  margin-top: 16px;
}

.strategic-card {
  background: #ffffff;
  border: 1px solid #E2E8F0;
  border-radius: 8px;
  padding: 20px;
}

.strategic-card h4 {
  font-size: 1rem;
  font-weight: 600;
  color: #000000;
  margin: 0 0 12px 0;
}

.strategic-card p {
  font-size: 0.95rem;
  color: #334155;
  margin: 0 0 12px 0;
  line-height: 1.5;
}

.strategic-card ul {
  margin: 0;
  padding-left: 1.25rem;
}

.strategic-card li {
  font-size: 0.9rem;
  color: #334155;
  margin-bottom: 6px;
}

.strategic-card li:last-child {
  margin-bottom: 0;
}

/* ===============================
   JOURNEY ROADMAP
================================ */
.journey-roadmap {
  margin: 1rem 0;
}

.journey-roadmap > .subsection {
  border-left: none;
  padding-left: 0;
  margin-bottom: 1.5rem;
}

.journey-roadmap > .subsection h3 {
  font-size: 1.1rem;
  margin-bottom: 0.5rem;
}

.journey-roadmap > .subsection > p {
  color: #64748b;
  font-size: 0.95rem;
  margin: 0;
}

.journey-phases {
  position: relative;
  padding-left: 24px;
}

/* Vertical timeline line */
.journey-phases::before {
  content: '';
  position: absolute;
  left: 15px;
  top: 20px;
  bottom: 20px;
  width: 2px;
  background: linear-gradient(to bottom, #6B46C1 0%, #805AD5 100%);
  border-radius: 2px;
}

.journey-phase {
  display: flex;
  align-items: flex-start;
  gap: 20px;
  padding: 16px 0;
  position: relative;
}

.journey-phase:first-child {
  padding-top: 0;
}

.journey-phase:last-child {
  padding-bottom: 0;
}

.phase-marker {
  width: 32px;
  height: 32px;
  min-width: 32px;
  background: linear-gradient(135deg, #6B46C1 0%, #805AD5 100%);
  color: #ffffff;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.9rem;
  position: relative;
  z-index: 1;
  box-shadow: 0 2px 8px rgba(107, 70, 193, 0.3);
}

.phase-content {
  flex: 1;
  background: #ffffff;
  border: 1px solid #E2E8F0;
  border-radius: 12px;
  padding: 16px 20px;
  transition: all 0.2s ease;
}

.phase-content:hover {
  border-color: #6B46C1;
  box-shadow: 0 4px 12px rgba(107, 70, 193, 0.1);
}

.phase-content h4 {
  font-size: 1rem;
  font-weight: 600;
  color: #000000;
  margin: 0 0 8px 0;
}

.phase-content p {
  font-size: 0.9rem;
  color: #64748b;
  margin: 0 0 12px 0;
  line-height: 1.5;
}

.phase-link {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  font-size: 0.85rem;
  font-weight: 600;
  color: #6B46C1;
  text-decoration: none;
  transition: all 0.2s ease;
}

.phase-link:hover {
  color: #805AD5;
  text-decoration: none;
}

.phase-link::after {
  content: '\2192';
  transition: transform 0.2s ease;
}

.phase-link:hover::after {
  transform: translateX(4px);
}

/* ===============================
   WHO USES TABLE
================================ */
.who-uses-table {
  width: 100%;
  border-collapse: collapse;
  margin: 20px 0;
}

.who-uses-table th,
.who-uses-table td {
  padding: 12px 16px;
  text-align: left;
  border: 1px solid #E2E8F0;
}

.who-uses-table th {
  background: #F7FAFC;
  font-weight: 600;
}

/* ===============================
   FAQ ACCORDION
================================ */
.faq-accordion {
  display: flex;
  flex-direction: column;
  gap: 12px;
  margin-top: 16px;
}

.faq-item {
  border: 1px solid #E2E8F0;
  border-radius: 12px;
  overflow: hidden;
  background: #ffffff;
  transition: all 0.2s ease;
}

.faq-item:hover {
  border-color: #6B46C1;
  box-shadow: 0 2px 8px rgba(107, 70, 193, 0.1);
}

.faq-item[open] {
  border-color: #6B46C1;
  box-shadow: 0 4px 12px rgba(107, 70, 193, 0.15);
}

.faq-question,
.faq-item > summary {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 18px 20px;
  font-weight: 600;
  font-size: 1rem;
  color: #1a1a2e;
  cursor: pointer;
  background: #f8f9ff;
  list-style: none;
  transition: all 0.2s ease;
}

.faq-question::-webkit-details-marker,
.faq-item > summary::-webkit-details-marker {
  display: none;
}

.faq-question::after,
.faq-item > summary::after {
  content: '';
  width: 10px;
  height: 10px;
  border-right: 2px solid #6B46C1;
  border-bottom: 2px solid #6B46C1;
  transform: rotate(-45deg);
  transition: transform 0.3s ease;
  flex-shrink: 0;
  margin-left: 16px;
}

.faq-item[open] .faq-question::after,
.faq-item[open] > summary::after {
  transform: rotate(45deg);
}

.faq-question:hover,
.faq-item > summary:hover {
  background: linear-gradient(135deg, #faf5ff 0%, #f3e8ff 100%);
  color: #6B46C1;
}

.faq-item[open] .faq-question,
.faq-item[open] > summary {
  background: linear-gradient(135deg, #6B46C1 0%, #805AD5 100%);
  color: #ffffff;
}

.faq-item[open] .faq-question::after,
.faq-item[open] > summary::after {
  border-color: #ffffff;
}

.faq-answer {
  padding: 20px;
  background: #ffffff;
  color: #334155;
  line-height: 1.7;
  border-top: 1px solid #E2E8F0;
  animation: fadeIn 0.3s ease;
}

.faq-answer p {
  margin: 0;
  color: #334155;
}

.faq-answer ul, .faq-answer ol {
  margin: 12px 0;
  padding-left: 24px;
}

.faq-answer li {
  margin-bottom: 8px;
  color: #334155;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(-8px); }
  to { opacity: 1; transform: translateY(0); }
}

/* ===============================
   INFO & WARNING BOXES
================================ */
.info-box {
  padding: 16px 20px;
  border-radius: 8px;
  margin: 20px 0;
  background: #FAF5FF;
  border-left: 4px solid #6B46C1;
  color: #000000;
}

.warning-box {
  padding: 16px 20px;
  border-radius: 8px;
  margin: 20px 0;
  background: #FFFBEB;
  border-left: 4px solid #D97706;
  color: #000000;
}

.warning-box p,
.info-box p {
  margin: 0 0 8px 0;
}

.warning-box p:last-child,
.info-box p:last-child {
  margin-bottom: 0;
}

/* ===============================
   LISTS
================================ */
ul, ol {
  margin: 1rem 0;
  padding-left: 2rem;
}

li {
  margin-bottom: 0.5rem;
}

/* ===============================
   TABLES
================================ */
table {
  width: 100%;
  border-collapse: collapse;
  margin: 20px 0;
}

th, td {
  padding: 12px 16px;
  text-align: left;
  border: 1px solid #E2E8F0;
  color: #000000;
}

th {
  background: #F7FAFC;
  font-weight: 600;
}

tr:hover {
  background: #F7FAFC;
}

/* ===============================
   SCREENSHOTS
================================ */
figure {
  margin: 24px auto;
  text-align: center;
}

figure img,
.screenshot {
  max-width: 100%;
  height: auto;
  border-radius: 8px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  border: 1px solid #E2E8F0;
  display: block;
  margin: 0 auto;
}

figcaption {
  margin-top: 12px;
  font-size: 0.9rem;
  font-style: italic;
  color: #000000;
  opacity: 0.8;
}

/* Screenshot container with consistent spacing */
.screenshot-container {
  margin: 24px auto;
  text-align: center;
}

.screenshot-container img {
  max-width: 100%;
  height: auto;
  border-radius: 8px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  border: 1px solid #E2E8F0;
  display: block;
  margin: 0 auto;
}

.screenshot-container figcaption {
  margin-top: 12px;
  font-size: 0.9rem;
  font-style: italic;
  color: #000000;
  opacity: 0.8;
}

/* ===============================
   FEATURE CARDS & GRIDS
================================ */
.feature-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 16px;
  margin: 20px 0;
}

.feature-card {
  background: #ffffff;
  border: 1px solid #E2E8F0;
  border-radius: 8px;
  padding: 20px;
  color: #000000;
}

.feature-card h4 {
  margin-top: 0;
  color: #000000;
}

/* ===============================
   REQUIREMENTS TABLE
================================ */
.requirements-table {
  width: 100%;
  border-collapse: collapse;
  margin: 20px 0;
}

.requirements-table th,
.requirements-table td {
  padding: 12px 16px;
  text-align: left;
  border: 1px solid #E2E8F0;
}

.requirements-table th {
  background: #F7FAFC;
  font-weight: 600;
}

/* ===============================
   LIMITATIONS TABLE
================================ */
.limitations-table {
  width: 100%;
  border-collapse: collapse;
  margin: 20px 0;
}

.limitations-table th,
.limitations-table td {
  padding: 12px 16px;
  text-align: left;
  border: 1px solid #E2E8F0;
}

.limitations-table th {
  background: #F7FAFC;
  font-weight: 600;
}

/* ===============================
   GLOSSARY TABLE
================================ */
.glossary-table {
  width: 100%;
  border-collapse: collapse;
  margin: 20px 0;
}

.glossary-table th,
.glossary-table td {
  padding: 12px 16px;
  text-align: left;
  border: 1px solid #E2E8F0;
}

.glossary-table th {
  background: #F7FAFC;
  font-weight: 600;
}

.glossary-table td:first-child {
  width: 25%;
  white-space: nowrap;
}

/* ===============================
   LEGACY JOURNEY & STEPS (backwards compatibility)
================================ */
.journey-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 16px;
  margin: 20px 0;
}

.journey-step {
  background: #F7FAFC;
  border-radius: 8px;
  padding: 20px;
  color: #000000;
}

.journey-step .step-number,
.step-number {
  background: #6B46C1;
  color: #ffffff;
  width: 32px;
  height: 32px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 600;
  margin-bottom: 12px;
}

.step {
  display: flex;
  gap: 16px;
  margin: 20px 0;
  padding: 16px;
  background: #F7FAFC;
  border-radius: 8px;
}

/* ===============================
   NAVIGATION PATH
================================ */
.nav-path {
  background: #F7FAFC;
  padding: 12px 16px;
  border-radius: 6px;
  font-family: 'SF Mono', Monaco, monospace;
  margin: 16px 0;
  color: #000000;
}

/* ===============================
   CODE & BLOCKQUOTES
================================ */
code {
  background: #F7FAFC;
  padding: 2px 6px;
  border-radius: 4px;
  font-family: 'SF Mono', Monaco, monospace;
  font-size: 0.9em;
  color: #000000;
}

pre {
  background: #F7FAFC;
  padding: 16px;
  border-radius: 8px;
  overflow-x: auto;
  color: #000000;
}

blockquote {
  border-left: 4px solid #E2E8F0;
  padding-left: 16px;
  margin: 16px 0;
  font-style: italic;
  color: #000000;
}

blockquote p {
  margin: 0 0 8px 0;
}

blockquote p:last-child {
  margin-bottom: 0;
}

/* ===============================
   FOOTER
================================ */
footer {
  margin-top: 40px;
  padding-top: 20px;
  border-top: 1px solid #E2E8F0;
  text-align: center;
  color: #000000;
  font-size: 0.9rem;
}

/* ===============================
   RESPONSIVE
================================ */
@media (max-width: 768px) {
  body { padding: 16px; }
  .hero-banner { padding: 40px 24px; }
  .hero-banner h1 { font-size: 1.75rem; }
  .section { padding: 16px; }
  th, td { padding: 8px 12px; }
  .nav-grid {
    grid-template-columns: repeat(2, 1fr);
    gap: 8px;
  }
  .nav-card {
    padding: 12px;
    font-size: 0.85rem;
  }
  .card-icon {
    font-size: 1rem;
  }
  .faq-question,
  .faq-item > summary {
    padding: 14px 16px;
    font-size: 0.95rem;
  }
  .faq-answer {
    padding: 16px;
  }
  .strategic-grid {
    grid-template-columns: 1fr;
  }
  .journey-phases {
    padding-left: 20px;
  }
  .journey-phases::before {
    left: 11px;
  }
  .phase-marker {
    width: 28px;
    height: 28px;
    min-width: 28px;
    font-size: 0.8rem;
  }
  .phase-content {
    padding: 14px 16px;
  }
  .glossary-table td:first-child {
    white-space: normal;
  }
}

@media (max-width: 480px) {
  .hero-banner h1 { font-size: 1.5rem; }
  .hero-subtitle { font-size: 1rem; }
  .step { flex-direction: column; gap: 12px; }
  .nav-grid {
    grid-template-columns: 1fr;
  }
  .guide-nav {
    padding: 16px;
  }
  .journey-phase {
    gap: 12px;
  }
}

/* ===============================
   PRINT
================================ */
@media print {
  body { max-width: 100%; padding: 0; }
  .hero-banner {
    background: #6B46C1 !important;
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
  }
  .section { break-inside: avoid; }
  .guide-nav { display: none; }
  .faq-item { break-inside: avoid; }
  .faq-item[open] .faq-answer { display: block; }
  .journey-phases::before {
    background: #6B46C1 !important;
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
  }
}
  </style>
</head>
<body>
  <div class="page">
    <div class="hero-banner">
      <h1>leave-policies</h1>
      <p class="hero-subtitle">Replace manual leave tracking with automated policies that calculate balances, enforce rules, and sync deductions to payroll</p>
      
    </div>

    
    <nav class="guide-nav" aria-label="Guide navigation">
      <div class="nav-header">
        <span class="nav-icon">&#128214;</span>
        <span class="nav-title">Quick Navigation</span>
      </div>
      <div class="nav-grid">
        <a class="nav-card" href="#feature-overview">
          <span class="card-icon">&#10024;</span>
          <span class="card-label">What is leave-policies?</span>
        </a>
        <a class="nav-card" href="#product-foundation">
          <span class="card-icon">&#127959;&#65039;</span>
          <span class="card-label">Product Foundation Overview</span>
        </a>
        <a class="nav-card" href="#user-journey">
          <span class="card-icon">&#128506;&#65039;</span>
          <span class="card-label">Complete User Journey Guide</span>
        </a>
        <a class="nav-card" href="#feature-entry-points">
          <span class="card-icon">&#128640;</span>
          <span class="card-label">Feature Discovery</span>
        </a>
        <a class="nav-card" href="#initial-setup">
          <span class="card-icon">&#9881;&#65039;</span>
          <span class="card-label">Initial Setup</span>
        </a>
        <a class="nav-card" href="#core-tasks">
          <span class="card-icon">&#128203;</span>
          <span class="card-label">Key Tasks</span>
        </a>
        <a class="nav-card" href="#workflow-integration">
          <span class="card-icon">&#128260;</span>
          <span class="card-label">Workflow Integration</span>
        </a>
        <a class="nav-card" href="#business-rules-limitations">
          <span class="card-icon">&#128207;</span>
          <span class="card-label">Business Rules &amp; Limitations</span>
        </a>
        <a class="nav-card" href="#troubleshooting-edge-cases">
          <span class="card-icon">&#128295;</span>
          <span class="card-label">Troubleshooting &amp; Edge Cases</span>
        </a>
        <a class="nav-card" href="#support-resources">
          <span class="card-icon">&#128172;</span>
          <span class="card-label">FAQs &amp; Support</span>
        </a>
        <a class="nav-card" href="#glossary">
          <span class="card-icon">&#128218;</span>
          <span class="card-label">Glossary</span>
        </a>
      </div>
    </nav>
  

    <main class="content-area" aria-label="User guide content">
      
    <section class="section section-feature-overview" id="feature-overview">
      <header class="section-header">
        <h2 class="section-title">What is leave-policies?</h2>
      </header>
      <div class="section-body">
        <div class="subsection">
  <h3>Overview</h3>
  <p>Leave Policies define how employees accrue, request, and use time off. Access them at Settings ‚Üí Leaves ‚Üí Leave Policies to create templates for annual leave, sick leave, unpaid leave, and custom leave types.</p>

  <figure class="screenshot-container">
    <img src="https://raw.githubusercontent.com/mashapajfhp/user-guides/main/leave-policies/v1/validation/screenshots/missing.png" alt="missing.png" class="screenshot" loading="lazy">
    <figcaption>Leave Policies configuration screen showing policy list with accrual settings and employee assignments</figcaption>
  </figure>

  <p>Create policies from scratch or templates, configure accrual rates and pay rules, then assign to employees individually or in bulk.</p>
</div>

<div class="subsection">
  <h3>Key Benefits</h3>
  <ul>
    <li>Automate monthly accrual calculations based on tenure, probation status, or custom conditions</li>
    <li>Enforce working day vs calendar day rules, carryover limits, and negative balance restrictions</li>
    <li>Link unpaid leave policies to payroll for automatic salary deductions</li>
    <li>Configure conditional pay rates (fully paid, partially paid, unpaid) based on leave days taken</li>
    <li>Track leave balances, usage history, and encashment eligibility in real time</li>
    <li>Pause accrual during extended unpaid leave to comply with labor law</li>
  </ul>
</div>

<div class="strategic-context">
  <div class="strategic-header">
    <h3>Strategic Context</h3>
  </div>
  <div class="strategic-grid">
    <div class="strategic-card">
      <h4>üéØ What leave-policies Solves</h4>
      <p>Eliminates manual spreadsheet tracking of leave balances, accrual calculations, and payroll deduction reconciliation.</p>
      <ul>
        <li>Replaces error-prone manual calculations with automated accrual formulas</li>
        <li>Standardizes leave rules across departments and employee types</li>
        <li>Enables self-service leave requests with real-time balance visibility</li>
      </ul>
    </div>
    <div class="strategic-card">
      <h4>üí∞ Why It Matters</h4>
      <p>Leave policies are foundational configuration templates that control time-off entitlements, payroll deductions, and compliance reporting.</p>
      <ul>
        <li>Required before employees can submit leave requests</li>
        <li>Drives automatic payroll deductions for unpaid leave</li>
        <li>Controls end-of-service leave encashment calculations</li>
      </ul>
    </div>
    <div class="strategic-card">
      <h4>üèóÔ∏è How It Connects</h4>
      <p>Configuration template assigned to employees that triggers transactional leave requests and payroll adjustments.</p>
      <ul>
        <li>Assigned via employee profiles or bulk upload</li>
        <li>Referenced by leave requests, approval workflows, and payroll deductions</li>
        <li>One policy can affect hundreds of employees; changes apply to future requests only</li>
      </ul>
    </div>
  </div>
</div>

<div class="subsection">
  <h3>Who Uses This Feature?</h3>
  <table class="who-uses-table">
    <thead>
      <tr>
        <th>User Role</th>
        <th>What They Do</th>
        <th>Value Proposition</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><strong>HR Administrators</strong></td>
        <td>Create and configure leave policies, set accrual rules, assign policies to employees, and manage exceptions.</td>
        <td>Automate leave calculations and eliminate monthly spreadsheet updates for hundreds of employees.</td>
      </tr>
      <tr>
        <td><strong>Payroll Managers</strong></td>
        <td>Configure unpaid leave deduction settings, review leave salary policies, and verify payroll integration.</td>
        <td>Automatic payroll deductions replace manual data entry and reduce salary calculation errors.</td>
      </tr>
      <tr>
        <td><strong>Line Managers</strong></td>
        <td>View team leave balances, approve requests within policy limits, and track usage patterns.</td>
        <td>Real-time balance visibility prevents over-allocation and scheduling conflicts.</td>
      </tr>
      <tr>
        <td><strong>Employees</strong></td>
        <td>View assigned policies, check available balances, and submit leave requests within policy rules.</td>
        <td>Self-service access to leave balances and request status replaces email inquiries to HR.</td>
      </tr>
    </tbody>
  </table>
</div>
      </div>
    </section>
  

    <section class="section section-product-foundation" id="product-foundation">
      <header class="section-header">
        <h2 class="section-title">Product Foundation Overview</h2>
      </header>
      <div class="section-body">
        <div class="subsection">
    <h3>How Leave Policies Fits</h3>
    <p>Leave policies are configuration templates that define how employees accrue, request, and consume time off. They sit in Settings and act as reusable rules applied to employee profiles.</p>
    <div class="info-box">
      <p><strong>Mental model:</strong> Leave Policy (template) ‚Üí Assigned to Employees ‚Üí Governs leave requests ‚Üí Impacts payroll and attendance tracking</p>
    </div>
    <p>One leave policy can affect hundreds of employees. Changes to accrual rates, carry-over rules, or pay conditions apply to all future leave cycles for assigned employees.</p>
  </div>

  <div class="subsection">
    <h3>Key Decisions Before Setup</h3>
    <p>Answer these questions before creating leave policies:</p>
    <ul>
      <li><strong>What leave types does your organization need?</strong> ‚Äî Annual, sick, unpaid, maternity, work-from-home, or custom types</li>
      <li><strong>How will leave accrue?</strong> ‚Äî Monthly accrual, one-time allocation, or conditional based on tenure/probation</li>
      <li><strong>Calendar days or working days?</strong> ‚Äî Determines how weekends and public holidays are counted</li>
      <li><strong>Will unused leave carry forward?</strong> ‚Äî Define carry-over limits and expiry rules per policy</li>
      <li><strong>Who approves leave requests?</strong> ‚Äî Line managers, HR admins, or multi-level approval workflows</li>
      <li><strong>How are unpaid leaves handled?</strong> ‚Äî Automatic payroll deductions require salary configuration and payroll module</li>
    </ul>
  </div>

  <div class="subsection">
    <h3>Related Features</h3>
    <ul>
      <li><strong>Payroll Module</strong> ‚Äî Calculates automatic salary deductions for unpaid leave and processes leave salary payments</li>
      <li><strong>Approval Flows</strong> ‚Äî Routes leave requests through configured approval hierarchies</li>
      <li><strong>Holiday Calendars</strong> ‚Äî Excludes public holidays from leave calculations when enabled</li>
      <li><strong>Work Timings</strong> ‚Äî Defines working days used in working-day leave policies</li>
      <li><strong>End of Service</strong> ‚Äî Calculates leave encashment based on unused leave balances and policy rules</li>
      <li><strong>Employee Profiles</strong> ‚Äî Stores assigned policies, leave balances, and request history</li>
    </ul>
  </div>

  <div class="subsection">
    <h3>Prerequisites & Requirements</h3>
    <table class="requirements-table">
      <thead>
        <tr>
          <th>Requirement</th>
          <th>Description</th>
          <th>Status</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Active Employees</td>
          <td>At least one employee profile must exist to assign leave policies</td>
          <td>Required</td>
        </tr>
        <tr>
          <td>Holiday Calendar</td>
          <td>Needed to exclude public holidays from leave calculations when using calendar-day policies</td>
          <td>Recommended</td>
        </tr>
        <tr>
          <td>Work Timings Configuration</td>
          <td>Defines working days for working-day leave policies (excludes weekends from leave count)</td>
          <td>Recommended</td>
        </tr>
        <tr>
          <td>Payroll Module</td>
          <td>Required only for unpaid leave deductions: enables automatic salary deductions when employees take unpaid leave</td>
          <td>Conditional</td>
        </tr>
        <tr>
          <td>Employee Salary Configuration</td>
          <td>Required only for unpaid leave deductions: system needs salary data to calculate daily deduction amounts</td>
          <td>Conditional</td>
        </tr>
        <tr>
          <td>Daily Wage Calculation Settings</td>
          <td>Required only for unpaid leave deductions: defines whether deductions use Basic Only or Basic + Allowances</td>
          <td>Conditional</td>
        </tr>
        <tr>
          <td>Leave Salary Policy</td>
          <td>Required only for leave salary payments: enables employees to request advance salary during extended leave periods</td>
          <td>Conditional</td>
        </tr>
        <tr>
          <td>Leave Encashment Configuration</td>
          <td>Required only for leave encashment: allows employees to convert unused leave days to cash payments</td>
          <td>Conditional</td>
        </tr>
        <tr>
          <td>Accrual Pausing Settings</td>
          <td>Required only for automated accrual pausing: stops monthly leave accrual when employees take extended unpaid leave (e.g., KSA 21-day rule)</td>
          <td>Conditional</td>
        </tr>
        <tr>
          <td>Conditional Pay Rate Configuration</td>
          <td>Required only for conditional sick leave: enables tiered pay rates (e.g., full pay first 15 days, half pay next 30 days, unpaid thereafter)</td>
          <td>Conditional</td>
        </tr>
      </tbody>
    </table>
  </div>
      </div>
    </section>
  

    <section class="section section-user-journey" id="user-journey">
      <header class="section-header">
        <h2 class="section-title">Complete User Journey Guide</h2>
      </header>
      <div class="section-body">
        <div class="journey-roadmap">
  <div class="subsection">
    <h3>End-to-End Journey: Setting Up Leave Policies</h3>
    <p>From planning leave types to assigning policies to employees and managing ongoing requests.</p>
  </div>

  <div class="journey-phases">
    <div class="journey-phase">
      <div class="phase-marker">1</div>
      <div class="phase-content">
        <h4>Plan Leave Types</h4>
        <p>Identify required leave types (annual, sick, unpaid) and determine calculation methods (calendar vs working days).</p>
        <a href="#product-foundation" class="phase-link">See details ‚Üí</a>
      </div>
    </div>

    <div class="journey-phase">
      <div class="phase-marker">2</div>
      <div class="phase-content">
        <h4>Access Configuration</h4>
        <p>Navigate to Settings ‚Üí Leaves ‚Üí Leave Policies to begin setup.</p>
        <a href="#feature-entry-points" class="phase-link">See details ‚Üí</a>
      </div>
    </div>

    <div class="journey-phase">
      <div class="phase-marker">3</div>
      <div class="phase-content">
        <h4>Create Policies</h4>
        <p>Define policy details including allowances, accrual rules, and pay rates.</p>
        <a href="#core-tasks" class="phase-link">See details ‚Üí</a>
      </div>
    </div>

    <div class="journey-phase">
      <div class="phase-marker">4</div>
      <div class="phase-content">
        <h4>Assign to Employees</h4>
        <p>Link policies to specific employees or groups based on eligibility criteria.</p>
        <a href="#core-tasks" class="phase-link">See details ‚Üí</a>
      </div>
    </div>

    <div class="journey-phase">
      <div class="phase-marker">5</div>
      <div class="phase-content">
        <h4>Configure Approval Flow</h4>
        <p>Set up line managers and approval hierarchy for leave requests.</p>
        <a href="#approval-flow" class="phase-link">See details ‚Üí</a>
      </div>
    </div>

    <div class="journey-phase">
      <div class="phase-marker">6</div>
      <div class="phase-content">
        <h4>Monitor & Maintain</h4>
        <p>Track leave balances, handle requests, and adjust policies as needed.</p>
        <a href="#troubleshooting-edge-cases" class="phase-link">See details ‚Üí</a>
      </div>
    </div>
  </div>
</div>
      </div>
    </section>
  

    <section class="section section-feature-entry-points" id="feature-entry-points">
      <header class="section-header">
        <h2 class="section-title">Feature Discovery</h2>
      </header>
      <div class="section-body">
        <div class="subsection">
  <h3>How to Access Leave Policies</h3>
  <p>Leave Policies is the central configuration hub for all time-off rules in your organization.</p>

  <h4>Navigation Path</h4>
  <div class="nav-path">Settings ‚Üí Leaves ‚Üí Leave Policies</div>

  <p>From this screen, you can:</p>
  <ul>
    <li>View all existing leave policies</li>
    <li>Create new policies from scratch or templates</li>
    <li>Edit existing policy rules and allowances</li>
    <li>Assign or unassign policies to employees</li>
    <li>Delete unused policies</li>
  </ul>

  <h4>Alternative Access Points</h4>
  <p>You can also access leave policy configuration through:</p>
  <ul>
    <li><strong>Employee Profile ‚Üí Leaves Tab</strong> ‚Äî View and modify individual employee's assigned policies</li>
    <li><strong>Time ‚Üí Employee Leaves</strong> ‚Äî Manage leave requests and view policy details</li>
    <li><strong>Settings ‚Üí Payroll ‚Üí End of Service</strong> ‚Äî Configure leave encashment calculations</li>
  </ul>

  <div class="info-box">
    <p><strong>Permission Required:</strong> Super Admin or Time Off Manager role needed to create and edit leave policies. Line Managers can view policies assigned to their direct reports.</p>
  </div>
</div>
      </div>
    </section>
  

    <section class="section section-initial-setup" id="initial-setup">
      <header class="section-header">
        <h2 class="section-title">Initial Setup</h2>
      </header>
      <div class="section-body">
        <div class="subsection">
    <h3>First-Time Configuration</h3>
    <p>Before creating your first leave policy, complete these foundational steps to ensure accurate tracking and calculations.</p>

    <h4>1. Configure Company Work Week</h4>
    <p>Define your organization's working days to enable accurate working-day calculations for leave policies.</p>
    <ul>
      <li>Go to Settings ‚Üí Company ‚Üí Work Week</li>
      <li>Select which days are working days (e.g., Sunday to Thursday)</li>
      <li>Save configuration</li>
    </ul>
    <div class="info-box">
      <p><strong>Why this matters:</strong> Leave policies can calculate days as calendar days or working days. Without a defined work week, working-day policies cannot function correctly.</p>
    </div>

    <h4>2. Set Up Public Holiday Calendar</h4>
    <p>Create a holiday calendar to exclude public holidays from leave calculations when needed.</p>
    <ul>
      <li>Navigate to Settings ‚Üí Company ‚Üí Holiday Calendars</li>
      <li>Add public holidays for your region</li>
      <li>Name the calendar (e.g., "UAE Public Holidays 2024")</li>
      <li>Assign calendar to relevant employees</li>
    </ul>
    <div class="info-box">
      <p><strong>Note:</strong> You can enable automatic deduction of public holidays from leave requests at the policy level.</p>
    </div>

    <h4>3. Define Organizational Hierarchy</h4>
    <p>Set up reporting lines to enable leave approval workflows.</p>
    <ul>
      <li>Go to each employee's profile ‚Üí Work tab</li>
      <li>Set the "Reports to" field to assign their line manager</li>
      <li>Alternatively, use bulk upload via Excel for multiple employees</li>
    </ul>
    <div class="warning-box">
      <p><strong>‚ö†Ô∏è Required for approvals:</strong> Leave requests cannot be approved without defined reporting lines. Managers must have Line Manager permissions assigned in Role Management.</p>
    </div>

    <h4>4. Configure Leave Approval Flow</h4>
    <p>Define who approves leave requests and in what order.</p>
    <ul>
      <li>Navigate to Settings ‚Üí Approval Flows ‚Üí Leaves</li>
      <li>Add approval steps (e.g., Line Manager ‚Üí Department Head ‚Üí HR)</li>
      <li>Choose whether approvers act sequentially or in parallel</li>
      <li>Save the approval flow</li>
    </ul>
    <div class="info-box">
      <p><strong>Flexibility:</strong> You can configure multiple approval levels. If any approver in a step rejects, the entire request is rejected.</p>
    </div>

    <h4>5. Review Leave Cycle Settings</h4>
    <p>Decide whether your organization uses calendar-year or individual (hire-date-based) leave cycles.</p>
    <ul>
      <li>Calendar year: All employees' leave resets on January 1st</li>
      <li>Individual cycle: Each employee's leave resets on their hire anniversary</li>
    </ul>
    <div class="warning-box">
      <p><strong>‚ö†Ô∏è Cannot change easily:</strong> Switching leave cycle types after setup requires configuration team intervention and results in data loss. Choose carefully before creating policies.</p>
    </div>
  </div>

  <div class="subsection">
    <h3>Common Configuration Checklist</h3>
    <p>Verify these settings are in place before creating leave policies:</p>
    <table class="requirements-table">
      <thead>
        <tr>
          <th>Configuration</th>
          <th>Location</th>
          <th>Status</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Work week defined</td>
          <td>Settings ‚Üí Company ‚Üí Work Week</td>
          <td>Required</td>
        </tr>
        <tr>
          <td>Public holiday calendar created</td>
          <td>Settings ‚Üí Company ‚Üí Holiday Calendars</td>
          <td>Recommended</td>
        </tr>
        <tr>
          <td>Reporting lines assigned</td>
          <td>Employee profiles ‚Üí Work tab</td>
          <td>Required</td>
        </tr>
        <tr>
          <td>Leave approval flow configured</td>
          <td>Settings ‚Üí Approval Flows ‚Üí Leaves</td>
          <td>Required</td>
        </tr>
        <tr>
          <td>Leave cycle type selected</td>
          <td>Settings ‚Üí Leaves ‚Üí Leave Policies</td>
          <td>Required</td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="subsection">
    <h3>What Not to Configure Yet</h3>
    <p>The following configurations are conditional and only needed for specific sub-features:</p>
    <ul>
      <li><strong>Payroll Module:</strong> Only required if you plan to use unpaid leave deductions. Not needed for basic paid leave tracking.</li>
      <li><strong>Employee Salary Configuration:</strong> Only required for unpaid leave policies that automatically calculate payroll deductions. Paid leave policies do not need salary data.</li>
      <li><strong>Leave Encashment Settings:</strong> Only required if employees can request to encash unused leave. Configure this later when setting up encashment policies.</li>
      <li><strong>Leave Salary Settings:</strong> Only required if you pay employees in advance for leave periods. Not needed for standard leave policies.</li>
    </ul>
    <div class="info-box">
      <p><strong>Start simple:</strong> You can create and use basic paid leave policies (e.g., annual leave, sick leave) with just the required configurations above. Add conditional features later as your needs grow.</p>
    </div>
  </div>

  <div class="subsection">
    <h3>Next Steps</h3>
    <p>Once initial setup is complete:</p>
    <ol>
      <li>Create your first leave policy using a template or from scratch</li>
      <li>Assign the policy to employees or employee groups</li>
      <li>Test the approval flow with a sample leave request</li>
      <li>Train managers on approving leave requests</li>
      <li>Communicate the new leave system to employees</li>
    </ol>
  </div>
      </div>
    </section>
  

    <section class="section section-core-tasks" id="core-tasks">
      <header class="section-header">
        <h2 class="section-title">Key Tasks</h2>
      </header>
      <div class="section-body">
        <div class="subsection">
    <h3>Task: Create Leave Policy</h3>
    <p>Set up a new leave policy with accrual rules, payment settings, and eligibility criteria.</p>

    <h4>Subtask: Navigate to Leave Policies</h4>
    <div class="nav-path">Settings ‚Üí Leaves ‚Üí Leave Policies ‚Üí Add New</div>
    <p>Access the policy creation screen where you can build from scratch or use templates.</p>

    <h4>Subtask: Define Policy Basics</h4>
    <ul>
      <li>Enter policy name and description</li>
      <li>Select leave type (Annual, Sick, Unpaid, Work from Home, etc.)</li>
      <li>Choose paid, partially paid, or unpaid status</li>
    </ul>

    <h4>Subtask: Configure Leave Allowance</h4>
    <ul>
      <li>Set annual leave days (e.g., 30 calendar days or 22 working days)</li>
      <li>Choose calculation method: Calendar days or Working days</li>
      <li>Enable recurring annually or one-time allocation</li>
      <li>Set conditional allowances based on probation or tenure</li>
    </ul>

    <h4>Subtask: Set Accrual Rules</h4>
    <ul>
      <li>Enable monthly accrual (total days √∑ 12)</li>
      <li>Configure carry-over allowance for unused days</li>
      <li>Set maximum carry-over limit</li>
      <li>Enable negative balance if needed</li>
      <li>Configure accrual pausing for specific leave types (e.g., pause during unpaid leave exceeding 21 days)</li>
    </ul>

    <h4>Subtask: Configure Payment Settings (for Unpaid/Conditional Policies)</h4>
    <ul>
      <li>For unpaid leave: Select daily wage calculation (Basic Only or Basic + Allowances)</li>
      <li>Choose day calculation type (calendar days, working days, or custom days)</li>
      <li>For conditional pay: Add up to 5 pay rate conditions (e.g., fully paid first 15 days, half pay next 30 days, unpaid remaining)</li>
    </ul>

    <h4>Subtask: Set Restrictions and Rules</h4>
    <ul>
      <li>Enable "Restrict during probation" to block leave requests for probationary employees</li>
      <li>Enable "Exclude public holidays" to not count holidays as leave days</li>
      <li>Set maximum encashable days</li>
      <li>Configure leave salary settings if applicable</li>
    </ul>

    <h4>Subtask: Assign Employees</h4>
    <ul>
      <li>Select individual employees or use "Move All" for bulk assignment</li>
      <li>Update used leave days if employees have already taken leave</li>
      <li>Review employee details and confirm assignments</li>
    </ul>

    <figure class="screenshot-container">
      <img src="https://raw.githubusercontent.com/mashapajfhp/user-guides/main/leave-policies/v1/validation/screenshots/missing.png" alt="missing.png" class="screenshot" loading="lazy">
      <figcaption>Screenshot not available - Leave policy creation screen showing policy details, accrual settings, and employee assignment</figcaption>
    </figure>
  </div>

  <div class="subsection">
    <h3>Task: Edit Existing Leave Policy</h3>
    <p>Modify policy settings, update allowances, or change employee assignments.</p>

    <h4>Subtask: Access Policy for Editing</h4>
    <div class="nav-path">Settings ‚Üí Leaves ‚Üí Leave Policies ‚Üí Click Edit icon</div>
    <p>Locate the policy in the list and click the pencil icon to open editing mode.</p>

    <h4>Subtask: Update Policy Settings</h4>
    <ul>
      <li>Modify policy name, description, or leave type</li>
      <li>Adjust annual allowance or accrual frequency</li>
      <li>Update carry-over rules or maximum limits</li>
      <li>Change payment settings (if no employees are assigned)</li>
    </ul>

    <div class="warning-box">
      <p><strong>‚ö†Ô∏è Critical Limitations:</strong></p>
      <ul>
        <li>Cannot change paid/unpaid status after employees are assigned (TSSD-1847)</li>
        <li>Cannot modify accrual frequency after policy creation (TSSD-2625)</li>
        <li>Cannot enable conditional pay rate on existing policies with active assignments (TSSD-392)</li>
        <li>Changes to carry-over allowance not supported for individual leave cycles (TSSD-1889)</li>
      </ul>
    </div>

    <h4>Subtask: Bulk Update Leave Allowances</h4>
    <ul>
      <li>From policy edit screen, access Employee Details</li>
      <li>Click "Open Bayzat Sheets"</li>
      <li>Update columns: Annual Allowance, Pro-rated Days, Days Used Before Setup</li>
      <li>Save changes to apply bulk updates</li>
    </ul>

    <figure class="screenshot-container">
      <img src="https://raw.githubusercontent.com/mashapajfhp/user-guides/main/leave-policies/v1/validation/screenshots/missing.png" alt="missing.png" class="screenshot" loading="lazy">
      <figcaption>Screenshot not available - Policy edit screen with Bayzat Sheets option for bulk allowance updates</figcaption>
    </figure>
  </div>

  <div class="subsection">
    <h3>Task: Configure Unpaid Leave with Payroll Deductions</h3>
    <p>Set up unpaid leave policies that automatically create payroll deductions when approved.</p>

    <h4>Prerequisites</h4>
    <div class="info-box">
      <p><strong>Required:</strong></p>
      <ul>
        <li>Payroll module must be enabled</li>
        <li>Employee salaries must be configured</li>
      </ul>
    </div>

    <h4>Subtask: Create Unpaid Leave Policy</h4>
    <ul>
      <li>Navigate to Settings ‚Üí Leaves ‚Üí Leave Policies ‚Üí Add New</li>
      <li>Name the policy (e.g., "Unpaid Leave")</li>
      <li>Select "Unpaid" as leave pay rate</li>
    </ul>

    <h4>Subtask: Configure Deduction Calculation</h4>
    <ul>
      <li>Select daily wage calculation method:</li>
      <ul>
        <li><strong>Basic Only:</strong> Deduction = (Basic Salary √∑ Days) √ó Leave Days</li>
        <li><strong>Basic + Allowances:</strong> Deduction = ((Basic + Allowances) √∑ Days) √ó Leave Days</li>
      </ul>
      <li>Choose day calculation type:</li>
      <ul>
        <li><strong>Calendar days:</strong> Uses 30 days per month</li>
        <li><strong>Working days:</strong> Excludes weekends and holidays</li>
        <li><strong>Custom days:</strong> Uses 30.42 days (TSSD-4368)</li>
      </ul>
    </ul>

    <div class="info-box">
      <p><strong>Note:</strong> System uses 30.42 days divisor for daily wage calculation, which may result in deduction amounts that don't precisely match monthly salary (TSSD-4368).</p>
    </div>

    <h4>Subtask: Assign to Employees</h4>
    <ul>
      <li>Select employees who need unpaid leave tracking</li>
      <li>Confirm salary configurations are complete</li>
      <li>Save and activate policy</li>
    </ul>

    <h4>Expected Outcome</h4>
    <p>When an employee takes unpaid leave:</p>
    <ul>
      <li>Leave request goes through approval hierarchy</li>
      <li>Upon full approval, system automatically creates payroll deduction</li>
      <li>Deduction appears in Finance ‚Üí Adjustments with calculated amount</li>
      <li>Payroll processor receives email notification</li>
      <li>For multi-month leave, deductions split across relevant payroll months</li>
    </ul>

    <figure class="screenshot-container">
      <img src="https://raw.githubusercontent.com/mashapajfhp/user-guides/main/leave-policies/v1/validation/screenshots/missing.png" alt="missing.png" class="screenshot" loading="lazy">
      <figcaption>Screenshot not available - Unpaid leave policy configuration showing daily wage calculation options</figcaption>
    </figure>
  </div>

  <div class="subsection">
    <h3>Task: Set Up Conditional Pay Rate (Sick Leave Example)</h3>
    <p>Configure policies where payment varies based on number of days taken (e.g., fully paid first 15 days, half pay next 30 days, unpaid remaining).</p>

    <h4>Subtask: Enable Conditional Pay</h4>
    <ul>
      <li>Create or edit leave policy</li>
      <li>Enable "Conditional pay rate" toggle</li>
      <li>Add pay rate conditions (up to 5 levels)</li>
    </ul>

    <h4>Subtask: Define Pay Rate Tiers</h4>
    <p>Example for UAE-compliant sick leave:</p>
    <ul>
      <li><strong>Condition 1:</strong> First 15 days ‚Üí Fully paid (100%)</li>
      <li><strong>Condition 2:</strong> Next 30 days ‚Üí Half pay (50%)</li>
      <li><strong>Condition 3:</strong> Remaining 45 days ‚Üí Unpaid (0%)</li>
    </ul>

    <h4>Subtask: Configure Daily Wage Calculation</h4>
    <ul>
      <li>Select salary components for unpaid/partial pay tiers</li>
      <li>Choose day calculation type</li>
      <li>Set default pay rate for conditions not met</li>
    </ul>

    <div class="warning-box">
      <p><strong>‚ö†Ô∏è Limitation:</strong> Cannot enable conditional pay rate on existing policies with active employee assignments. Employees must be removed first (TSSD-392).</p>
    </div>

    <figure class="screenshot-container">
      <img src="https://raw.githubusercontent.com/mashapajfhp/user-guides/main/leave-policies/v1/validation/screenshots/missing.png" alt="missing.png" class="screenshot" loading="lazy">
      <figcaption>Screenshot not available - Conditional pay rate configuration showing multiple pay tiers</figcaption>
    </figure>
  </div>

  <div class="subsection">
    <h3>Task: Configure Accrual Pausing</h3>
    <p>Automatically pause monthly leave accrual when employees take extended unpaid leave.</p>

    <h4>Subtask: Enable Accrual Pausing</h4>
    <ul>
      <li>Edit leave policy with monthly accrual enabled</li>
      <li>Enable "Pause monthly accrual" toggle</li>
      <li>Select leave types that trigger pausing (e.g., Unpaid Leave)</li>
      <li>Set minimum days requirement (e.g., 21 days for KSA compliance)</li>
    </ul>

    <h4>How It Works</h4>
    <ul>
      <li>System tracks total days of specified leave types taken in a month</li>
      <li>If total exceeds minimum threshold, monthly accrual is paused</li>
      <li>Leave allowance is prorated: (Days worked √∑ Total days) √ó Monthly accrual</li>
      <li>Adjusted days use original request start date</li>
    </ul>

    <div class="warning-box">
      <p><strong>‚ö†Ô∏è Important:</strong> Configuration cannot be edited once set. Only applies to new leave requests, not retroactively.</p>
    </div>

    <figure class="screenshot-container">
      <img src="https://raw.githubusercontent.com/mashapajfhp/user-guides/main/leave-policies/v1/validation/screenshots/missing.png" alt="missing.png" class="screenshot" loading="lazy">
      <figcaption>Screenshot not available - Accrual pausing configuration showing leave type selection and minimum days threshold</figcaption>
    </figure>
  </div>

  <div class="subsection">
    <h3>Task: Configure Leave Encashment</h3>
    <p>Set up policies allowing employees to convert unused leave to cash payment.</p>

    <h4>Subtask: Configure End-of-Service Encashment</h4>
    <div class="nav-path">Settings ‚Üí Payroll ‚Üí End of Service eligibility ‚Üí Configure</div>
    <ul>
      <li>Select leave types eligible for encashment</li>
      <li>Choose salary basis: Basic Only or Basic + Allowances</li>
      <li>Select calculation method: Calendar days, Working days, or Custom days</li>
      <li>Save configuration</li>
    </ul>

    <h4>Subtask: Configure Leave Encashment Policy (During Service)</h4>
    <div class="nav-path">Settings ‚Üí Payroll ‚Üí Leave encashment policy ‚Üí Add New</div>
    <ul>
      <li>Enter policy name and description</li>
      <li>Select applicable leave type</li>
      <li>Configure calculation formula (salary component + working day type)</li>
      <li>Set eligibility criteria:</li>
      <ul>
        <li>Minimum accrued leave days</li>
        <li>Minimum job tenure</li>
        <li>Maximum encashment limit per request</li>
        <li>Probation period restrictions</li>
      </ul>
      <li>Select eligible employees</li>
      <li>Save policy</li>
    </ul>

    <h4>Expected Outcome</h4>
    <p>Employees can submit encashment requests via Employee Tickets. Requests route through approval flow, then appear in payroll as additions.</p>

    <figure class="screenshot-container">
      <img src="https://raw.githubusercontent.com/mashapajfhp/user-guides/main/leave-policies/v1/validation/screenshots/missing.png" alt="missing.png" class="screenshot" loading="lazy">
      <figcaption>Screenshot not available - Leave encashment policy configuration screen</figcaption>
    </figure>
  </div>

  <div class="subsection">
    <h3>Task: Configure Leave Salary</h3>
    <p>Set up advance salary payments for employees going on extended leave.</p>

    <h4>Subtask: Enable Leave Salary Settings</h4>
    <ul>
      <li>Edit leave policy</li>
      <li>Toggle "Leave Salary Settings" ON</li>
      <li>Save policy</li>
    </ul>

    <h4>Subtask: Create Leave Salary Policy</h4>
    <div class="nav-path">Settings ‚Üí Payroll ‚Üí Leave Salary Policy ‚Üí Add New</div>
    <ul>
      <li>Define policy name and description</li>
      <li>Select applicable leave types</li>
      <li>Configure salary calculation method:</li>
      <ul>
        <li>Select allowance components to include</li>
        <li>Choose working day type for proration</li>
      </ul>
      <li>Set probation restrictions if needed</li>
      <li>Add eligible employees</li>
      <li>Save policy</li>
    </ul>

    <div class="info-box">
      <p><strong>Note:</strong> Same employees cannot be added to multiple leave salary policies. Policy becomes active from activation date and does not affect past leave requests.</p>
    </div>

    <h4>Subtask: Process Leave Salary Transactions</h4>
    <ul>
      <li>Navigate to Payroll Table</li>
      <li>Filter employees by "leave salary"</li>
      <li>Review prorated salary calculations</li>
      <li>Create Variable Pay File (VPF) for advance payment</li>
      <li>Add transaction remarks for tracking</li>
    </ul>

    <figure class="screenshot-container">
      <img src="https://raw.githubusercontent.com/mashapajfhp/user-guides/main/leave-policies/v1/validation/screenshots/missing.png" alt="missing.png" class="screenshot" loading="lazy">
      <figcaption>Screenshot not available - Leave salary policy configuration and payroll transaction screen</figcaption>
    </figure>
  </div>

  <div class="subsection">
    <h3>Task: Assign and Unassign Employees</h3>
    <p>Add or remove employees from leave policies.</p>

    <h4>Subtask: Assign Employees to Policy</h4>
    <ul>
      <li>Edit leave policy</li>
      <li>Go to Employee Details section</li>
      <li>Select individual employees or click "Move All"</li>
      <li>Update used leave days if employees have prior leave</li>
      <li>Confirm assignments</li>
    </ul>

    <h4>Subtask: Unassign Employees</h4>
    <ul>
      <li>Edit leave policy</li>
      <li>Go to Employee Details</li>
      <li>Remove employees from assignment list</li>
      <li>Confirm changes</li>
    </ul>

    <div class="warning-box">
      <p><strong>‚ö†Ô∏è Data Loss Risk:</strong> Unassigning and reassigning employees can reset leave balances and erase historical data (TSSD-4319). Always download backup before making bulk changes.</p>
    </div>

    <figure class="screenshot-container">
      <img src="https://raw.githubusercontent.com/mashapajfhp/user-guides/main/leave-policies/v1/validation/screenshots/missing.png" alt="missing.png" class="screenshot" loading="lazy">
      <figcaption>Screenshot not available - Employee assignment screen showing individual and bulk assignment options</figcaption>
    </figure>
  </div>

  <div class="subsection">
    <h3>Task: Delete Leave Policy</h3>
    <p>Remove a leave policy that is no longer needed.</p>

    <h4>Subtask: Verify No Active Assignments</h4>
    <ul>
      <li>Check if any employees are assigned to the policy</li>
      <li>Unassign all employees before deletion</li>
      <li>Review if any active leave requests reference this policy</li>
    </ul>

    <h4>Subtask: Delete Policy</h4>
    <div class="nav-path">Settings ‚Üí Leaves ‚Üí Leave Policies ‚Üí Click Delete icon</div>
    <ul>
      <li>Locate policy in list</li>
      <li>Click delete icon</li>
      <li>Confirm deletion</li>
    </ul>

    <div class="warning-box">
      <p><strong>‚ö†Ô∏è No Recovery:</strong> Platform lacks self-service undelete mechanism. Deleted policies require backend intervention to restore (TSSD-3325).</p>
    </div>

    <figure class="screenshot-container">
      <img src="https://raw.githubusercontent.com/mashapajfhp/user-guides/main/leave-policies/v1/validation/screenshots/missing.png" alt="missing.png" class="screenshot" loading="lazy">
      <figcaption>Screenshot not available - Leave policies list with delete option</figcaption>
    </figure>
  </div>

  <div class="subsection">
    <h3>Task: View and Track Leave Balances</h3>
    <p>Monitor employee leave allocations, usage, and remaining balances.</p>

    <h4>Subtask: View Individual Employee Balance</h4>
    <ul>
      <li>Go to employee profile</li>
      <li>Navigate to Leaves tab</li>
      <li>View allocated, used, and remaining days per policy</li>
    </ul>

    <h4>Subtask: Download Leave Reports</h4>
    <div class="nav-path">Time ‚Üí Employee Leaves ‚Üí Download</div>
    <ul>
      <li>Apply filters if needed (employee, department, leave type)</li>
      <li>Select leave cycle year</li>
      <li>Click Download to export Excel report</li>
    </ul>

    <h4>Subtask: View Leave Calendar</h4>
    <div class="nav-path">Time ‚Üí Calendar</div>
    <ul>
      <li>View color-coded leave requests (green = accepted, yellow = pending)</li>
      <li>Identify overlapping requests</li>
      <li>Click individual requests for details</li>
    </ul>

    <figure class="screenshot-container">
      <img src="https://raw.githubusercontent.com/mashapajfhp/user-guides/main/leave-policies/v1/validation/screenshots/missing.png" alt="missing.png" class="screenshot" loading="lazy">
      <figcaption>Screenshot not available - Leave calendar showing color-coded requests and overlapping leave periods</figcaption>
    </figure>
  </div>

  <div class="subsection">
    <h3>Task: Configure Public Holiday Handling</h3>
    <p>Set whether public holidays count as leave days.</p>

    <h4>Subtask: Enable Public Holiday Exclusion</h4>
    <ul>
      <li>Edit leave policy</li>
      <li>Enable "Exclude public holidays" toggle</li>
      <li>Save policy</li>
    </ul>

    <h4>Subtask: Update Public Holidays</h4>
    <div class="nav-path">Settings ‚Üí Company ‚Üí Holiday Calendars</div>
    <ul>
      <li>Select Holiday Calendar</li>
      <li>Edit specific public holiday</li>
      <li>Change date range if needed</li>
      <li>System recalculates affected leave requests</li>
      <li>Optionally send email to affected employees</li>
    </ul>

    <div class="info-box">
      <p><strong>Note:</strong> Recalculation only works for current or future leave cycles. System will not recalculate days from previous cycles.</p>
    </div>

    <div class="warning-box">
      <p><strong>‚ö†Ô∏è Synchronization Issue:</strong> Adding public holidays after leave requests are approved can cause inconsistent daily wage calculations. System lacks real-time synchronization between Time Off and Payroll modules (TSSD-4464).</p>
    </div>

    <figure class="screenshot-container">
      <img src="https://raw.githubusercontent.com/mashapajfhp/user-guides/main/leave-policies/v1/validation/screenshots/missing.png" alt="missing.png" class="screenshot" loading="lazy">
      <figcaption>Screenshot not available - Holiday calendar configuration screen</figcaption>
    </figure>
  </div>

  <div class="subsection">
    <h3>Task: Troubleshoot Leave Balance Discrepancies</h3>
    <p>Investigate and resolve issues with leave calculations or balances.</p>

    <h4>Subtask: Check Accrual Calculation</h4>
    <ul>
      <li>Verify policy accrual settings (monthly vs. one-time)</li>
      <li>Check employee hire date and policy assignment date</li>
      <li>For conditional policies: Verify daily pro-rata calculation (TSSD-4203)</li>
      <li>For leap year hires (Feb 29): System starts cycle from Feb 28, causing 1-day discrepancy (TSSD-3822)</li>
    </ul>

    <h4>Subtask: Review Action Logs</h4>
    <div class="nav-path">Settings ‚Üí Action Logs</div>
    <ul>
      <li>Search for entity ID of leave policy or employee</li>
      <li>Review historical changes to policy or balance</li>
      <li>Check for automatic recalculations triggered by admin changes</li>
    </ul>

    <div class="info-box">
      <p><strong>Note:</strong> Platform lacks user-accessible interface for viewing audit logs directly from employee profile. Must manually navigate to Action Logs and lookup entity ID (TSSD-3801).</p>
    </div>

    <h4>Subtask: Verify Unpaid Leave Deductions</h4>
    <ul>
      <li>Check Finance ‚Üí Adjustments for deduction records</li>
      <li>Verify leave request was fully approved</li>
      <li>Confirm payroll cycle is open (closed cycles require manual intervention)</li>
      <li>Check for synchronization delays (may take time to appear)</li>
    </ul>

    <figure class="screenshot-container">
      <img src="https://raw.githubusercontent.com/mashapajfhp/user-guides/main/leave-policies/v1/validation/screenshots/missing.png" alt="missing.png" class="screenshot" loading="lazy">
      <figcaption>Screenshot not available - Action logs screen showing leave policy modification history</figcaption>
    </figure>
  </div>
      </div>
    </section>
  

    <section class="section section-workflow-integration" id="workflow-integration">
      <header class="section-header">
        <h2 class="section-title">Workflow Integration</h2>
      </header>
      <div class="section-body">
        <div class="subsection">
    <h3>Automation Status</h3>
    <div class="info-box">
      <p><strong>Not Available:</strong> Leave Policies does not currently support workflow automation triggers or actions.</p>
    </div>
    <p>Leave policy configuration and assignment are manual processes. Automated leave request approvals are handled through the dedicated <a href="#approval-flow">Approval Flow</a> system, not general workflow automation.</p>
  </div>

  <div class="subsection">
    <h3>Alternative Automation</h3>
    <p>While leave policies themselves cannot trigger workflows, related leave processes support automation:</p>
    <ul>
      <li><strong>Leave Requests</strong> ‚Äî Approval flows route requests through configured hierarchies automatically</li>
      <li><strong>Unpaid Leave Deductions</strong> ‚Äî Payroll deductions are created automatically when unpaid leave is fully approved</li>
      <li><strong>Leave Accrual</strong> ‚Äî Monthly accrual calculations run automatically based on policy configuration</li>
      <li><strong>Leave Encashment</strong> ‚Äî Approval flows manage encashment request routing</li>
    </ul>
  </div>

  <div class="subsection">
    <h3>Integration Points</h3>
    <p>Leave policies integrate with other modules through direct system connections:</p>
    <ul>
      <li><strong>Payroll Module</strong> ‚Äî Unpaid leave policies trigger automatic salary deductions when leave is approved</li>
      <li><strong>Time-Off Module</strong> ‚Äî Leave requests validate against policy rules (allowances, restrictions, calculation methods)</li>
      <li><strong>Employee Profiles</strong> ‚Äî Policy assignments determine available leave types and balances per employee</li>
      <li><strong>End of Service</strong> ‚Äî Leave encashment configuration controls which policies are included in EOS calculations</li>
    </ul>
  </div>

  <div class="subsection">
    <h3>Manual Process Triggers</h3>
    <p>These actions require manual initiation but follow automated rules once started:</p>
    <ul>
      <li>Creating or editing a leave policy</li>
      <li>Assigning employees to a policy</li>
      <li>Adjusting individual employee leave balances</li>
      <li>Configuring conditional pay rates or accrual pausing rules</li>
    </ul>
  </div>
      </div>
    </section>
  

    <section class="section section-business-rules-limitations" id="business-rules-limitations">
      <header class="section-header">
        <h2 class="section-title">Business Rules &amp; Limitations</h2>
      </header>
      <div class="section-body">
        <div class="subsection">
    <h3>Policy Configuration Constraints</h3>
    
    <div class="warning-box">
      <p><strong>‚ö†Ô∏è Payment Type Cannot Be Changed After Assignment</strong></p>
      <p>Once employees are assigned to a leave policy, you cannot change its payment type (paid/unpaid). This restriction prevents complex impacts on payroll calculations and End of Service duration tracking. To change payment type, remove all employees from the policy first.</p>
    </div>

    <div class="warning-box">
      <p><strong>‚ö†Ô∏è Accrual Frequency Cannot Be Modified</strong></p>
      <p>After creating a leave policy, you cannot change its accrual frequency. To implement a different accrual schedule, create a new policy and migrate employees.</p>
    </div>

    <div class="warning-box">
      <p><strong>‚ö†Ô∏è Conditional Pay Rate Requires Employee Removal</strong></p>
      <p>Enabling conditional pay rate features on existing policies requires removing all assigned employees first. Plan the migration carefully to avoid disrupting leave balances.</p>
    </div>

    <table class="limitations-table">
      <thead>
        <tr>
          <th>Configuration Item</th>
          <th>Limitation</th>
          <th>Workaround</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>Carry Over Allowance</strong></td>
          <td>Cannot modify for companies with individual leave cycles</td>
          <td>Contact support for backend adjustment</td>
        </tr>
        <tr>
          <td><strong>Leave Cycle Type</strong></td>
          <td>Changing cycle type results in loss of historical leave data</td>
          <td>Requires configuration team intervention and data export before change</td>
        </tr>
        <tr>
          <td><strong>Maximum Encashable Days</strong></td>
          <td>System fails to correctly display when set to zero</td>
          <td>Use minimum value of 1 if encashment is not allowed</td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="subsection">
    <h3>Unpaid Leave Deduction Rules</h3>

    <div class="info-box">
      <p><strong>Payroll Module Required:</strong> Unpaid leave deductions only work when the Payroll module is enabled and employee salaries are configured.</p>
    </div>

    <div class="warning-box">
      <p><strong>‚ö†Ô∏è Daily Wage Calculation Uses Fixed Divisor</strong></p>
      <p>The system uses 30.42 days as the divisor for daily wage calculations instead of actual calendar days. This can result in deduction amounts that don't precisely match monthly salary expectations.</p>
    </div>

    <div class="warning-box">
      <p><strong>‚ö†Ô∏è Public Holiday Changes Don't Trigger Recalculation</strong></p>
      <p>When public holidays are added after unpaid leave requests are approved, the system does not automatically recalculate deductions. Daily wage calculations remain based on the original working day count at approval time.</p>
    </div>

    <table class="limitations-table">
      <thead>
        <tr>
          <th>Scenario</th>
          <th>System Behavior</th>
          <th>Impact</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>Multi-Month Leave</strong></td>
          <td>Creates separate deductions for each calendar month</td>
          <td>Deductions appear across multiple payroll cycles</td>
        </tr>
        <tr>
          <td><strong>Closed Payroll Month</strong></td>
          <td>Cannot create automatic deductions</td>
          <td>Payroll Manager receives email notification for manual processing</td>
        </tr>
        <tr>
          <td><strong>Retroactive Leave Requests</strong></td>
          <td>Cannot create leave requests before policy assignment date</td>
          <td>Must assign policy retroactively before creating historical requests</td>
        </tr>
        <tr>
          <td><strong>Processed Payroll</strong></td>
          <td>Cannot edit unpaid leave deductions after payroll processing</td>
          <td>Must adjust leave request to trigger recalculation</td>
        </tr>
      </tbody>
    </table>

    <div class="info-box">
      <p><strong>Deduction Calculation Formula:</strong> Daily pay = (Basic Salary + Allowances) √∑ Total days (calendar or working based on policy). Unpaid leave days √ó Daily pay = Deduction amount.</p>
    </div>
  </div>

  <div class="subsection">
    <h3>Leave Balance & Accrual Limitations</h3>

    <div class="warning-box">
      <p><strong>‚ö†Ô∏è Data Loss Risk When Unassigning Policies</strong></p>
      <p>Removing employees from a policy and reassigning them can erase historical leave balances. The system lacks safeguards against this data loss. Always export leave balance reports before making policy changes.</p>
    </div>

    <div class="warning-box">
      <p><strong>‚ö†Ô∏è No Mid-Month Prorated Accrual</strong></p>
      <p>Leave accrues only for complete months worked. Employees leaving mid-month do not receive prorated accrual for partial months, even if they work most of the month.</p>
    </div>

    <table class="limitations-table">
      <thead>
        <tr>
          <th>Issue</th>
          <th>Description</th>
          <th>Status</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>February 29 Hire Date</strong></td>
          <td>System starts leave cycle from February 28 for leap year hires, causing 1-day discrepancy in conditional leave calculations</td>
          <td>Known calculation bug</td>
        </tr>
        <tr>
          <td><strong>Shift Days-Off Not Excluded</strong></td>
          <td>Working days leave policies cannot automatically account for scheduled shift days-off, affecting employees with complex shift schedules</td>
          <td>Feature gap</td>
        </tr>
        <tr>
          <td><strong>Carry-Over Behavior Unclear</strong></td>
          <td>System lacks clear documentation on how one-time vs. accrual policies handle balance carry-over between cycles</td>
          <td>Documentation gap</td>
        </tr>
      </tbody>
    </table>

    <div class="info-box">
      <p><strong>Conditional Leave Calculation:</strong> For policies with conditional allowances based on tenure, the system calculates daily pro-rata accruals. This method is not always intuitive to users expecting straightforward monthly accruals.</p>
    </div>
  </div>

  <div class="subsection">
    <h3>Leave Encashment Constraints</h3>

    <div class="warning-box">
      <p><strong>‚ö†Ô∏è No Automatic Pro-Rated Encashment</strong></p>
      <p>The platform cannot automatically calculate pro-rated leave encashment for employees leaving before month-end. Manual intervention is required to process partial-month encashment.</p>
    </div>

    <table class="limitations-table">
      <thead>
        <tr>
          <th>Limitation</th>
          <th>Impact</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>Probation Period Restriction</strong></td>
          <td>Employees in probation cannot submit leave encashment requests</td>
        </tr>
        <tr>
          <td><strong>Single Policy Assignment</strong></td>
          <td>Employees can only be assigned to one leave encashment policy at a time</td>
        </tr>
        <tr>
          <td><strong>No Retroactive Application</strong></td>
          <td>Leave encashment policies only apply to requests submitted after policy activation date</td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="subsection">
    <h3>Leave Salary Processing Rules</h3>

    <div class="warning-box">
      <p><strong>‚ö†Ô∏è Static Salary Reference Point</strong></p>
      <p>The system uses a static salary reference for unpaid leave deductions instead of a dynamic, time-sensitive approach. This prevents accurate prorated deductions when salary changes occur during the leave period.</p>
    </div>

    <table class="limitations-table">
      <thead>
        <tr>
          <th>Scenario</th>
          <th>Limitation</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>Multi-Month Leave Salary</strong></td>
          <td>Leave salary requests spanning multiple cycles must be approved separately for each cycle</td>
        </tr>
        <tr>
          <td><strong>Advance Salary Tracking</strong></td>
          <td>Requires manual tracking and adjustment when leave salary is paid in advance</td>
        </tr>
        <tr>
          <td><strong>Allowance Inclusion</strong></td>
          <td>Some allowances may not be included in leave salary calculations depending on configuration</td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="subsection">
    <h3>Audit Trail & Transparency</h3>

    <div class="warning-box">
      <p><strong>‚ö†Ô∏è Limited Audit Log Visibility</strong></p>
      <p>Administrators cannot easily view audit logs for leave balance modifications through the user interface. Tracking manual adjustments requires navigating to a separate audit log section with entity ID lookup.</p>
    </div>

    <table class="limitations-table">
      <thead>
        <tr>
          <th>Audit Need</th>
          <th>Current Limitation</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>Leave Balance Changes</strong></td>
          <td>No direct link from employee profile to view historical leave balance modifications</td>
        </tr>
        <tr>
          <td><strong>Policy Modifications</strong></td>
          <td>Requires backend database investigation to view complete history of policy changes</td>
        </tr>
        <tr>
          <td><strong>Automatic Recalculations</strong></td>
          <td>System does not transparently communicate when background processes modify leave requests</td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="subsection">
    <h3>Regional Compliance Gaps</h3>

    <div class="warning-box">
      <p><strong>‚ö†Ô∏è KSA Sick Leave Regulations Not Supported</strong></p>
      <p>The platform lacks native support for KSA-specific sick leave regulations requiring individual, anniversary-based leave accrual cycles. The system defaults to calendar year or hire date-based accrual.</p>
    </div>

    <div class="info-box">
      <p><strong>Note:</strong> For KSA compliance, manual workarounds may be required. Contact support for configuration guidance specific to your regulatory requirements.</p>
    </div>
  </div>

  <div class="subsection">
    <h3>Feature Gaps</h3>

    <table class="limitations-table">
      <thead>
        <tr>
          <th>Missing Feature</th>
          <th>Current Status</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>Hourly Leave Requests</strong></td>
          <td>System only supports full-day or half-day leave applications</td>
        </tr>
        <tr>
          <td><strong>Automated Leave Expiry Notifications</strong></td>
          <td>Cannot customize advance notice period or enable automatic notifications for line managers</td>
        </tr>
        <tr>
          <td><strong>Time Range Policy Validation</strong></td>
          <td>No automated validation for leave request timing relative to employee absences</td>
        </tr>
        <tr>
          <td><strong>Bulk Carry-Over Updates</strong></td>
          <td>No user-friendly interface for bulk updating carry-over allowances across multiple policies</td>
        </tr>
        <tr>
          <td><strong>Policy Recovery</strong></td>
          <td>No self-service undelete mechanism for accidentally deleted policies</td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="subsection">
    <h3>Payroll Integration Constraints</h3>

    <div class="info-box">
      <p><strong>Unpaid Leave Report Visibility:</strong> The payroll template lacks complete visibility into unpaid leave tracking. Users cannot view total unpaid days and corresponding salary implications in a single template view.</p>
    </div>

    <table class="limitations-table">
      <thead>
        <tr>
          <th>Integration Issue</th>
          <th>Impact</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>Synchronization Delay</strong></td>
          <td>Temporary lag between leave approval and payroll deduction reflection</td>
        </tr>
        <tr>
          <td><strong>Offboarded Employees</strong></td>
          <td>System cannot automatically remove employees with complex unpaid leave statuses from payroll table</td>
        </tr>
        <tr>
          <td><strong>Salary Configuration Notifications</strong></td>
          <td>No automatic alerts for employees taking unpaid leave without configured salaries</td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="subsection">
    <h3>Approval Flow Limitations</h3>

    <div class="info-box">
      <p><strong>Generic Disclaimer Messages:</strong> Conditional leave policies display generic disclaimer messages that do not adapt to nuanced pay structures, potentially causing user confusion.</p>
    </div>

    <div class="info-box">
      <p><strong>Notification Granularity:</strong> Role-based permissions automatically include notifications that may not be relevant to the role's core responsibilities. Cannot selectively disable specific notification types per role.</p>
    </div>
  </div>
      </div>
    </section>
  

    <section class="section section-troubleshooting-edge-cases" id="troubleshooting-edge-cases">
      <header class="section-header">
        <h2 class="section-title">Troubleshooting &amp; Edge Cases</h2>
      </header>
      <div class="section-body">
        <div class="subsection">
    <h3>Common Issues</h3>
    
    <table class="limitations-table">
      <thead>
        <tr>
          <th>Issue</th>
          <th>Cause</th>
          <th>Resolution</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>Leave balance shows incorrect value</strong></td>
          <td>Automatic recalculation triggered by past cycle approval or policy change</td>
          <td>Check audit logs for system-generated adjustments. Verify leave cycle dates and accrual settings match expectations.</td>
        </tr>
        <tr>
          <td><strong>Cannot change policy payment type</strong></td>
          <td>Employees are currently assigned to the policy</td>
          <td>Remove all employees from the policy, change payment type, then reassign employees. Export leave balances before making changes.</td>
        </tr>
        <tr>
          <td><strong>Unpaid leave deduction not appearing</strong></td>
          <td>Payroll cycle was modified instead of opened normally, or public holidays added after approval</td>
          <td>Check if payroll month is open. Verify public holiday calendar matches leave request dates. Contact support if deduction is missing after verification.</td>
        </tr>
        <tr>
          <td><strong>Leave request blocked for historical dates</strong></td>
          <td>Leave policy was not assigned to employee on the requested leave dates</td>
          <td>Assign policy with retroactive start date, then create leave request for historical period.</td>
        </tr>
        <tr>
          <td><strong>Encashment calculation shows unexpected amount</strong></td>
          <td>Daily rate calculation based on calendar vs. working days setting, or allowances not included</td>
          <td>Review leave policy configuration for day calculation type and salary components. Verify which allowances are included in encashment formula.</td>
        </tr>
        <tr>
          <td><strong>Leave balance disappeared after policy edit</strong></td>
          <td>Employees were unassigned and reassigned during policy modification</td>
          <td>Contact support immediately for potential data recovery. Restore from backup if available. Always export leave balances before policy changes.</td>
        </tr>
        <tr>
          <td><strong>Conditional pay rate cannot be enabled</strong></td>
          <td>Employees are assigned to the policy</td>
          <td>Remove all employees, enable conditional pay rate feature, then reassign employees with updated balances.</td>
        </tr>
        <tr>
          <td><strong>Multi-month leave creates multiple deductions</strong></td>
          <td>System design splits deductions by calendar month</td>
          <td>This is expected behavior. Each month's deduction appears in its respective payroll cycle. Review Finance ‚Üí Adjustments for complete deduction breakdown.</td>
        </tr>
        <tr>
          <td><strong>Leave accrual paused unexpectedly</strong></td>
          <td>Employee took leave type configured to pause monthly accrual, exceeding minimum days threshold</td>
          <td>Review leave policy settings for accrual pausing configuration. Verify which leave types trigger pausing and minimum days requirement.</td>
        </tr>
        <tr>
          <td><strong>Cannot edit unpaid leave deduction</strong></td>
          <td>Payroll has been processed for the period</td>
          <td>Deductions are locked after processing to maintain data consistency. Adjust the original leave request to trigger recalculation in next open cycle.</td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="subsection">
    <h3>Edge Cases</h3>

    <h4>Leap Year Hire Dates</h4>
    <p>Employees hired on February 29 have their leave cycle start date set to February 28 in non-leap years, causing a 1-day discrepancy in conditional leave allowance calculations.</p>
    <p><strong>Workaround:</strong> Manually adjust leave balances at cycle start to account for the missing day, or configure policy with 1 additional day allowance for affected employees.</p>

    <h4>Shift-Based Working Days</h4>
    <p>Working days leave policies cannot automatically exclude scheduled shift days-off. Employees with rotating shifts may see incorrect leave day counts.</p>
    <p><strong>Workaround:</strong> Use calendar days policy instead, or manually adjust leave balances to account for shift patterns. Document shift schedules for reference during leave approval.</p>

    <h4>Mid-Cycle Policy Changes</h4>
    <p>Changing leave policy configuration mid-cycle triggers recalculation of existing leave requests, moving them to Pending status.</p>
    <p><strong>Workaround:</strong> Communicate policy changes to all affected employees before implementation. Schedule policy updates at cycle boundaries when possible. Export leave request reports before making changes.</p>

    <h4>Retroactive Salary Changes</h4>
    <p>Unpaid leave deductions use salary at approval time. Salary increases after approval do not trigger deduction recalculation.</p>
    <p><strong>Workaround:</strong> Process salary adjustments before approving unpaid leave requests. For retroactive salary changes, manually adjust deductions in payroll.</p>

    <h4>Deleted Policy Recovery</h4>
    <p>No self-service mechanism exists to recover accidentally deleted leave policies.</p>
    <p><strong>Workaround:</strong> Contact support immediately for backend recovery. Maintain documentation of all policy configurations as backup. Use policy naming conventions that prevent accidental deletion.</p>

    <h4>Overlapping Leave Types</h4>
    <p>Employees with multiple leave policies may have overlapping leave requests that affect balance calculations.</p>
    <p><strong>Workaround:</strong> Use Bayzat Insights to view overlapping requests before approval. Check Leaves Calendar for visual representation of concurrent leaves. Configure policies with clear priority rules.</p>

    <h4>Public Holiday Timing</h4>
    <p>Public holidays declared after leave approval do not trigger automatic recalculation of working days or deductions.</p>
    <p><strong>Workaround:</strong> Update public holiday calendar before processing leave requests when possible. For late additions, manually adjust affected leave requests or deductions.</p>

    <h4>Probation Period Transitions</h4>
    <p>Employees transitioning out of probation mid-cycle may have leave restrictions that don't automatically lift.</p>
    <p><strong>Workaround:</strong> Review and update leave policy assignments when probation ends. Communicate new leave allowances to employees. Process any pending leave requests that were blocked by probation restrictions.</p>

    <h4>Cross-Month Leave Salary</h4>
    <p>Leave salary requests spanning multiple leave cycles require separate approval for each cycle.</p>
    <p><strong>Workaround:</strong> Submit separate leave salary requests for each cycle period. Track related requests using comments or reference numbers. Coordinate with payroll team for advance salary payments.</p>

    <h4>Carry-Over with Individual Cycles</h4>
    <p>Cannot modify carry-over allowance for companies using individual leave cycles without backend intervention.</p>
    <p><strong>Workaround:</strong> Contact support for carry-over configuration changes. Plan carry-over policy updates well in advance of cycle boundaries. Document carry-over rules in policy descriptions.</p>

    <h4>Attachment Recovery</h4>
    <p>Deleted leave request attachments (sick leave certificates, etc.) cannot be recovered if not uploaded or permanently deleted.</p>
    <p><strong>Workaround:</strong> Verify attachments are uploaded before submission. Download and archive important certificates locally. Use email confirmation for critical documentation.</p>

    <h4>Bulk Policy Updates</h4>
    <p>No user interface for bulk updating carry-over allowances or other policy settings across multiple policies.</p>
    <p><strong>Workaround:</strong> Contact support for bulk updates requiring SQL execution. Download policy configuration backup before changes. Update policies individually if bulk update is not available.</p>
  </div>

  <div class="subsection">
    <h3>Data Integrity Checks</h3>
    
    <p>Perform these checks regularly to prevent data issues:</p>
    
    <ul>
      <li><strong>Monthly Balance Audit:</strong> Export leave balance reports at month-end and compare with previous month to identify unexpected changes</li>
      <li><strong>Deduction Reconciliation:</strong> Verify unpaid leave deductions in Finance ‚Üí Adjustments match approved leave requests</li>
      <li><strong>Policy Assignment Review:</strong> Check that all active employees have appropriate leave policies assigned</li>
      <li><strong>Approval Flow Validation:</strong> Test approval flows after organizational changes to ensure requests route correctly</li>
      <li><strong>Accrual Verification:</strong> Spot-check accrual calculations for employees with conditional allowances or complex tenure rules</li>
      <li><strong>Encashment Eligibility:</strong> Review encashment policy assignments before cycle end to ensure eligible employees can submit requests</li>
    </ul>
  </div>

  <div class="subsection">
    <h3>Prevention Best Practices</h3>
    
    <ul>
      <li><strong>Export Before Changes:</strong> Always download leave balance and policy configuration reports before making modifications</li>
      <li><strong>Test in Staging:</strong> If available, test policy changes in a non-production environment first</li>
      <li><strong>Communicate Early:</strong> Notify employees of policy changes well before implementation</li>
      <li><strong>Document Configurations:</strong> Maintain external documentation of all policy rules, especially complex conditional settings</li>
      <li><strong>Schedule Updates Strategically:</strong> Make policy changes at cycle boundaries to minimize recalculation impacts</li>
      <li><strong>Verify Integrations:</strong> Check that payroll module and salary configurations are current before enabling unpaid leave deductions</li>
      <li><strong>Monitor Audit Logs:</strong> Regularly review system audit logs for unexpected automatic adjustments</li>
      <li><strong>Backup Critical Data:</strong> Download and archive leave request reports, especially before major system changes</li>
    </ul>
  </div>
      </div>
    </section>
  

    <section class="section section-support-resources" id="support-resources">
      <header class="section-header">
        <h2 class="section-title">FAQs &amp; Support</h2>
      </header>
      <div class="section-body">
        <div class="subsection">
  <h3>Frequently Asked Questions</h3>

  <div class="faq-accordion"><details class="faq-item">
    <summary>Can I change a leave policy from paid to unpaid after employees are assigned?</summary>
    <p>No. Once employees are assigned to a policy, you cannot change the payment type. This restriction prevents complex impacts on payroll calculations and End of Service duration tracking. You must create a new policy and reassign employees.</p>
  </details>

  <details class="faq-item">
    <summary>How do I modify the accrual frequency of an existing leave policy?</summary>
    <p>You cannot edit the accrual frequency after policy creation. Create a new policy with the desired frequency and assign employees to it.</p>
  </details>

  <details class="faq-item">
    <summary>Why doesn't my leave policy account for scheduled shift days-off?</summary>
    <p>The platform cannot automatically account for scheduled shift days-off in leave calculations. Employees with complex shift schedules cannot accurately track leave usage using the current working days leave policy.</p>
  </details>

  <details class="faq-item">
    <summary>Can I enable conditional pay rates on an existing policy with active employees?</summary>
    <p>No. Employees must be removed from the policy before the conditional pay rate feature can be toggled, creating a complex migration process.</p>
  </details>

  <details class="faq-item">
    <summary>How does unpaid leave deduction calculation work?</summary>
    <p>The system uses a daily wage divisor of 30.42 days instead of calendar days. This can result in deduction amounts that don't precisely match the monthly salary.</p>
  </details>

  <details class="faq-item">
    <summary>What happens if I add public holidays after leave requests are approved?</summary>
    <p>The platform lacks real-time synchronization between Time Off and Payroll modules. Adding public holidays after leave requests prevents automatic recalculation, creating inconsistent daily wage calculations that cannot be retroactively corrected.</p>
  </details>

  <details class="faq-item">
    <summary>Can I modify carry-over allowance for companies with individual leave cycles?</summary>
    <p>No. The platform currently cannot modify carry-over allowance for companies with individual leave cycles. This system constraint prevents customization of leave balance rollover for specific organizational leave policies.</p>
  </details>

  <details class="faq-item">
    <summary>How do I track who made changes to leave balances?</summary>
    <p>The platform lacks a user-accessible interface for viewing detailed audit logs of leave balance modifications. You must contact support to access backend database records showing historical updates.</p>
  </details>

  <details class="faq-item">
    <summary>Can employees request leave for periods before their policy was assigned?</summary>
    <p>No. The platform does not allow creating leave requests for periods before a leave policy is assigned to an employee, even when the payroll cycle remains open.</p>
  </details>

  <details class="faq-item">
    <summary>Does the platform support hourly leave requests?</summary>
    <p>No. The platform currently lacks support for hourly leave requests, restricting employees to full-day or half-day leave applications.</p>
  </details>

  <details class="faq-item">
    <summary>How does leave encashment work for employees leaving mid-month?</summary>
    <p>The platform cannot automatically calculate pro-rated leave encashment for employees leaving before month-end. This requires manual intervention to ensure employees receive accurate compensation for accrued leave days.</p>
  </details>

  <details class="faq-item">
    <summary>What happens to leave balances if I unassign and reassign employees to a policy?</summary>
    <p>The platform lacks robust safeguards against data loss. Unassigning and reassigning employees can reset leave balances, potentially erasing historical data.</p>
  </details>

</div></div>

<div class="subsection">
  <h3>Getting Help</h3>
  <ul>
    <li><strong>Customer Success Team:</strong> Contact your Bayzat Customer Success Manager for policy configuration assistance and complex scenarios</li>
    <li><strong>Support Portal:</strong> Submit tickets through the Bayzat Help Center for technical issues and data recovery requests</li>
    <li><strong>Knowledge Base:</strong> Access detailed how-to guides at <a href="https://bayzathelp.zendesk.com">bayzathelp.zendesk.com</a></li>
  </ul>
</div>
      </div>
    </section>
  

    <section class="section section-glossary" id="glossary">
      <header class="section-header">
        <h2 class="section-title">Glossary</h2>
      </header>
      <div class="section-body">
        <table class="glossary-table">
  <thead>
    <tr>
      <th>Term</th>
      <th>Definition</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Accrual</strong></td>
      <td>The automatic accumulation of leave days over time based on predefined policy rules, typically calculated monthly.</td>
    </tr>
    <tr>
      <td><strong>Approval Flow</strong></td>
      <td>A configurable workflow that defines who must approve leave requests and in what order.</td>
    </tr>
    <tr>
      <td><strong>Calendar Days</strong></td>
      <td>Leave calculation method that counts all days including weekends and public holidays.</td>
    </tr>
    <tr>
      <td><strong>Carry-Over Allowance</strong></td>
      <td>The number of unused leave days that can be transferred from one leave cycle to the next.</td>
    </tr>
    <tr>
      <td><strong>Conditional Pay Rate</strong></td>
      <td>A policy feature that automatically adjusts pay rates (fully paid, partially paid, or unpaid) based on the number of leave days taken.</td>
    </tr>
    <tr>
      <td><strong>Daily Wage Divisor</strong></td>
      <td>The number used to calculate daily pay for unpaid leave deductions, typically 30.42 days in Bayzat's system.</td>
    </tr>
    <tr>
      <td><strong>EOS (End of Service)</strong></td>
      <td>The final settlement calculation when an employee leaves the organization, including leave encashment.</td>
    </tr>
    <tr>
      <td><strong>Leave Cycle</strong></td>
      <td>The time period over which leave balances are tracked and reset, typically calendar year or hire date-based.</td>
    </tr>
    <tr>
      <td><strong>Leave Encashment</strong></td>
      <td>The financial compensation for unused leave days, typically calculated at end of service or during employment.</td>
    </tr>
    <tr>
      <td><strong>Leave Policy</strong></td>
      <td>A configuration template that defines leave types, allowances, accrual rules, and payment terms for employees.</td>
    </tr>
    <tr>
      <td><strong>Leave Salary</strong></td>
      <td>Salary paid to employees during leave periods, with calculation based on configured policy rules.</td>
    </tr>
    <tr>
      <td><strong>Line Manager</strong></td>
      <td>The direct supervisor who approves employee leave requests as part of the approval hierarchy.</td>
    </tr>
    <tr>
      <td><strong>Probation Period</strong></td>
      <td>The initial employment period during which leave restrictions may apply based on policy configuration.</td>
    </tr>
    <tr>
      <td><strong>Proration</strong></td>
      <td>The calculation of partial leave allowances based on actual employment duration within a leave cycle.</td>
    </tr>
    <tr>
      <td><strong>Unpaid Leave</strong></td>
      <td>Leave without salary compensation, which triggers automatic payroll deductions when approved.</td>
    </tr>
    <tr>
      <td><strong>Working Days</strong></td>
      <td>Leave calculation method that counts only business days, excluding weekends and public holidays.</td>
    </tr>
  </tbody>
</table>
      </div>
    </section>
  
    </main>

    <footer>
      <div>Generated by Bayzat Documentation System</div>
      <div>Last updated: 2026-02-24</div>
    </footer>
  </div>
</body>
</html>